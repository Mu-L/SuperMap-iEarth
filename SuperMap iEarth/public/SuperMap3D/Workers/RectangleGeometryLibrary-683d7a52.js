define(["exports","./Cartographic-bd336518","./when-b60132fc","./Check-7b2a090c","./Intersect-249321ca","./Math-09b0b739","./GeometryAttribute-b4292e3e","./Cartesian2-b18a5d2b"],(function(t,n,a,r,e,o,s,i){"use strict";var g=Math.cos,h=Math.sin,c=Math.sqrt,u={computePosition:function(t,n,r,e,o,s,i){var u=n.radiiSquared,C=t.nwCorner,l=t.boundingRectangle,S=C.latitude-t.granYCos*e+o*t.granXSin,d=g(S),w=h(S),M=u.z*w,X=C.longitude+e*t.granYSin+o*t.granXCos,Y=d*g(X),m=d*h(X),b=u.x*Y,p=u.y*m,v=c(b*Y+p*m+M*w);if(s.x=b/v,s.y=p/v,s.z=M/v,r){var f=t.stNwCorner;a.defined(f)?(S=f.latitude-t.stGranYCos*e+o*t.stGranXSin,X=f.longitude+e*t.stGranYSin+o*t.stGranXCos,i.x=(X-t.stWest)*t.lonScalar,i.y=(S-t.stSouth)*t.latScalar):(i.x=(X-l.west)*t.lonScalar,i.y=(S-l.south)*t.latScalar)}}},C=new s.Matrix2,l=new n.Cartesian3,S=new n.Cartographic,d=new n.Cartesian3,w=new e.GeographicProjection;function M(t,a,r,e,o,i,g){var h=Math.cos(a),c=e*h,u=r*h,S=Math.sin(a),M=e*S,X=r*S;l=w.project(t,l),l=n.Cartesian3.subtract(l,d,l);var Y=s.Matrix2.fromRotation(a,C);l=s.Matrix2.multiplyByVector(Y,l,l),l=n.Cartesian3.add(l,d,l),i-=1,g-=1;var m=(t=w.unproject(l,t)).latitude,b=m+i*X,p=m-c*g,v=m-c*g+i*X,f=Math.max(m,b,p,v),G=Math.min(m,b,p,v),x=t.longitude,R=x+i*u,y=x+g*M,O=x+g*M+i*u;return{north:f,south:G,east:Math.max(x,R,y,O),west:Math.min(x,R,y,O),granYCos:c,granYSin:M,granXCos:u,granXSin:X,nwCorner:t}}u.computeOptions=function(t,n,a,r,e,s,g){var h,c,u,C,l,X=t.east,Y=t.west,m=t.north,b=t.south,p=!1,v=!1;m===o.CesiumMath.PI_OVER_TWO&&(p=!0),b===-o.CesiumMath.PI_OVER_TWO&&(v=!0);var f=m-b;u=(l=Y>X?o.CesiumMath.TWO_PI-Y+X:X-Y)/((h=Math.ceil(l/n)+1)-1),C=f/((c=Math.ceil(f/n)+1)-1);var G=i.Rectangle.northwest(t,s),x=i.Rectangle.center(t,S);0===a&&0===r||(x.longitude<G.longitude&&(x.longitude+=o.CesiumMath.TWO_PI),d=w.project(x,d));var R=C,y=u,O=i.Rectangle.clone(t,e),P={granYCos:R,granYSin:0,granXCos:y,granXSin:0,nwCorner:G,boundingRectangle:O,width:h,height:c,northCap:p,southCap:v};if(0!==a){var W=M(G,a,u,C,0,h,c);m=W.north,b=W.south,X=W.east,Y=W.west,P.granYCos=W.granYCos,P.granYSin=W.granYSin,P.granXCos=W.granXCos,P.granXSin=W.granXSin,O.north=m,O.south=b,O.east=X,O.west=Y}if(0!==r){a-=r;var _=i.Rectangle.northwest(O,g),I=M(_,a,u,C,0,h,c);P.stGranYCos=I.granYCos,P.stGranXCos=I.granXCos,P.stGranYSin=I.granYSin,P.stGranXSin=I.granXSin,P.stNwCorner=_,P.stWest=I.west,P.stSouth=I.south}return P},t.RectangleGeometryLibrary=u}));
