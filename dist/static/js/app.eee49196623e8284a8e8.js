webpackJsonp([1],{"/3kS":function(e,t){},"/XtK":function(e,t){},"1H+k":function(e,t){},"1z3j":function(e,t){},"3SJ5":function(e,t){},"5KzI":function(e,t){},"5XlY":function(e,t){},"6nKi":function(e,t){},"76oY":function(e,t){},"7hdx":function(e,t){},"9ClR":function(e,t){},ADsE:function(e,t,i){e.exports=i.p+"static/img/loading.3497b00.jpg"},I6gq:function(e,t,i){(function(t){var i;i=function(){return function(e){function t(s){if(i[s])return i[s].exports;var a=i[s]={exports:{},id:s,loaded:!1};return e[s].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){e.exports=i(1)},function(e,t,i){"use strict";function s(e){var t=new n(e),i=o(n.prototype.request,t);return a.extend(i,n.prototype,t),a.extend(i,t),i}var a=i(2),o=i(3),n=i(4),r=i(22),l=s(i(10));l.Axios=n,l.create=function(e){return s(r(l.defaults,e))},l.Cancel=i(23),l.CancelToken=i(24),l.isCancel=i(9),l.all=function(e){return Promise.all(e)},l.spread=i(25),e.exports=l,e.exports.default=l},function(e,t,i){"use strict";function s(e){return"[object Array]"===c.call(e)}function a(e){return void 0===e}function o(e){return null!==e&&"object"==typeof e}function n(e){return"[object Function]"===c.call(e)}function r(e,t){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),s(e))for(var i=0,a=e.length;i<a;i++)t.call(null,e[i],i,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var l=i(3),c=Object.prototype.toString;e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===c.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:o,isUndefined:a,isDate:function(e){return"[object Date]"===c.call(e)},isFile:function(e){return"[object File]"===c.call(e)},isBlob:function(e){return"[object Blob]"===c.call(e)},isFunction:n,isStream:function(e){return o(e)&&n(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:r,merge:function e(){function t(t,s){"object"==typeof i[s]&&"object"==typeof t?i[s]=e(i[s],t):i[s]=t}for(var i={},s=0,a=arguments.length;s<a;s++)r(arguments[s],t);return i},deepMerge:function e(){function t(t,s){"object"==typeof i[s]&&"object"==typeof t?i[s]=e(i[s],t):i[s]="object"==typeof t?e({},t):t}for(var i={},s=0,a=arguments.length;s<a;s++)r(arguments[s],t);return i},extend:function(e,t,i){return r(t,function(t,s){e[s]=i&&"function"==typeof t?l(t,i):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t){"use strict";e.exports=function(e,t){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return e.apply(t,i)}}},function(e,t,i){"use strict";function s(e){this.defaults=e,this.interceptors={request:new n,response:new n}}var a=i(2),o=i(5),n=i(6),r=i(7),l=i(22);s.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=l(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[r,void 0],i=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)i=i.then(t.shift(),t.shift());return i},s.prototype.getUri=function(e){return e=l(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},a.forEach(["delete","get","head","options"],function(e){s.prototype[e]=function(t,i){return this.request(a.merge(i||{},{method:e,url:t}))}}),a.forEach(["post","put","patch"],function(e){s.prototype[e]=function(t,i,s){return this.request(a.merge(s||{},{method:e,url:t,data:i}))}}),e.exports=s},function(e,t,i){"use strict";function s(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var a=i(2);e.exports=function(e,t,i){if(!t)return e;var o;if(i)o=i(t);else if(a.isURLSearchParams(t))o=t.toString();else{var n=[];a.forEach(t,function(e,t){null!==e&&void 0!==e&&(a.isArray(e)?t+="[]":e=[e],a.forEach(e,function(e){a.isDate(e)?e=e.toISOString():a.isObject(e)&&(e=JSON.stringify(e)),n.push(s(t)+"="+s(e))}))}),o=n.join("&")}if(o){var r=e.indexOf("#");-1!==r&&(e=e.slice(0,r)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},function(e,t,i){"use strict";function s(){this.handlers=[]}var a=i(2);s.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},s.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},s.prototype.forEach=function(e){a.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=s},function(e,t,i){"use strict";function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var a=i(2),o=i(8),n=i(9),r=i(10);e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=a.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),a.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||r.adapter)(e).then(function(t){return s(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return n(t)||(s(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,i){"use strict";var s=i(2);e.exports=function(e,t,i){return s.forEach(i,function(i){e=i(e,t)}),e}},function(e,t){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,i,s){"use strict";function a(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var o=s(2),n=s(11),r={"Content-Type":"application/x-www-form-urlencoded"},l={adapter:function(){var e;return"undefined"!=typeof XMLHttpRequest?e=s(12):void 0!==t&&"[object process]"===Object.prototype.toString.call(t)&&(e=s(12)),e}(),transformRequest:[function(e,t){return n(t,"Accept"),n(t,"Content-Type"),o.isFormData(e)||o.isArrayBuffer(e)||o.isBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e)?e:o.isArrayBufferView(e)?e.buffer:o.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):o.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};o.forEach(["delete","get","head"],function(e){l.headers[e]={}}),o.forEach(["post","put","patch"],function(e){l.headers[e]=o.merge(r)}),e.exports=l},function(e,t,i){"use strict";var s=i(2);e.exports=function(e,t){s.forEach(e,function(i,s){s!==t&&s.toUpperCase()===t.toUpperCase()&&(e[t]=i,delete e[s])})}},function(e,t,i){"use strict";var s=i(2),a=i(13),o=i(5),n=i(16),r=i(19),l=i(20),c=i(14);e.exports=function(e){return new Promise(function(t,d){var u=e.data,m=e.headers;s.isFormData(u)&&delete m["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",v=e.auth.password||"";m.Authorization="Basic "+btoa(h+":"+v)}var g=n(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),o(g,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var i="getAllResponseHeaders"in p?r(p.getAllResponseHeaders()):null,s={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:i,config:e,request:p};a(t,d,s),p=null}},p.onabort=function(){p&&(d(c("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){d(c("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),d(c(t,e,"ECONNABORTED",p)),p=null},s.isStandardBrowserEnv()){var y=i(21),f=(e.withCredentials||l(g))&&e.xsrfCookieName?y.read(e.xsrfCookieName):void 0;f&&(m[e.xsrfHeaderName]=f)}if("setRequestHeader"in p&&s.forEach(m,function(e,t){void 0===u&&"content-type"===t.toLowerCase()?delete m[t]:p.setRequestHeader(t,e)}),s.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){p&&(p.abort(),d(e),p=null)}),void 0===u&&(u=null),p.send(u)})}},function(e,t,i){"use strict";var s=i(14);e.exports=function(e,t,i){var a=i.config.validateStatus;!a||a(i.status)?e(i):t(s("Request failed with status code "+i.status,i.config,null,i.request,i))}},function(e,t,i){"use strict";var s=i(15);e.exports=function(e,t,i,a,o){var n=new Error(e);return s(n,t,i,a,o)}},function(e,t){"use strict";e.exports=function(e,t,i,s,a){return e.config=t,i&&(e.code=i),e.request=s,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,i){"use strict";var s=i(17),a=i(18);e.exports=function(e,t){return e&&!s(t)?a(e,t):t}},function(e,t){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,i){"use strict";var s=i(2),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,i,o,n={};return e?(s.forEach(e.split("\n"),function(e){if(o=e.indexOf(":"),t=s.trim(e.substr(0,o)).toLowerCase(),i=s.trim(e.substr(o+1)),t){if(n[t]&&a.indexOf(t)>=0)return;n[t]="set-cookie"===t?(n[t]?n[t]:[]).concat([i]):n[t]?n[t]+", "+i:i}}),n):n}},function(e,t,i){"use strict";var s=i(2);e.exports=s.isStandardBrowserEnv()?function(){function e(e){var t=e;return i&&(a.setAttribute("href",t),t=a.href),a.setAttribute("href",t),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:"/"===a.pathname.charAt(0)?a.pathname:"/"+a.pathname}}var t,i=/(msie|trident)/i.test(navigator.userAgent),a=document.createElement("a");return t=e(window.location.href),function(i){var a=s.isString(i)?e(i):i;return a.protocol===t.protocol&&a.host===t.host}}():function(){return!0}},function(e,t,i){"use strict";var s=i(2);e.exports=s.isStandardBrowserEnv()?{write:function(e,t,i,a,o,n){var r=[];r.push(e+"="+encodeURIComponent(t)),s.isNumber(i)&&r.push("expires="+new Date(i).toGMTString()),s.isString(a)&&r.push("path="+a),s.isString(o)&&r.push("domain="+o),!0===n&&r.push("secure"),document.cookie=r.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,i){"use strict";var s=i(2);e.exports=function(e,t){t=t||{};var i={},a=["url","method","params","data"],o=["headers","auth","proxy"],n=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];s.forEach(a,function(e){void 0!==t[e]&&(i[e]=t[e])}),s.forEach(o,function(a){s.isObject(t[a])?i[a]=s.deepMerge(e[a],t[a]):void 0!==t[a]?i[a]=t[a]:s.isObject(e[a])?i[a]=s.deepMerge(e[a]):void 0!==e[a]&&(i[a]=e[a])}),s.forEach(n,function(s){void 0!==t[s]?i[s]=t[s]:void 0!==e[s]&&(i[s]=e[s])});var r=a.concat(o).concat(n),l=Object.keys(t).filter(function(e){return-1===r.indexOf(e)});return s.forEach(l,function(s){void 0!==t[s]?i[s]=t[s]:void 0!==e[s]&&(i[s]=e[s])}),i}},function(e,t){"use strict";function i(e){this.message=e}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,e.exports=i},function(e,t,i){"use strict";function s(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var i=this;e(function(e){i.reason||(i.reason=new a(e),t(i.reason))})}var a=i(23);s.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},s.source=function(){var e;return{token:new s(function(t){e=t}),cancel:e}},e.exports=s},function(e,t){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}}])},e.exports=i()}).call(t,i("W2nU"))},IisM:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCACBAIEDAREAAhEBAxEB/8QAHAABAAICAwEAAAAAAAAAAAAAAAUGBAcCAwgK/8QAPRAAAQQCAQICBAoIBwEAAAAAAwACBAUBBhIREwcUFRYhIhcjMVRWYZSV0tUyNDZCUnN2s0FDUWJygbSR/8QAGQEBAQEBAQEAAAAAAAAAAAAAAAIDBAEF/8QAQhEAAgECAgQICQsEAwEAAAAAAAIBAxIRIRMiMTJBQlFTYYGR8AQjM1JicaGx0RRDcnOCkqKywdLhRIPT8TRjwsP/2gAMAwEAAhEDEQA/APu4QBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQFL3iXMj11aGFLPCfY3tfXHkRn5EdgJDJD39ouMchv5Cb0c3j/B14EWtCIlmnC62m78s+v8AQyqzMJGE2wzWdPV2ZcpjepMz6ZbX95F/Eq00czS+7B5om56p2x8B6kzPpltf3kX8SaaOZpfdgaJueqdsfAepMz6ZbX95F/EmmjmaX3YGibnqnbHwHqTM+mW1/eRfxJpo5ml92Bom56p2x8DlqL5oLXZ6eTYzLINUas8sewLk8nHnI5yGw4rurst6iHxb14t4+5+m9K1rJSeFVWaXzTrzn3cMbBTxhqiy7tC2Rh3jLp2+rOC9rA2CAIAgCAIAgCAIAgCAoe/fqmu/1ZUf25i3oban1T+9TGvup9YnvM3dQ356fDNeeZkrEkbpGIpexKdGwwmHYAbkx2M4LkbnNG5pHNb/AAYex/lCacPOknK2e+B7Vh5XU29+/twkkdf9IxqOuZfmbiyzjtmcUo8vc8hn4jCcTDuJZGRZGN3FznEJj99/vvmpbLto4m3giM/cVTuhIvnW75cGZ1bRfi12pNNdxfJf1DBA/OfjZL2545zjHTPZFjHdN+j0a3hz5vYlKm1R4XLDj+zLP9egVHhFx4e/u7xkSNPYjt6uDZC6NbLjsK5uPbhhenEwuvy8hGaQbv8Ac35eil1lGZJ4szHfp/1wHqtcsNyxiVfXP2t3r+dQ/wDjlLR/I0P7n5oJXylT7H5ZL0sTQIAgCAIAgCAIAgCAICh79+qa7/VlR/bmLehtqfVP71Ma+6n1ie8ktv2PGt1bZQ2iLMOcYYYCdeD84zh53Pw12HdtgWu65b/mOCz99TRp6R8J3cOvHvgVUexceH9OE0zuW5u2TMAUNposSMxkgg3u6PdYOb7z+TM45MjYzkccnuOc5xX8PfZw7aNGKd0zg0tyY7kdPr6jmqVr7YiMpn/ezb32YZ1q3vrO8zEzZSMnzCj4jhd04+zr1eYmMex5y9G5ITGepO2xWlNUxtjbh3gzZ2fC6dycZ4enHr68og2t4VW+CR51IV/vAd56I3OfbkJctHJY3p8jRl7ZP+ch/t9i5vCkzV4z2pjnnwx32nR4O0YSvJl1xwe+f9ll1z9rd6/nUP8A45SxfyND+5+aDVfKVPsflkvSxNAgCAIAgCAIAgCAIAgNfeIx2RayllEw7I42y10gmGYxl+WBjziOwzGctxl2Wt9zk5uOS6PBlxZ8NrU3/wDHfaZV5wRW2+Mjvj1kFYb3pFrkTrGnsJmQ4fgffiRH9vD8ty/hj0h0xyy1vL5OfFn1q1oV0xtqLGO3o/B7zNq1JsLld8dmHR6nj39eRG+s3hr9GZH3fC/MFejr85+Of2E3Uebftj/IPWbw1+jMj7vhfmCaOvzn45/YLqPNv2x/kMyHuehV58SoNHOiyGtczBQw4jH8X46Ob1xYe3Dsf4fV/wDZaj4Q0YM6t7/XuRB7FWikxMI2PRn26/D7Sa0ezj3F5uFlFaVgJRKRw2naxhcYYCaLPNrXkbh2HMd+i93uqa6ylOik7V0mPXYaUmh2qsuzU923rx77TZS5TYIAgCAIAgCAIAgCAICIvKODsMF1dO7uA90Z2EA9rDCKPDmteNz2EZ1ywhBu5Dc3g5/+nRaU6jUmuXaQ6Q8YSUj4KNd+e3X2mD+XLb5W/mU+x/3kaBOVu2PgPgo1357dfaYP5cnyt/Mp9j/vGgTlbtj4D4KNd+e3X2mD+XJ8rfzKfY/7xoE5W7Y+A+CjXfnt19pg/lyfK38yn2P+8aBOVu2PgWzXtYrdZFJHXZkEdKeNxzSiMIV+BYfgTMdoQR4YPBCceg+WO4/m96xqVWqzEthq8sROzl9haU1THCNpYlmWEAQBAEAQBAEAQBAEAQBAEAQBAEAQDrj2/Vnpn6s9MZ6Z/wCvagCAIAgCAIAgCA8M2Ulgo9RMJKm90/pbzI2bBsgZVtOcaQYJZUq1tabXoYI7MDjjraWwkWxGuZP8vJY/yYfsJGN0YLlZ82ni05NRHfLz3TR5WdB8lpmIWcWxwed99ef7jokY+Yj37cOE2v4cOdGfuAAzLIrmaFQTZWZTNmiDZbml7syQeDF2cxbEQuxHhBHKG9opTY7JLOHcIxnN4ROMUZmF8s+Wp5PxO/ZqcuPtOihhGljFvIp5+bxpuc1/cRtft+wXGsaTXAtfDUUqE7T53WV4nFFcWL6vyJnV9hBxrrzAm2Th5jzIzjSnBkEex3mXj9+ppIlSszL4Rg2n/ptRL79dHv4mHr2ErVepTorDeD4rof6nB3ss26nH2bM88i17TndX32pyz2kDXrHFdt0kdZW4Zfw42K2taQsnzc6DUml4mMJFAQZobRQSOZ2XveZZU9FKVIhWqLdR1n1PKPl5/RPB0G1TSy9OWZabWv4tNfcTD0Ns/qV+u2bcbOufs5Nqsoz4u0+F9S6kjwKHFQaNs1doEi2wZpqgtphxTbDZOb2bIHZ5hGzhw6P0anRVppxTVvF+EPfMPfqPWs48J82nE/nJalVl0mlZfGeDJCWJZrpRvjNL9jvseI4CninXtttN6wFncFkmqy0zA4DsxWn8nOmisxtYSfnOIddMso8Une7kVsgj2e49puekqi0kxWMLr+J5mpyb9nsM4l2qPgzY22bKk5fORv8Azd+zpLVruyW4NXuLCFY4ziZQahFeWLD2GyjVF7dVcJrJoWsdYnzNrKQwJ11DrQjiukBqWMDGkzJL35vTWaqLK5RUrZaiX00fbxN99y//ALIwjg0R2imzQ2F1OjE776N3Sfp7ia72ehmRFftMuDtDIQfEIrmV2nVsKNPkeGe2S5RQNsJQ3R5FaaY6eQrMRo5iXUhxGynGfG595hedtTiad2gyaq+p8po56mevOplHE9XqIWpMVMIrbtNI/wCNW8/Hcipfn5+Bx3m1za3NQV1lOshyNWgAzKGzY9Ua+VjPiESTPDTtnQTxDulUsVrWzGyhuCH3O8F43pRW1H1VW2o+O5W5nY9nK07eHGeQVWuddZm8WkxjfR57DUl/QwjLYZGizd3xIhizesgWux7mCJa1762FaOHUR9DhXMK09IGKSQ7vU8Wri8XNaNsyRJzjg/mvKy0cJaExSnR1GvlNfTWWckYvf18h7RmrlGktapW10tv1NDfTe/6FkfT9nq1fNPohAEAQBAEAQHnw3hJt8iDFieuVZBbDFJjR8Qq/amdIppsuawcscbdq+rsCDJLL8dIp25dy4PY8Pxa7o8JpRMzoWm6OO9H9KLunJvY+qDinwWrMREVlW30Hn/7Ij/c5SeDoG5ti7KyXtlVJsL3Wdc1UNqCnlwjRq+tm3GLKSWOWzsWlsjQLqQ6HIGYMdsxrMvhhCzmSJr0saeFJradR30d/HeyziU8U1P5LijVwqY1FummiXynES+/jvryj/wAclov9HgTdcFS00OshHjH150aSWONjmApresmla44I7zZKaJCIFrst+MIT3+DHveskrTFS95Zo1+u9XjDLD3FvSiVhFhVnU6Nx02d+wwtn1PZLm2m2ldaU8N+KM2u1OJ0KdMxAh27XOv7DjGmwc4tDmBVjguaRwQxYZu8x75PuVTqoiwrKzTde9mGD2biz6G/h/OAqU3ZpZZVcpRN/j78b6a+57eggfgpsGFkdjb5woJdk0269ENg1vo6SPVY2qR3ZmvJDLa4myG664gXQ7SPGG50bnGexknBr+UrhGNJInR1kvveHwfTZeZx8Nzpx5YnwacZwqvhFSi8JqWaln28NTz+vaYNj4Pn9Yg39RZVzZQYzyjkT6LWxvBcOvK6eKxzEqdbgjl5jxAS3NISQGwNM7LPPAjGmc6XwpYpyjq2HBY77ko6WYO7z1bk47mRD+C4VIdXXH00TfvR78aaJn+OOnIzqLQ911HEiv1vYKPNNHHMZTDtIMnvOPc2EabYWF3GrfJR58+saEkepIMoxmjyPLHZCYzm+XrUatrVEa/O+KfIiaiJfuI+V/RjiWlGrSxVXW2cLLsePUwe+zLU2p0bMiws8PBsZ6RHe2LNyzJJNJuHaiulmMSOGM+Aau4YgO1/IY4Qto2tYEDQMMEzJ+fPvjTzjbYmh5nr237NJhnpMOjc1C9BjrQ7aW7y2HB5lmcWeh0Z6+uR9r4f2O1yYUvaZ1YKXV15hxZ2txTQZUqzJmxjx5Mt89052K2vhTTNDSkJOgzJFpa+fYeG9kY3q11pw0U4nCW3H14s1I4fnHfj+gmOBLUZqzE1JXFV301NfB9mPETbFPB0wd7zHg6FskW8hbi2x18GwDgApZFOyqcTX49IzEdjgwZI8xLFlsJoOTrRo48eUFoa30VGhhY8fs1qcpNK2pZfD3369+z6FmW59uXgRRqQ61b1vhbJSU1LPQyvv5an2LNht9cp0hAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAf/9k="},"LfC/":function(e,t){},MH9U:function(e,t){},MXRM:function(e,t){},NGqd:function(e,t){},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s,a,o,n,r,l,c=i("//Fk"),d=i.n(c),u={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("sm-viewer"),this._v(" "),t("heat-map")],1)},staticRenderFns:[]},m=i("VU/8")({name:"app"},u,!1,null,null,null).exports,p=i("AXdl"),h=(i("yG1u"),i("Gu7T")),v=i.n(h),g={debug:!0,state:{isInitViewer:!1,ToolBarShow:!1,toolBar:[0,0,0,0,0,0,0,0,0,0,0,0,0],addLayer:[1,0,0,0],sceneAtttribute:[1,0,0,0,0],terrain:[1,0,0,0],clip:[1,0,0,0],analysis:[1,0,0,0,0],cityPlan:[1,0,0,0,0],onlineEdit:[1,0,0,0],specialEffects:[0,0,0,0,0],hotSpots:[0,0],compass:!0,infoManage:!0,S3MLayerManage:null,imgLayerManage:null,terrainLayerManage:null,LayerAttributeToolbar:!1,LayerAttribute:[1,0,0,0],selectedLayerName:null,isEdit:!1,isEditZ:!1,zindex:99,toolBaseColor:[!0,!0,!0,!0,!0,!0,!0,!0,!0],isInitEcharts:!1},setZindex:function(e){this.state.zindex=e},setisInitViewer:function(e){this.state.isInitViewer=e},setToolBarShow:function(e){this.state.ToolBarShow=e},setSpecialEffects:function(e,t){this.state.specialEffects[e]=t,this.state.specialEffects=[].concat(v()(this.state.specialEffects))},setHotSpots:function(e,t){this.state.hotSpots[e]=t,this.state.hotSpots=[].concat(v()(this.state.hotSpots))},setCompass:function(e){this.state.compass=e},setInfoManage:function(e){this.state.infoManage=e},setToolBarAction:function(e){switch(e){case 0:this.state.toolBar[0]=!this.state.toolBar[0];break;case 1:this.state.toolBar[1]=!this.state.toolBar[1],this.state.toolBaseColor[1]=!this.state.toolBaseColor[1];break;case 2:this.state.toolBar[2]=!this.state.toolBar[2],this.state.toolBaseColor[2]=!this.state.toolBaseColor[2];break;case 3:this.state.toolBar[3]=!this.state.toolBar[3],this.state.toolBaseColor[3]=!this.state.toolBaseColor[3];break;case 4:this.state.toolBar[4]=!this.state.toolBar[4],this.state.toolBaseColor[4]=!this.state.toolBaseColor[4];break;case 5:this.state.toolBar[5]=!this.state.toolBar[5],this.state.toolBaseColor[5]=!this.state.toolBaseColor[5];break;case 6:this.state.toolBar[6]=!this.state.toolBar[6],this.state.toolBaseColor[6]=!this.state.toolBaseColor[6];break;case 7:this.state.toolBar[7]=!this.state.toolBar[7],this.state.toolBaseColor[7]=!this.state.toolBaseColor[7];break;case 8:this.state.toolBar[8]=!this.state.toolBar[8],this.state.toolBaseColor[8]=!this.state.toolBaseColor[8];break;case 9:this.state.toolBar[9]=!this.state.toolBar[9];break;case 10:this.state.toolBar[10]=!this.state.toolBar[10];break;case 11:this.state.toolBar[11]=!this.state.toolBar[11];break;default:this.state.toolBar=[0,0,0,0,0,0,0,0,0,0,0,0]}this.state.toolBar=[].concat(v()(this.state.toolBar))},setAddLayerAction:function(e){this.state.addLayer=e},setTerrainAction:function(e){this.state.terrain=e},setSceneAtttribute:function(e){this.state.sceneAtttribute=e},setClipAction:function(e){this.state.clip=e},setAnalysisAction:function(e){this.state.analysis=e},setCityPlanAction:function(e){this.state.cityPlan=e},setOnlineEditrAction:function(e){this.state.onlineEdit=e},setS3MLayerManage:function(e){this.state.S3MLayerManage=e},setImgLayerManage:function(e){this.state.imgLayerManage=e},setTerrainLayerManage:function(e){this.state.terrainLayerManage=e},setLayerAttributeToolbal:function(e){this.state.LayerAttributeToolbar=e},setLayerAttribute:function(e){this.state.LayerAttribute=e},setSelectedLayerName:function(e){this.state.selectedLayerName=e},setIsEdit:function(e){this.state.isEdit=e},setIsEditZ:function(e){this.state.isEditZ=e}},y=i("bOdI"),f=i.n(y),C=(s={longitude:"经度(°)",latitude:"纬度(°)",altitude:"高程(米)",login:"登录",logout:"登出",account:"我的账户 :",save:"保存",exit:"退出",myMsg:"我的消息 :",uploadData:"上传数据",name:"名称",address:"地址",aqiTitle:"PM2.5指数实时查询",onlineTerrain:"在线地形",stkTerrain:"STK在线地形",tiandituTerrain:"天地图在线地形",supermapOnlineTerrain:"SuperMap在线地形",title:"标题",confirm:"确定",cancel:"取消",objectEditor:"对象编辑",description:"描述",compass:"指北",s3mLayer:"S3M图层",imageryLayer:"影像图层",terrainLayer:"地形图层",sctTerrainLayer:"地形图层",wmsLayer:"WMS服务",wmtsLayer:"WMTS服务",arcgisLayer:"ArcGIS服务",supermaprestLayer:"SuperMap地图服务",featureQuery:"属性查询",selDataSource:"请选择数据源",selDataSet:"请选择数据集",urlNotNullMsg:"URL不能为空，请输入url!",urlErrorMsg:"请输入正确的服务地址!",layerNameNotNullMsg:"图层名称不能为空，请输入图层名称!",location:"定位",notSupportLocation:"您的浏览器不支持获取位置信息功能！",layerList:"图层列表",confirmDelLayer:"是否确定删除该图层？",DelLayer:"删除图层",kmlLayer:"KML图层",markerLayer:"MARKER图层",selLocalFile:"选择本地文件",measureArea:"测面",measureDis:"测距",measureHeight:"测高",pattern:"绘制模式：",spatialMeasuring:"空间量算",StickMeasurement:"贴地量算",heightInterval:"等高距(米)：",SingleContour:"单等高线",MoreContour:"多等高线",measure:"量算",kmUnit:"千米",mUnit:"米",distance:"距离",sqkmUnit:"平方公里",sqmUnit:"平方米",area:"面积",smOnlineService:"公有数据服务",customService:"自定义服务",localKML:"本地数据",portalService:"我的服务",myScenes:"我的场景",skyAtmosphereEffect:"大气渲染",sunEffect:"光照渲染",fogEffect:"雾化效果",expand:"展开",layerManager:"图层管理",addLayer:"添加图层",setBaseLayer:"底图设置",BaseMapImg:"底图_img",addMarker:"添加MARKER",setEffect:"渲染设置",fold:"收起",publicService:"公共服务",specialEffects:"特效",HotSpots:"热点",mycontent:"我的内容",imgServiceType:"图片(默认影像)",bingServiceType:"BingMap全球影像服务",tdtServiceType:"天地图全球影像服务",osmServiceType:"openstreetmap地图",tianditu:"天地图",layerExistMsg:"该图层已经存在，请勿重复加载!",imgUrlErrorMsg:"影像服务URL错误，影像加载失败！",scpUrlErrorMsg:"SCP URL地址错误，S3M图层加载失败！",visualization:"可视化",splitSrc:"卷帘对比",animationLand:"陆地温度异常变化",workspaceSaveOK:"工作空间保存成功！",workspaceSaveFail:"工作空间保存失败",depthAgainst:"深度检测",cloud:"云层",skyBox:"天空盒",analysis:"三维分析",viewShed:"可视域",showFrame:"显示帧率",skyline:"天际线",sightline:"通视",startingInformation:"起点信息",endInformation:"终点信息",projectImage:"视频投放",shadowAnalysis:"阴影分析",spacing:"间距（米）",profile:"剖面",profileInformation:"剖面信息",ObserverInformation:"观察者信息",sceneOptions:"场景属性",otherOptions:"其他属性",sceneColor:"场景颜色",flood:"泛光",camera:"相机",about:"关于",close:"关闭",basicOptions:"基本属性",styleSetting:"风格设置",volumeData:"体渲染",Setting:"设置",sceneName:"场景名称",viewMode:"视图模式",multiViewport:"分屏显示",onePort:"不使用分屏",horizontalSnap:"水平分屏",verticalSnap:"垂直分屏",tripeSnap:"三视口",quadSnap:"四视口",split:"卷帘效果",splitNONE:"禁用卷帘",splitLEFT:"屏蔽卷帘左侧",splitRIGHT:"屏蔽卷帘右侧",splitTop:"屏蔽卷帘上侧",splitBOTTOM:"屏蔽卷帘下侧",coordinates:"查询坐标值",queryCoordinates:"坐标查询（经度，纬度，高程）",underground:"地下",openUnderground:"开启地下",rainAndSnowShow:"雨雪",openRainSpecialEffects:"开启雨景",openSnowSpecialEffects:"开启雪景",rainDensity:"雨滴密度",angle:"下落角度",rainSpeed:"下落速度",snowDesity:"雪花密度",sceneFlood:"场景泛光",openSceneFlood:"开启泛光",threshold:"亮度阈值",bloomIntensity:"泛光强度",flyRoute:"飞行线路",startFly:"开始",pauseFly:"暂停旋转",stopFly:"停止",observe:"观察",rotate:"旋转（°）",rotateSpeed:"旋转速度",rotatePoint:"绕点旋转",cancelRotatePoint:"停止旋转",rotateCirculation:"循环",restore:"恢复旋转",interactive:"交互",enableWebcam:"启用摄像头",newContent:"更新内容",earth:"地球",shadowMap:"阴影",sun:"太阳",timeline:"时间轴",brightness:"亮度",contrast:"对比度",hue:"色调",saturation:"饱和度",gamma:"伽马",RightClickSetS3MLayerProperties:"点击右键设置S3M图层属性",layerOptions:"图层属性",MoveUpOneLevel:"上移一层",MoveDownOneLevel:"下移一层",MoveToTheTop:"至顶",MoveToTheBottom:"至底",visibility:"可见性",layerName:"图层名称",shadow:"阴影",shadowMode:"阴影模式",noShadow:"无阴影",meter:"米",degree:"度",setSelectionShadow:"显示选中对象阴影",setShadow:"显示所有对象阴影",shadowDarkness:"阴影明暗度",display:"可显示",multiSelection:"多选择",cullEnabled:"双面渲染",bReleaseColor:"释放颜色内存",visibleDistanceMin:"最小可见高度（米）",visibleDistanceMax:"最大可见高度（米）",selectEffect:"选中效果",selectColorType:"选中颜色模式",mix:"混合",replace:"替换",selectColor:"选中颜色",onlyShowSlection:"仅选中对象可见",onlyHideSlection:"仅选中对象隐藏",showAll:"显示全部",bottomAltitude:"底部高程(米)",fillStyle:"填充风格",fillMode:"填充模式",lineMode:"线框模式",fillAndLine:"填充和线框模式",foreColor:"前景色",lineColor:"线颜色",direction:"方向",roll:"翻转",horizontalFov:"水平视角(°)",verticalFov:"垂直视角(°)",colorSetting:"颜色设置",LineColorSetting:"线颜色设置",promptLineColor:"提示线颜色",visibleColor:"可见区域颜色",invisibleColor:"不可见区域颜色",displayVisualsBody:"显示可视体",displayInvisibleBody:"显示不可视体",addViewshed:"添加可视域",clear:"清除",date:"日期选择",time:"时间",timeInterval:"时间间隔",length:"长度（米）",width:"宽度（米）",height:"高度（米）",firstPoint:"第一点",secondPoint:"第二点",thirdPoint:"第三点",startTime:"开始时间",endTime:"结束时间",extrude:"拉伸（米）",extrudeHeight:"拉伸高度(米)",sunlight:"日照效果",viewPosition:"观察点位置",additionalHeight:"附加高度(米)",visualRange:"可视距离(米)",directionAngle:"方向角(°)",ElevationAngle:"俯仰角(°)",hideenColor:"不可视颜色",addViewPoint:"添加观察点",addTarget:"添加目标点",displayMode:"显示模式",polyline:"线显示",polygon:"面显示",skylinesectorbody:"闭合体",noOcclusor:"无闭合体",visibleVolume:"可视体",novisibleVolume:"不可视体",skylineColor:"天际线颜色",skylineWidth:"天际线宽度",skylineRadius:"分析半径"},f()(s,"skyline","天际线"),f()(s,"graphDisplay","二维显示"),f()(s,"BoxClip","Box裁剪"),f()(s,"BoxInteractiveClip","Box交互裁剪"),f()(s,"PlaneClip","平面裁剪"),f()(s,"CrossClip","Cross裁剪"),f()(s,"ClipModel","裁剪模式"),f()(s,"CutInsideBoxFrame","带线框盒内裁剪"),f()(s,"CutOutBoxFrame","带线框盒外裁剪"),f()(s,"CutInsideBoxNOFrame","不带线框盒内裁剪"),f()(s,"CutOutBoxNOFrame","不带线框盒外裁剪"),f()(s,"terrainSlope","坡度坡向"),f()(s,"isoline","等值线"),f()(s,"submergeAnalyze","淹没分析"),f()(s,"thematicMapByField","字段专题图"),f()(s,"chooseField","选择专题字段"),f()(s,"BuildingType","建筑用途"),f()(s,"BuidlingFloors","建筑层数"),f()(s,"house","住宅"),f()(s,"residential","商业用地"),f()(s,"buildingFloor1","1-9层"),f()(s,"buildingFloor2","10-20层"),f()(s,"buildingFloor3","20层以上"),f()(s,"layerAlpha","图层透明度"),f()(s,"TerrainOperation","地形操作"),f()(s,"terrainModify","地形修改"),f()(s,"operation","操作"),f()(s,"modify","修改"),f()(s,"Excavation","开挖"),f()(s,"analyze","分析"),f()(s,"eliminate","清除"),f()(s,"EditingTips","注：点击选中再改变属性或清除"),f()(s,"TerrainMining","地形开挖"),f()(s,"TerrainMiningDepth","开挖深度(米)"),f()(s,"analysisArea","分析区域"),f()(s,"SpecifyPolygon","指定多边形区域"),f()(s,"AllRegionsAnalysis","全部区域参与分析"),f()(s,"AllRegionsNOAnalysis","全部区域不参与分析"),f()(s,"SlopeRange","坡度区间"),f()(s,"minimumGrade","最小坡度(°)"),f()(s,"maximumGrade","最大坡度(°)"),f()(s,"displayStyle","显示样式"),f()(s,"fill","填充"),f()(s,"ShowFillColor","显示填充颜色"),f()(s,"ShowSlopeArrow","显示坡向箭头"),f()(s,"ShowColorArrow","显示颜色和坡向箭头"),f()(s,"transparency","透明度"),f()(s,"modelTransparency","模型透明度"),f()(s,"SlopeExplain","(坡度坡向分析需要带法线地形)"),f()(s,"parameterSetting","参数设置"),f()(s,"MaximumVisibleElevation","最大可见高程(米)"),f()(s,"MinimumVisibleElevation","最小可见高程(米)"),f()(s,"PlayerSettings","播放设置"),f()(s,"TheCurrentLevel","当前高程(米)"),f()(s,"speed","速度(m/s):"),f()(s,"isolineInterval","等值距(米)"),f()(s,"ContourFilling","等高线填充"),f()(s,"panelFilling","等高面填充"),f()(s,"ContourPanelFilling","等高线面填充"),f()(s,"noColorTable","无颜色表"),f()(s,"Add","添加"),f()(s,"AddPoint","添加点"),f()(s,"AddLine","添加线"),f()(s,"AddFaces","添加面"),f()(s,"Thematicmap","专题图"),f()(s,"symbolicLibrary","符号库"),f()(s,"conversion","变换"),f()(s,"Xrotation","绕X轴旋转（°）"),f()(s,"Yrotation","绕Y轴旋转（°）"),f()(s,"Zrotation","绕Z轴旋转（°）"),f()(s,"Xoffset","沿X轴偏移"),f()(s,"Yoffset","沿Y轴偏移"),f()(s,"Zoffset","沿Z轴偏移"),f()(s,"clearAll","清除所有"),f()(s,"clearChoose","清除选中"),f()(s,"zoom","缩放"),f()(s,"Xmobile","X移动"),f()(s,"Ymobile","Y移动"),f()(s,"Zmobile","Z移动"),f()(s,"delete","删除"),f()(s,"edit","编辑"),f()(s,"editZ","编辑Z轴"),f()(s,"Zdrection","Z轴方向"),f()(s,"polylineSymbolLineColor","线条颜色"),f()(s,"fulline","实线"),f()(s,"Virtuallinear","虚线型"),f()(s,"contourline","轮廓线"),f()(s,"arrowline","箭头线"),f()(s,"Haloline","光晕线"),f()(s,"Wakeline","尾迹线"),f()(s,"pureColor","纯色"),f()(s,"ThematicmapColor","颜色"),f()(s,"ThematicmapImage","图片"),f()(s,"gridding","网格"),f()(s,"stripe","条纹"),f()(s,"serverURl","数据服务URL"),f()(s,"serverExplain","(与模型同步发布的iserver REST-数据服务地址)"),f()(s,"dataset","数据源数据集"),f()(s,"DataSourceName","-----选择数据源名称------"),f()(s,"DataSetName","-----选择数据集名称------"),f()(s,"TheSpaceField","空间字段"),f()(s,"Spacelongitude","经度（°）"),f()(s,"Spacelatitude","纬度（°）"),f()(s,"Spacealtitude","高程（米）"),f()(s,"StartQuery","查询"),f()(s,"CleanCharts","清理图表"),f()(s,"home","重置"),f()(s,"storage","存储"),f()(s,"share","分享"),f()(s,"sceneSave","场景保存"),f()(s,"storeDate","存储日期："),f()(s,"scenetag","场景标签"),f()(s,"author","作者"),f()(s,"KMLData","本地KML数据"),f()(s,"ImageData","本地图片"),f()(s,"OpenLayer","打开图层"),f()(s,"OpenScene","打开场景"),f()(s,"scene","场景"),f()(s,"clip","裁剪"),f()(s,"terrain","地形"),f()(s,"onlineEditing","在线编辑"),f()(s,"wireFrame","边框线"),f()(s,"wireFrameWidth","线框宽度"),f()(s,"wireFrameColor","线框颜色"),f()(s,"interspaceQuery","空间查询"),f()(s,"cameraMinimumZoomDistance","最小缩放距离(米)"),f()(s,"highlightBarrier","高亮障碍物"),f()(s,"supermapLogo","超图标识"),f()(s,"removeInvalidTerrainRegion","剔除无效地形"),f()(s,"polygonSymbolColor","面颜色"),f()(s,"polylineDashSectionLength","虚线分量长度"),f()(s,"polylineTrailPeriod","尾迹线周期（秒）"),f()(s,"polylineTrailPercent","尾迹线占比"),f()(s,"polylineSymbolOutlineWdith","轮廓宽度（像素）"),f()(s,"pixel","像素"),f()(s,"LineWidthPixel","线宽像素"),f()(s,"second","秒"),f()(s,"PolygonClip","多边形裁剪"),f()(s,"PolygonClipOutside","裁剪外部"),f()(s,"PolygonClipInside","裁剪内部"),f()(s,"ClipWidth","裁剪宽度（米）"),f()(s,"ClipHeight","裁剪高度（米）"),f()(s,"LayerOperation","图层操作"),f()(s,"ObliquePhotographyExcavation","倾斜摄影模型开挖"),f()(s,"ExecuteExcavation","开挖"),f()(s,"ClearExcavation","清除"),f()(s,"ObliquePhotographyFlatten","倾斜摄影模型压平"),f()(s,"ModelFlatten","压平"),f()(s,"ClearFlatten","清除"),f()(s,"showFlyRoute","显示路线"),f()(s,"showFlyStop","显示站点"),f()(s,"FloodAnalysis","淹没分析"),f()(s,"MaxHeight","最大高度（米）"),f()(s,"MinHeight","最小高度（米）"),f()(s,"FloodSpeed","淹没速度(米/秒)"),f()(s,"ExecuteFlood","分析"),f()(s,"ClearFlood","清除"),f()(s,"SelectOffset","选中偏移"),f()(s,"OpenSelectOffset","开启选中偏移"),f()(s,"OffsetX","沿X轴偏移"),f()(s,"OffsetY","沿Y轴偏移"),f()(s,"offsetZ","沿Z轴偏移"),f()(s,"LayerColor","图层颜色"),f()(s,"FillStyleAndWireFrameMode","填充风格和线框模式"),f()(s,"FillStyle","填充风格"),f()(s,"LayerFillMode","填充模式"),f()(s,"LayerWireframeMode","线框模式"),f()(s,"LayerFillAndWireframeMode","填充和线框模式"),f()(s,"TriangleWireframeMode","三角面线框"),f()(s,"QuadWireframeMode","四边形线框"),f()(s,"SketchWireframeMode","草图模式"),f()(s,"SpecialEffectsMode","特效线框"),f()(s,"PolygonOffset","多边形偏移"),f()(s,"PolygonOffsetFactor","偏移因子"),f()(s,"PolygonOffsetUnit","偏移单位"),f()(s,"SceneSave","场景保存"),f()(s,"SaveDate","存储日期"),f()(s,"SceneLabel","场景标签"),f()(s,"UpdateCurrentScene","更新当前场景"),f()(s,"iEarthScene","iEarth场景"),f()(s,"ShareErrorMsg","场景信息获取失败！请先登录iPortal或Online账户......"),f()(s,"ClickToSearchAltitude","点击查询高程"),f()(s,"UnNamed","未命名"),f()(s,"SurfaceTransparency","地表透明度"),f()(s,"Version","版本"),f()(s,"WhatsNew","1、增加多边形裁剪功能模块\n2、增加Cross裁剪功能模块\n3、S3M图层支持填充风格和线框模式选择\n4、S3M图层支持选中偏移功能\n5、S3M图层支持模型颜色控制\n6、S3M图层支持模型上的淹没分析\n7、S3M图层支持多边形偏移功能\n8、增加线形符号轮廓宽度、虚线分量长度、尾迹线周期、尾迹线占比参数设置\n9、支持面符号设置颜色\n"),f()(s,"baseLayerSource","底图来源"),f()(s,"OnlineBaseMap","在线底图"),f()(s,"localImage","本地图片"),f()(s,"bingMaps","必应底图"),f()(s,"OpenStreetMap","Open Street Map"),f()(s,"SuperMapChinaDark","SuperMap China Dark"),f()(s,"gridImagery","网格影像"),f()(s,"superMapChinaLight","SuperMap China Light"),f()(s,"useRoller","影像卷帘"),f()(s,"modelRoller","模型卷帘"),f()(s,"lrRoller","左右卷帘"),f()(s,"leftRoller","屏蔽左侧"),f()(s,"rightRoller","屏蔽右侧"),f()(s,"tbRoller","上下卷帘"),f()(s,"topRoller","屏蔽上侧"),f()(s,"bottomRoller","屏蔽下侧"),f()(s,"windParticle","风场"),f()(s,"trailLines","尾迹线"),f()(s,"scanLine","扫描线"),f()(s,"saveAs","另存为"),f()(s,"saveErrorWhileSceneEmpty","保存场景名称不能为空！"),f()(s,"saveSceneSuccess","场景保存成功！"),f()(s,"saveSceneFailed","存储失败！请先登陆iPortal或Online账户......"),f()(s,"updateSceneSuccess","场景更新成功！"),f()(s,"updateSceneFailed","场景更新失败，先保存当前场景！"),f()(s,"layerUrl","http://www.supermapol.com/realspace/services/3D-CBD/rest/realspace/datas/Building@CBD/config"),f()(s,"imageUrl","http://www.supermapol.com/realspace/services/3D-zhufeng_new/rest/realspace/datas/image"),f()(s,"terrainUrl","http://www.supermapol.com/realspace/services/3D-zhufeng_new/rest/realspace/datas/terrain"),f()(s,"sceneUrl","http://www.supermapol.com/realspace/services/3D-CBD/rest/realspace"),f()(s,"fullScreen","全屏"),f()(s,"polygonClipMode","裁剪模式"),f()(s,"clickToSearchCoordination","点击查询坐标值"),f()(s,"stopChoose","站点选择"),f()(s,"stop","站点"),f()(s,"searchPlaceHolder","输入地址或地标..."),f()(s,"urlMismatchingPattern","请输入正确的URL格式"),f()(s,"polygonSymbolGridCellAlpha","单元透明度"),f()(s,"polygonSymbolGridLineCount","网格线数"),f()(s,"polygonSymbolGridLineThickness","网格线宽度"),f()(s,"polygonSymbolGridLineOffset","网格线偏移"),f()(s,"polygonSymbolStripeEvenColor","偶数条带颜色"),f()(s,"polygonSymbolStripeOddColor","奇数条带颜色"),f()(s,"polygonSymbolStripeOffset","条带偏移量"),f()(s,"polygonSymbolStripeOrientation","条带方向"),f()(s,"polygonSymbolStripeRepeat","条带重复数"),f()(s,"horizontal","水平方向"),f()(s,"vertical","垂直方向"),f()(s,"draw","绘制"),f()(s,"polylineSymbolGapColor","间隔颜色"),f()(s,"polylineSymbolOutlineColor","轮廓颜色"),f()(s,"polylineSymbolGlowPower","光晕强度"),f()(s,"polylineSymbolLineWidth","线宽（像素）"),f()(s,"pointSymbolColor","点符号颜色"),f()(s,"highlightBarrierColor","障碍物高亮颜色"),f()(s,"fullScreenToggle","全屏切换"),f()(s,"light","灯光"),f()(s,"ParticleSystem","粒子"),f()(s,"Fire","火焰"),f()(s,"Fountain","喷泉"),f()(s,"pointLight","点光源"),f()(s,"spotLight","聚光灯"),f()(s,"directionalLight","平行光"),f()(s,"cutoffDistance","扩散距离"),f()(s,"decay","衰减因子"),f()(s,"intensity","光源强度"),f()(s,"lightSourceColor","光源颜色"),f()(s,"spotLightAngle","聚光范围"),f()(s,"addToken","添加token"),f()(s,"loadException","加载异常，请检查数据或token"),f()(s,"obliqueLightWarning","注：倾斜摄影数据没有灯光效果"),f()(s,"clickToConfirmThePositionOfTheLightSource","点击确定光源位置"),f()(s,"clickLightChangeAttributes","点击选中光源可进行更改属性"),f()(s,"ClickLineDirectionLightSource","点击划线确定光源方向"),f()(s,"hdr","高动态范围"),f()(s,"emissionRate","数量"),f()(s,"particleSize","粒子大小"),f()(s,"minimumParticleLife","最小生命周期"),f()(s,"maximumParticleLife","最大生命周期"),f()(s,"imumParticleLife","生命周期"),f()(s,"minimumSpeed","最小速度"),f()(s,"maximumSpeed","最大速度"),f()(s,"startScale","初始比例"),f()(s,"endScale","终止比例"),f()(s,"gravity","重力"),f()(s,"LaunchType","发射类型"),f()(s,"CircularRadiation","圆形放射"),f()(s,"SpheroidRadiation","球体放射"),f()(s,"ConicalRadiation","圆锥体放射"),f()(s,"BoxedRadiation","盒状放射"),f()(s,"TwoDimensionalSkyline","二维天际线"),f()(s,"SpatialDistance","空间距离"),f()(s,"SpaceArea","空间面积"),f()(s,"GroundDistance","依地距离"),f()(s,"FloorArea","依地面积"),f()(s,"projectedArea","投影面积"),f()(s,"ellipsoid","椭球"),f()(s,"VerticalHeight","垂直高度"),f()(s,"HorizontalDistance","水平距离"),f()(s,"RoundBall","圆球"),f()(s,"height","高度"),f()(s,"ShowContour","显示等高线"),f()(s,"LayerRepeat","该图层已经存在，请勿重复加载！"),f()(s,"SCTFailed","SCT URL 错误，地形加载失败！"),f()(s,"ClickConfirmPoint","点击确定操作区域中间点"),f()(s,"RightClickEndDrawing","右键单击结束绘制"),f()(s,"DrawThreePoints","绘制三点即可"),f()(s,"ClickModelAddBox","点击模型，添加裁剪盒子"),f()(s,"ClickStartDrawing","点击开始绘制"),f()(s,"PleaseDrawCorrectPolygon","请绘制正确的多边形"),f()(s,"LeftClickBottomBox","点击鼠标左键，开始绘制矩形作为box底面"),f()(s,"MoveMouseHeightBox","点击鼠标左键结束矩形绘制，移动鼠标绘制box高度"),f()(s,"FloodlightTrail","泛光尾迹线"),f()(s,"WakelineColor","尾迹线颜色"),f()(s,"airline","航空公司"),f()(s,"FloodlightScanLine","泛光扫描线"),f()(s,"OpenScan","开启扫描"),f()(s,"CustomScanDirection","自定义扫描方向"),f()(s,"CustomScanCenter","自定义扫描中心"),f()(s,"ScanMode","扫描模式"),f()(s,"LineScan","线状扫描"),f()(s,"CircularScan","环状扫描"),f()(s,"ScanColor","扫描颜色"),f()(s,"ScanTexture","扫描纹理"),f()(s,"LinearTexture1","线状纹理1"),f()(s,"LinearTexture2","线状纹理2"),f()(s,"CircularTexture1","圆形纹理1"),f()(s,"CircularTexture2","圆形纹理2"),f()(s,"HexagonTexture3","六边形纹理3"),f()(s,"ClickSetScanCenter","点选设置扫描中心"),f()(s,"ClickSetScanDirection","点选设置扫描方向"),f()(s,"CurrentPointCannotBeSet","当前点不可设置"),f()(s,"ReSetScanCenter","重新点选设置扫描中心"),f()(s,"No","无"),f()(s,"ParticleDensity","粒子密度"),f()(s,"ParticleVelocity","粒子速度"),f()(s,"Start","启动"),f()(s,"SwitchData","切换数据"),f()(s,"PleaseDrawCorrectPolygon","扫描纹理"),f()(s,"StretchingHeightZDirection","Z方向拉伸高度"),f()(s,"DrawLine","画线"),f()(s,"Cut","剖切"),f()(s,"Drilling","钻孔"),f()(s,"GeologicalBodyAnalysis","地质体分析"),f()(s,"ClickDrawFirstPoint","点击绘制第一个点"),f()(s,"ClickDrawMultiplePointsAndRightClickEnd","点击绘制多个点，右键结束"),f()(s,"DrawTwoPointsAsProfile","一次绘制两个点作为一个剖面"),f()(s,"BackLineAnalysis","退线分析"),f()(s,"LimitHeightAnalysis","限高分析"),f()(s,"OnLineAnalysis","贴线分析"),f()(s,"AttachmentRate","贴线率：0.83"),f()(s,"ClickLeftAddObservationPoint","点击鼠标左键添加观察点"),f()(s,"ClickLeftAddObMultiplePoints","点击鼠标左键可添加多个目标点"),f()(s,"chooseLayers","选择图层"),f()(s,"ModelSubmergeAnalyze","模型淹没分析"),f()(s,"Space","空间"),f()(s,"Stick","贴地"),f()(s,"PostObject","贴对象"),f()(s,"AddGeometry","添加几何体"),f()(s,"Cylinder","圆柱体"),f()(s,"Cuboid","长方体"),f()(s,"Ball","球体"),f()(s,"Cone","锥体"),f()(s,"ShortHalfShaft","短半轴"),f()(s,"LongHalfShaft","长半轴"),f()(s,"StretchingHeight","拉伸高度"),f()(s,"Granularity","粒度"),f()(s,"Spin","旋转"),f()(s,"Xradius","X半径"),f()(s,"Yradius","Y半径"),f()(s,"Zradius","Z半径"),f()(s,"BottomRadius","底部半径"),f()(s,"choose","选中模式"),f()(s,"ZFImagery","珠峰影像"),f()(s,"ZFTerrain","珠峰地形"),f()(s,"StereographicDrawing","立面出图"),f()(s,"maxHeight","最大高度"),f()(s,"maxDistance","最大距离"),f()(s,"assignRange","指定范围"),f()(s,"storageScene","存储"),f()(s,"sceneStorage","场景保存"),f()(s,"openSave","打开场景"),f()(s,"storageFailed","存储失败,请先登录iPortal或Online账户......"),f()(s,"loginSuccess","登录成功"),f()(s,"loginFailed","登录失败"),f()(s,"noPermission","您没有权限创建、更新、删除场景"),f()(s,"accountInfo","账户信息"),f()(s,"displayCoordinates","显示坐标"),f()(s,"whiteMold","白模"),f()(s,"whiteMoldMap","白模专题图"),f()(s,"map","地图"),f()(s,"service","服务"),f()(s,"scene","场景"),f()(s,"waitData","请等待数据加载完成！"),f()(s,"notSupport","该设备暂不支持该功能"),f()(s,"downloadAtt","属性下载"),f()(s,"serviceName","服务名称"),f()(s,"resourceSubType","服务类型"),f()(s,"updateTime","更新时间"),f()(s,"serviceUrl","服务链接"),f()(s,"view","view"),f()(s,"noData","暂无数据"),f()(s,"year","年"),f()(s,"month","月"),f()(s,"day","日"),f()(s,"yearsAgo"," 年前"),f()(s,"monthsAgo"," 月前"),f()(s,"weeksAgo"," 周前"),f()(s,"daysAgo"," 天前"),f()(s,"hoursAgo"," 小时前"),f()(s,"minutesAgo"," 分钟前"),f()(s,"secondsAgo"," 刚刚"),f()(s,"restore","还原"),f()(s,"saveAsImage","保存为图片"),s),w=(a={longitude:"Longitude (degree)",latitude:"Latitude (degree)",altitude:"Altitude (m)",login:"Login",logout:"Logout",account:"My Account :",save:"Save",exit:"Exit",myMsg:"My message :",uploadData:"Upload Data",name:"Name",address:"Address",aqiTitle:"PM2.5 index real-time query",onlineTerrain:"Online Terrain",stkTerrain:"STK Terrain",tiandituTerrain:"Tianditu Terrain",supermapOnlineTerrain:"SuperMap Online Terrain",title:"Title",confirm:"Confirm",cancel:"Cancel",objectEditor:"Object Editor",description:"Description",compass:"Compass",s3mLayer:"S3M Layer",imageryLayer:"Imagery Layer",terrainLayer:"Terrain Layer",sctTerrainLayer:"SCT Terrain layer",wmsLayer:"WMS Layer",wmtsLayer:"WMTS Layer",arcgisLayer:"ArcGIS Tiles Layer",supermaprestLayer:"SuperMap REST Layer",featureQuery:"Attribute Query",selDataSource:"Please select a datasource",selDataSet:"Please select a dataset",urlNotNullMsg:"URL cannot be empty, please enter url!",urlErrorMsg:"Please enter the correct url!",layerNameNotNullMsg:"The layer name cannot be empty, please enter the layer name!",location:"Positioning",notSupportLocation:"Your browser does not support getting location information!",layerList:"Layer List",confirmDelLayer:"Are you sure to delete this layer?",DelLayer:"Delete layer",kmlLayer:"KML layer",markerLayer:"Marker layer",selLocalFile:"Select local file",measureArea:"Measure surface",measureDis:"Measure distance",measureHeight:"Measure height",pattern:"Drawing mode：",spatialMeasuring:"Spatial measurement",StickMeasurement:"Sticking-to-ground Measurement",heightInterval:"Contour height (m):",SingleContour:"Single contour",MoreContour:"Multi-contour",measure:"Measure",kmUnit:"Kilometer",mUnit:"Meter",distance:"Distance",sqkmUnit:"Square kilometer",sqmUnit:"Square meter",area:"Area",smOnlineService:"Public Data Service",customService:"Custom Service",portalService:"My Service",localKML:"Local Data",myScenes:"My Scene",skyAtmosphereEffect:"Sky Atmosphere Effect",sunEffect:"Lighting",fogEffect:"Fog",expand:"Expand",layerManager:"Layer Manager",addLayer:"Add layer",setBaseLayer:"Basemap setting",BaseMapImg:"Image Basemap",addMarker:"Add marker",setEffect:"Rendering setting",fold:"Fold",publicService:"Public Service",specialEffects:"Special effects",HotSpots:"Hot Spots",mycontent:"My content",imgServiceType:"Picture (default image)",bingServiceType:"BingMap global image service",tdtServiceType:"TianDiTu global image service ",osmServiceType:"OpenStreetMap",tianditu:"Tianditu",layerExistMsg:"This layer already exists, don't load it again!",imgUrlErrorMsg:"Image service URL is wrong, image loading failed!",scpUrlErrorMsg:"The SCP URL address is wrong, and the S3M layer fails to load!",visualization:"Visualization",splitSrc:"Split contrast",animationLand:"Abnormal changes in land temperature",workspaceSaveOK:"Workspace is saved successfully!",workspaceSaveFail:"Failed to save the workspace",depthAgainst:"Depth",cloud:"Cloud",skyBox:"SkyBox",analysis:"Three-dimensional analysis",viewShed:"Viewshed",showFrame:"ShowFrame",skyline:"Skyline analysis",sightline:"Sightline",startingInformation:"Starting point information",endInformation:"Destination information",projectImage:"Video delivery",shadowAnalysis:"Shadow",spacing:"Spacing（m）",profile:"Profile",profileInformation:"Profile information",ObserverInformation:"Observer information",sceneOptions:"Scene properties",otherOptions:"Other attributes",sceneColor:"Scene color",flood:"Floodlight",camera:"Camera",about:"About",close:"Close",basicOptions:"Basic attribute",styleSetting:"Style setting",volumeData:"Volume Data",Setting:"Setting",sceneName:"Scene name",viewMode:"View mode",multiViewport:"Multi-viewport",onePort:"Single-viewport",horizontalSnap:"Horizontal split screen",verticalSnap:"Vertical split screen",tripeSnap:"Triple viewport",quadSnap:"Four viewport",split:"Split effect",splitNONE:"Split disabled",splitLEFT:"Shielding split left-side",splitRIGHT:"Shielding split right-side",splitTop:"Shielding split up-side",splitBOTTOM:"Shielding split down-side",coordinates:"Coordinate value query",queryCoordinates:"Query Coordinates",underground:"Underground",openUnderground:"Open underground",rainAndSnowShow:"Rain and Snow Show",openRainSpecialEffects:"Open Rain Special Effects",openSnowSpecialEffects:"Open Snow Special Effects",rainDensity:"Rain Density",angle:"Rain Angle",rainSpeed:"Rain Speed",snowDesity:"Snow Desity",sceneFlood:"Scene Bloom",openSceneFlood:"Bloom Show",threshold:"Brightness threshold",Intensity:"Floodlight intensity",flyRoute:"Fly route",startFly:"Start",pauseFly:"Pause",stopFly:"Stop",observe:"Observe",rotate:"Rotate(degree)",rotateSpeed:"Rotate Speed",rotatePoint:"Rotate Around",cancelRotatePoint:"Cancel Rotate",rotateCirculation:"Cycle",restore:"Restore Rotate",interactive:"Interaction",enableWebcam:"Enable camera",newContent:"Update content",earth:"Earth",shadowMap:"Shadow",sun:"Sun",timeline:"Timeline",brightness:"Brightness",contrast:"Contrast",hue:"Hue",saturation:"Saturation",gamma:"Gamma",RightClickSetS3MLayerProperties:"Right-click to set S3M layer properties",MoveUpOneLevel:"Move Up One Level",MoveDownOneLevel:"Move Down One Level",MoveToTheTop:"Move to the Top",MoveToTheBottom:"Move to the Bottom",layerOptions:"Layer properties",visibility:"Visibility",layerName:"Layer name",shadow:"Shadow",shadowMode:"Shadow mode",noShadow:"No shadow",meter:"Meter",degree:"Degree",setSelectionShadow:"Show selected object shadow",setShadow:"Show all object shadows",shadowDarkness:"Shadow shading",display:"Displayable",multiSelection:"Multiple choice",cullEnabled:"Double-sided rendering",bReleaseColor:"Free color memory",visibleDistanceMin:"Minimum visible height(meter)",visibleDistanceMax:"Maximum visible height(meter)",selectEffect:"Select effect",selectColorType:"Select color type",mix:"Mixing",replace:"Replace",selectColor:"Select color",onlyShowSlection:"Only selected objects are visible",onlyHideSlection:"Only selected objects are hidden",showAll:"Show all",bottomAltitude:"Bottom altitude (m)",fillStyle:"Fill style",fillMode:"Fill mode",lineMode:"Wireframe mode",fillAndLine:"Fill and wireframe mode",foreColor:"Foreground",lineColor:"Line color",direction:"Direction",roll:"Roll",horizontalFov:"Horizontal viewing angle (degree)",verticalFov:"Vertical viewing angle (degree)",colorSetting:"Color Setting",LineColorSetting:"Line Color Setting",promptLineColor:"Prompt Line Color",visibleColor:"Visible Color",invisibleColor:"Invisible Color",displayVisualsBody:"Display Visual Body",displayInvisibleBody:"Display Invisible Body",addViewshed:"Add a visible field",clear:"Clear",date:"Date selection",time:"Time",timeInterval:"Time Interval",length:"Length(meter)",width:"Width（meter）",height:"Height（meter）",firstPoint:"First point",secondPoint:"Second point",thirdPoint:"Third point",startTime:"Start time",endTime:"End time",extrude:"Extrude(meter)",extrudeHeight:"Stretch height (m)",sunlight:"Sunshine effect",viewPosition:"Observation point position",additionalHeight:"Additional height (m)",visualRange:"Visible distance(m)",directionAngle:"Direction angle (degree)",ElevationAngle:"Pitch angle (degree)",hideenColor:"Invisible color",addViewPoint:"Add observation point",addTarget:"Add target point",displayMode:"Display mode",polyline:"Line display",polygon:"Polygon display",skylinesectorbody:"Closed volume",noOcclusor:"Unclosed volume",visibleVolume:"Visible volume",novisibleVolume:"Invisible volume",skylineColor:"Skyline Color",skylineWidth:"Skyline Width",skylineRadius:"Analysis radius (m)"},f()(a,"skyline","Skyline"),f()(a,"graphDisplay","2D Display"),f()(a,"BoxClip","Box clip"),f()(a,"BoxInteractiveClip","Box Interactive Clip"),f()(a,"PlaneClip","Region clip"),f()(a,"CrossClip","Cross clip"),f()(a,"ClipModel","Clip mode"),f()(a,"CutInsideBoxFrame","Clip inside box with wireframe"),f()(a,"CutOutBoxFrame","Clip outside box with wireframe"),f()(a,"CutInsideBoxNOFrame","Clip inside box without wireframe"),f()(a,"CutOutBoxNOFrame","Clip outside box without wireframe"),f()(a,"terrainSlope","Slope aspect"),f()(a,"isoline","Contour"),f()(a,"submergeAnalyze","Submergence analysis"),f()(a,"thematicMapByField","Thematic Map by Field"),f()(a,"chooseField","Choose Field"),f()(a,"BuildingType","Building Type"),f()(a,"BuidlingFloors","Buidling Floors"),f()(a,"house","House"),f()(a,"residential","Residential"),f()(a,"buildingFloor1","1-9Floor"),f()(a,"buildingFloor2","10-20Floor"),f()(a,"buildingFloor3","over 20Floor"),f()(a,"layerAlpha","layer Alpha"),f()(a,"TerrainOperation","Terrain Operation"),f()(a,"terrainModify","Terrain Modify"),f()(a,"operation","Operation"),f()(a,"modify","Modify"),f()(a,"Excavation","Excavation"),f()(a,"analyze","Analyze"),f()(a,"eliminate","Clear"),f()(a,"EditingTips","Note: click Select to change the attribute or clear"),f()(a,"TerrainMining","Terrain Excavation"),f()(a,"TerrainMiningDepth","Excavation depth (m)"),f()(a,"analysisArea","Analysis area"),f()(a,"SpecifyPolygon","Specify polygon area"),f()(a,"AllRegionsAnalysis","All regions participate in the analysis"),f()(a,"AllRegionsNOAnalysis","All regions do not participate in the analysis"),f()(a,"SlopeRange","Slope interval"),f()(a,"minimumGrade","Minimum slope (degree)"),f()(a,"maximumGrade","Maximum slope (degree)"),f()(a,"displayStyle","Display style"),f()(a,"fill","Filling"),f()(a,"ShowFillColor","Show filling color"),f()(a,"ShowSlopeArrow","Show slope arrow"),f()(a,"ShowColorArrow","Display color and slope arrow"),f()(a,"transparency","Transparency"),f()(a,"modelTransparency","Model Transparency"),f()(a,"SlopeExplain","(Slope aspect analysis requires normal terrain)"),f()(a,"parameterSetting","Parameter settings"),f()(a,"MaximumVisibleElevation","Parameter settings"),f()(a,"MinimumVisibleElevation","Minimum visible elevation (m)"),f()(a,"PlayerSettings","Playback setting"),f()(a,"TheCurrentLevel","Current elevation (m)"),f()(a,"speed","Speed (m/s):"),f()(a,"isolineInterval","Isoline Interval (m)"),f()(a,"ContourFilling","Contour filling"),f()(a,"panelFilling","Face filling"),f()(a,"ContourPanelFilling","Contour surface filling"),f()(a,"noColorTable","No color table"),f()(a,"Add","Add"),f()(a,"AddPoint","Add point"),f()(a,"AddLine","Add line"),f()(a,"AddFaces","Add region"),f()(a,"Thematicmap","Thematic Map"),f()(a,"symbolicLibrary","Symbol library"),f()(a,"conversion","Transformation"),f()(a,"Xrotation","Rotate around the X axis(degree)"),f()(a,"Yrotation","Rotate around the Y axis(degree)"),f()(a,"Zrotation","Rotate around the Z axis(degree)"),f()(a,"Xoffset","X offset"),f()(a,"Yoffset","Y offset"),f()(a,"Zoffset","Z offset"),f()(a,"clearAll","Clear All"),f()(a,"clearChoose","Clear Choose"),f()(a,"zoom","Zoom"),f()(a,"Xmobile","X axis movement"),f()(a,"Ymobile","Y axis movement"),f()(a,"Zmobile","Z axis movement"),f()(a,"delete","Delete"),f()(a,"edit","Edit"),f()(a,"editZ","Edit Z axis"),f()(a,"Zdrection","Z Drection"),f()(a,"polylineSymbolLineColor","Line color"),f()(a,"fulline","Solid line"),f()(a,"Virtuallinear","Dotted type"),f()(a,"contourline","Contour line"),f()(a,"arrowline","Arrow line"),f()(a,"Haloline","Halo line"),f()(a,"Wakeline","Tail trace"),f()(a,"pureColor","Solid color"),f()(a,"ThematicmapColor","Color"),f()(a,"ThematicmapImage","Image"),f()(a,"gridding","Grid"),f()(a,"stripe","Stripe"),f()(a,"serverURl","Data service URL"),f()(a,"serverExplain","(iserver REST-data service address published synchronously with the model)"),f()(a,"dataset","Dataset"),f()(a,"DataSourceName","-----Select datasource name------"),f()(a,"DataSetName","-----Select dataset name------"),f()(a,"TheSpaceField","Spatial field"),f()(a,"Spacelongitude","Longitude(degree)"),f()(a,"Spacelatitude","Latitude(degree)"),f()(a,"Spacealtitude","Elevation(meter)"),f()(a,"StartQuery","Start query"),f()(a,"CleanCharts","Clean up the chart"),f()(a,"home","Reset"),f()(a,"storage","Storage"),f()(a,"share","Share"),f()(a,"sceneSave","Scene save"),f()(a,"storeDate","Store date："),f()(a,"scenetag","Scene label"),f()(a,"author","Author"),f()(a,"KMLData","Local KML data"),f()(a,"ImageData","Image Data"),f()(a,"OpenLayer","Open layer"),f()(a,"OpenScene","Open scene"),f()(a,"scene","Scene"),f()(a,"clip","Clip"),f()(a,"terrain","Terrain"),f()(a,"onlineEditing","Online editing"),f()(a,"wireFrame","Wire Frame"),f()(a,"wireFrameWidth","Wire Frame Width"),f()(a,"wireFrameColor","Wire Frame Color"),f()(a,"interspaceQuery","Spatial query"),f()(a,"cameraMinimumZoomDistance","Camera minimum zoom distance (m)"),f()(a,"highlightBarrier","Highlight obstacle"),f()(a,"supermapLogo","SuperMap Logo"),f()(a,"removeInvalidTerrainRegion","Eliminate invalid terrain regions"),f()(a,"polygonSymbolColor","Polygon symbol color"),f()(a,"polylineDashSectionLength","Dotted component length(pixel)"),f()(a,"polylineTrailPeriod","Tail trace period(second)"),f()(a,"polylineTrailPercent","Polyline trail percent"),f()(a,"polylineSymbolOutlineWdith","Outline width(pixel)"),f()(a,"pixel","Pixel"),f()(a,"LineWidthPixel","Line Width Pixel"),f()(a,"second","Second"),f()(a,"PolygonClip","Polygon clip"),f()(a,"PolygonClipOutside","Clip outside"),f()(a,"PolygonClipInside","Clip interior"),f()(a,"ClipWidth","Clip width(meter)"),f()(a,"ClipHeight","Clip height(meter)"),f()(a,"LayerOperation","Layer operation"),f()(a,"ObliquePhotographyExcavation","Oblique photography excavation"),f()(a,"ExecuteExcavation","Execute excavation"),f()(a,"ClearExcavation","Clear excavation"),f()(a,"ObliquePhotographyFlatten","Oblique photography flatten"),f()(a,"ModelFlatten","Model flatten"),f()(a,"ClearFlatten","Clear flatten"),f()(a,"showFlyRoute","Show Fly Route"),f()(a,"showFlyStop","Show Fly Stop"),f()(a,"FloodAnalysis","Flood analysis"),f()(a,"MaxHeight","Max height（meter）"),f()(a,"MinHeight","Min height（meter）"),f()(a,"FloodSpeed","Flood speed(m/s)"),f()(a,"ExecuteFlood","Execute flood"),f()(a,"ClearFlood","Clear flood"),f()(a,"SelectOffset","Select offset"),f()(a,"OpenSelectOffset","Open select offset"),f()(a,"OffsetX","Offset X"),f()(a,"OffsetY","Offset Y"),f()(a,"offsetZ","offset Z"),f()(a,"LayerColor","Layer color"),f()(a,"FillStyleAndWireFrameMode","Fill style and wireframe mode"),f()(a,"FillStyle","Fill style"),f()(a,"LayerFillMode","Fill mode"),f()(a,"LayerWireframeMode","Wireframe mode"),f()(a,"LayerFillAndWireframeMode","Fill and wireframe mode"),f()(a,"TriangleWireframeMode","Triangle wireframe"),f()(a,"QuadWireframeMode","Quad wireframe"),f()(a,"SketchWireframeMode","Sketch wireframe"),f()(a,"SpecialEffectsMode","Special Effects Mode"),f()(a,"PolygonOffset","Polygon offset"),f()(a,"PolygonOffsetFactor","Polygon offset factor"),f()(a,"PolygonOffsetUnit","Polygon offset unit"),f()(a,"SceneSave","Scene save"),f()(a,"SaveDate","Save date"),f()(a,"SceneLabel","Scene label"),f()(a,"UpdateCurrentScene","Update current scene"),f()(a,"iEarthScene","iEarth scene"),f()(a,"ShareErrorMsg","Get scene failed, please login first..."),f()(a,"ClickToSearchAltitude","Click to search altitude"),f()(a,"UnNamed","Unnamed"),f()(a,"SurfaceTransparency","Surface transparency"),f()(a,"Version","Version"),f()(a,"WhatsNew","1、Add the polygon clipping function module\n2、Add the Cross clip function module\n3、The S3M layer supports fill style and wireframe mode selection\n4、The S3M layer allows you to select offsets\n5、S3M layer supports model color control\n6、The S3M layer supports flooding analysis on the model\n7、The S3M layer supports polygon migration\n8、Increase the contour width of line symbol, the length of component of dash line, the period of wakes, and the proportion of wakes\n9、Support surface symbols to set colors\n"),f()(a,"baseLayerSource","Base layer source"),f()(a,"OnlineBaseMap","Online BaseMap"),f()(a,"localImage","Local Image"),f()(a,"bingMaps","Bing Maps"),f()(a,"OpenStreetMap","OpenStreetMap"),f()(a,"SuperMapChinaDark","SuperMap China Dark"),f()(a,"gridImagery","Grid Imagery"),f()(a,"superMapChinaLight","SuperMap China Light"),f()(a,"useRoller","Image roller"),f()(a,"modelRoller","Model roller"),f()(a,"lrRoller","Left-right roller"),f()(a,"leftRoller","Hide left"),f()(a,"rightRoller","Hide right"),f()(a,"tbRoller","Top-bottom roller"),f()(a,"topRoller","Hide top"),f()(a,"bottomRoller","Hide bottom"),f()(a,"windParticle","Wind particle"),f()(a,"trailLines","Trail lines"),f()(a,"scanLine","Scan line"),f()(a,"saveAs","Save as"),f()(a,"saveErrorWhileSceneEmpty","The save scene name cannot be empty!"),f()(a,"saveSceneSuccess","Save scene success！"),f()(a,"saveSceneFailed","Storage scene failed! please login to iPortal or Online account..."),f()(a,"updateSceneSuccess","Scene update success！"),f()(a,"updateSceneFailed","Scene update failed. save the current scene first"),f()(a,"layerUrl","http://www.supermapol.com/realspace/services/3D-CBD/rest/realspace/datas/Building@CBD/config"),f()(a,"imageUrl","http://www.supermapol.com/realspace/services/3D-zhufeng_new/rest/realspace/datas/image"),f()(a,"terrainUrl","http://www.supermapol.com/realspace/services/3D-zhufeng_new/rest/realspace/datas/terrain"),f()(a,"sceneUrl","http://www.supermapol.com/realspace/services/3D-CBD/rest/realspace"),f()(a,"fullScreen","Full screen"),f()(a,"polygonClipMode","Clip mode"),f()(a,"clickToSearchCoordination","Click to search coordination"),f()(a,"stopChoose","Stop choose"),f()(a,"stop","Stop"),f()(a,"searchPlaceHolder","Enter an address or landmark..."),f()(a,"urlMismatchingPattern","Please enter the correct URL format"),f()(a,"polygonSymbolGridCellAlpha","Grid cell alpha"),f()(a,"polygonSymbolGridLineCount","Grid line count"),f()(a,"polygonSymbolGridLineThickness","Grid line thickness"),f()(a,"polygonSymbolGridLineOffset","Grid line offset"),f()(a,"polygonSymbolStripeEvenColor","Even stripe color"),f()(a,"polygonSymbolStripeOddColor","Odd stripe color"),f()(a,"polygonSymbolStripeOffset","Stripe offset"),f()(a,"polygonSymbolStripeOrientation","Stripe orientation"),f()(a,"polygonSymbolStripeRepeat","Stripe repeat"),f()(a,"horizontal","Horizontal"),f()(a,"vertical","Vertical"),f()(a,"draw","Draw"),f()(a,"polylineSymbolGapColor","Gap color"),f()(a,"polylineSymbolOutlineColor","Outline color"),f()(a,"polylineSymbolGlowPower","Glow power"),f()(a,"polylineSymbolLineWidth","Line width(px)"),f()(a,"pointSymbolColor","Point symbol color"),f()(a,"highlightBarrierColor","Highlight barrier color"),f()(a,"fullScreenToggle","Full screen toggle"),f()(a,"light","Light"),f()(a,"ParticleSystem","Particle system"),f()(a,"Fire","Fire"),f()(a,"Fountain","Fountain"),f()(a,"pointLight","Point light"),f()(a,"spotLight","Spot light"),f()(a,"directionalLight","Directional light"),f()(a,"cutoffDistance","Cutoff distance"),f()(a,"decay","Decay"),f()(a,"intensity","Intensity"),f()(a,"lightSourceColor","Light source color"),f()(a,"spotLightAngle","Angle"),f()(a,"addToken","Add token"),f()(a,"loadException","Load failed, please check data or token"),f()(a,"obliqueLightWarning","Note: oblique photographic data has no lighting effect"),f()(a,"clickToConfirmThePositionOfTheLightSource","Click to confirm the position of the light source"),f()(a,"clickLightChangeAttributes","Click to select the light source to change its attributes"),f()(a,"ClickLineDirectionLightSource","Click on the line to determine the direction of the light source"),f()(a,"hdr","High dynamic range"),f()(a,"emissionRate","Emission rate"),f()(a,"particleSize","Particle size"),f()(a,"minimumParticleLife","Minimum particle life"),f()(a,"maximumParticleLife","Maximum particle life"),f()(a,"imumParticleLife","Imum particle life"),f()(a,"minimumSpeed","Minimum speed"),f()(a,"maximumSpeed","Maximum speed"),f()(a,"startScale","Start scale"),f()(a,"endScale","End scale"),f()(a,"gravity","Gravity"),f()(a,"LaunchType","Launch type"),f()(a,"CircularRadiation","Circular radiation"),f()(a,"SpheroidRadiation","Spheroid radiation"),f()(a,"ConicalRadiation","Conical radiation"),f()(a,"BoxedRadiation","Boxed radiation"),f()(a,"TwoDimensionalSkyline","2D Skyline"),f()(a,"SpatialDistance","Spatial Distance"),f()(a,"SpaceArea","Space Area"),f()(a,"GroundDistance","Ground Distance"),f()(a,"FloorArea","Floor Area"),f()(a,"projectedArea","Projected Area"),f()(a,"ellipsoid","Ellipsoid"),f()(a,"RoundBall","RoundBall"),f()(a,"ShowContour","Show Contour"),f()(a,"height","Height"),f()(a,"VerticalHeight","Vertical Height"),f()(a,"HorizontalDistance","Horizontal Distance"),f()(a,"LayerRepeat","This layer already exists, please do not load it repeatedly!"),f()(a,"SCTFailed","SCT URL error, terrain loading failed!"),f()(a,"ClickConfirmPoint","Click to confirm the middle point of the operating area"),f()(a,"RightClickEndDrawing","Right click to end drawing"),f()(a,"DrawThreePoints","Draw three points"),f()(a,"ClickStartDrawing","Click to start drawing"),f()(a,"ClickModelAddBox","Click on the model to add a crop box"),f()(a,"PleaseDrawCorrectPolygon","Please draw the correct polygon"),f()(a,"LeftClickBottomBox","Click the left mouse button to start drawing a rectangle as the bottom of the box"),f()(a,"MoveMouseHeightBox","Click the left mouse button to end the rectangle drawing, move the mouse to draw the box height."),f()(a,"FloodlightTrail","Floodlight Trail"),f()(a,"WakelineColor","Wakeline Color"),f()(a,"airline","Airline"),f()(a,"FloodlightScanLine","Floodlight scan line"),f()(a,"OpenScan","Open Scan"),f()(a,"CustomScanDirection","Custom Scan Direction"),f()(a,"CustomScanCenter","Custom Scan Center"),f()(a,"ScanMode","Scan mode"),f()(a,"LineScan","Line scan"),f()(a,"CircularScan","Circular scan"),f()(a,"ScanColor","Scan color"),f()(a,"ScanTexture","Scan texture"),f()(a,"LinearTexture1","Linear texture 1"),f()(a,"LinearTexture2","Linear texture 2"),f()(a,"CircularTexture1","Circular texture 1"),f()(a,"CircularTexture2","Circular texture 2"),f()(a,"HexagonTexture3","Hexagon texture 3"),f()(a,"ClickSetScanCenter","Click Set Scan Center"),f()(a,"ClickSetScanDirection","Click to set scan direction"),f()(a,"CurrentPointCannotBeSet","Current point cannot be set"),f()(a,"ReSetScanCenter","Re-click Set Scan Center"),f()(a,"No","No"),f()(a,"ParticleDensity","Particle density"),f()(a,"ParticleVelocity","Particle velocity"),f()(a,"Start","Start"),f()(a,"SwitchData","Switch data"),f()(a,"bloomIntensity","Bloom Intensity"),f()(a,"StretchingHeightZDirection","Stretching height in Z direction"),f()(a,"DrawLine","Draw a Line"),f()(a,"Cut","Cut"),f()(a,"Drilling","Drilling"),f()(a,"GeologicalBodyAnalysis","Geological body analysis"),f()(a,"ClickDrawFirstPoint","Click to draw the first point"),f()(a,"ClickDrawMultiplePointsAndRightClickEnd","Click to draw multiple points, right click to end"),f()(a,"DrawTwoPointsAsProfile","Draw two points at a time as a profile"),f()(a,"BackLineAnalysis","Back Line Analysis"),f()(a,"LimitHeightAnalysis","Limit Height Analysis"),f()(a,"OnLineAnalysis","On Line Analysis"),f()(a,"AttachmentRate","Attachment rate:0.83"),f()(a,"ClickLeftAddObservationPoint","Click the left mouse button to add an observation point"),f()(a,"ClickLeftAddObMultiplePoints","Click the left mouse button to add multiple target points"),f()(a,"chooseLayers","Select Layer"),f()(a,"ModelSubmergeAnalyze","Model Flood Analysis"),f()(a,"Space","Space"),f()(a,"Stick","Stick to the ground"),f()(a,"PostObject","Post object"),f()(a,"AddGeometry","Add geometry"),f()(a,"Cylinder","Cylinder"),f()(a,"Cuboid","Cuboid"),f()(a,"Ball","Ball"),f()(a,"Cone","Cone"),f()(a,"ShortHalfShaft","Short half shaft"),f()(a,"LongHalfShaft","Semi-major axis"),f()(a,"StretchingHeight","Stretching height"),f()(a,"Granularity","Granularity"),f()(a,"Spin","Spin"),f()(a,"Xradius","X radius"),f()(a,"Yradius","Y radius"),f()(a,"Zradius","Z radius"),f()(a,"BottomRadius","Bottom Radius"),f()(a,"choose","Choose"),f()(a,"ZFImagery","Zhufeng Imagery"),f()(a,"ZFTerrain","Zhufeng Terrain"),f()(a,"StereographicDrawing","Stereographic Drawing"),f()(a,"maxHeight","Max Height"),f()(a,"maxDistance","Max Distance"),f()(a,"assignRange","Assign Range"),f()(a,"storageScene","Storage Scene"),f()(a,"sceneStorage","Scene Storage"),f()(a,"openSave","Open Sence"),f()(a,"storageFailed","Storage failed. Please log in to your iportal or online account first......"),f()(a,"loginSuccess","Login Success"),f()(a,"loginFailed","Login Failed"),f()(a,"noPermission","You do not have permission to create, update or delete scenes"),f()(a,"accountInfo","Account Infomation"),f()(a,"displayCoordinates","Display Coordinates"),f()(a,"whiteMold","White Mold"),f()(a,"whiteMoldMap","White mold thematic map"),f()(a,"map","Map"),f()(a,"service","Service"),f()(a,"scene","Scene"),f()(a,"waitData","Please wait for data loading to complete"),f()(a,"notSupport","The device does not support this function temporarily"),f()(a,"downloadAtt","Attribute Queryable"),f()(a,"serviceName","Service Name"),f()(a,"resourceSubType","Service Type"),f()(a,"updateTime","Update Time"),f()(a,"serviceUrl","Service URL"),f()(a,"view","View"),f()(a,"noData","No data"),f()(a,"year","Year"),f()(a,"month","Month"),f()(a,"day","Day"),f()(a,"yearsAgo"," Years Ago"),f()(a,"monthsAgo"," Months Ago"),f()(a,"weeksAgo"," Weeks Ago"),f()(a,"daysAgo"," Days Ago"),f()(a,"hoursAgo"," Hours Ago"),f()(a,"minutesAgo"," Minutes Ago"),f()(a,"secondsAgo"," Seconds Ago"),f()(a,"restore","Restore"),f()(a,"saveAsImage","SaveAsImage"),a),b=(o={longitude:"経度(度)",latitude:"緯度(度)",altitude:"標高(m)",login:"ログイン",logout:"ログアウト",account:"マイアカウント :",save:"保存",exit:"閉じる",myMsg:"マイメーセージ :",uploadData:"アップロード",name:"名称",address:"アドレス",aqiTitle:"PM2.5リアルタイム検索",onlineTerrain:"Online オンライン地形",stkTerrain:"STK オンライン地形",tiandituTerrain:"TianDiTu オンライン地形",supermapOnlineTerrain:"SuperMap Online オンライン地形",title:"タイトル",confirm:"確認",cancel:"取消",objectEditor:"オブジェクト編集",description:"説明",compass:"方位磁針",s3mLayer:"S3Mレイヤー",imageryLayer:"写真レイヤー",terrainLayer:"地形レイヤー",sctTerrainLayer:"sct地形レイヤー",wmsLayer:"WMS レイヤー",wmtsLayer:"WMTS レイヤー",arcgisLayer:"ArcGIS tiles レイヤー",supermaprestLayer:"SuperMap rest レイヤー",featureQuery:"属性検索",selDataSource:"データソースを開く",selDataSet:"データセットを開く",urlNotNullMsg:"URLを入力してください",urlErrorMsg:"正しい住所を入力してください",layerNameNotNullMsg:"レイヤー名を入力してください",location:"位置情報を取得する",notSupportLocation:"位置情報を取得できません",layerList:"レイヤーリスト",confirmDelLayer:"選択したレイヤーを削除しますか？",DelLayer:"レイヤーを削除",kmlLayer:"KMLレイヤー",markerLayer:"MARKERレイヤー",selLocalFile:"ローカルファイルを開く",measureArea:"面積測量",measureDis:"距離測量",measureHeight:"標高測量",pattern:"パターン：",spatialMeasuring:"空間計測",StickMeasurement:"地形計測",heightInterval:"等高線の間隔(m)：",SingleContour:"一つの等高線",MoreContour:"複数の等高線",measure:"計測",kmUnit:"キロメートル",mUnit:"米",distance:"距離",sqkmUnit:"平方キロメートル",sqmUnit:"平方メートル",area:"面積",smOnlineService:"公開データサービス",customService:"ユーザー定義サービス",localKML:"ローカルデータ",portalService:"私の サービス",myScenes:"マイシーン",skyAtmosphereEffect:"大気レンダリング",sunEffect:"照明レンダリング",fogEffect:"ボリュームレンダリング",expand:"展開",layerManager:"レイヤー管理",addLayer:"レイヤー追加",setBaseLayer:"背景レイヤー選択",BaseMapImg:"ベースマップ_img",addMarker:"MARKER追加",setEffect:"レンダリング設定",fold:"たたむ",publicService:"公共サービス",specialEffects:"特殊効果",HotSpots:"ホットスポット",mycontent:"私の内容",imgServiceType:"画像(標準画像)",bingServiceType:"BingMap グローバル映像サービス",tdtServiceType:"TianDiTu グローバル映像サービス",osmServiceType:"openstreetmap 地図",tianditu:"TianDiTu",layerExistMsg:"当該レイヤーは存在しています",imgUrlErrorMsg:"写真のダウンロードは失敗しました",scpUrlErrorMsg:"SCP URLのエラーにより、S3Mレイヤーを開けません",visualization:"可視化",splitSrc:"スワイプ比較",animationLand:"陸地温度異常変化",workspaceSaveOK:"ワークスペース保存成功",workspaceSaveFail:"ワークスペース保存失敗",depthAgainst:"深度検測",cloud:"雲",skyBox:"スカイボックス",analysis:"3D解析",viewShed:"可視領域",showFrame:"フレームレートを表示",skyline:"スカイライン解析",sightline:"見通し",startingInformation:"起点情報",endInformation:"終点情報",projectImage:"動画を投影",shadowAnalysis:"シャドウ",spacing:"間隔（m）",profile:"断面",profileInformation:"プロフィール情報",ObserverInformation:"観察者情報",sceneOptions:"シーン属性",otherOptions:"他の属性",sceneColor:"シーンの色",flood:"フラッド",camera:"カメラ",about:"About",close:"閉じる",basicOptions:"基本属性",styleSetting:"スタイル属性",volumeData:"体レンダリング",Setting:"設定",sceneName:"シーン名称",viewMode:"ビューモード",multiViewport:"マルチビューポート",onePort:"ワンビューポート",horizontalSnap:"左右に配置",verticalSnap:"上下に配置",tripeSnap:"3つのビューポート",quadSnap:"4つのビューポート",split:"スワイプ",splitNONE:"スワイプなし",splitLEFT:"スワイプの左側を非表示",splitRIGHT:"スワイプの右側を非表示",splitTop:"スワイプの上部を非表示",splitBOTTOM:"スワイプの下部を非表示",coordinates:"座標",queryCoordinates:"座標検索",underground:"地下",openUnderground:"地下モード有効",rainAndSnowShow:"雪が降る",openRainSpecialEffects:"雨が降り始めた",openSnowSpecialEffects:"雪景色を",rainDensity:"雨粒の密度",angle:"落下角度",rainSpeed:"落下速度",snowDesity:"雪の密度",sceneFlood:"シーンフラッド",openSceneFlood:"フラッド有効",threshold:"明度閾値",bloomIntensity:"フラッド値",flyRoute:"飛行ルート",startFly:"開始",pauseFly:"一時停止",stopFly:"停止",observe:"観察",rotate:"回転（度）",rotateSpeed:"回転速度",rotatePoint:"ポイント旋回",cancelRotatePoint:"旋回停止",rotateCirculation:"ループ",restore:"回転を復元",interactive:"相互",enableWebcam:"カメラ有効",newContent:"内容更新",earth:"地球",shadowMap:"シャドウ",sun:"太陽",timeline:"タイムライン",brightness:"明度",contrast:"コントラスト",hue:"色相",saturation:"彩度",gamma:"ガンマ",RightClickSetS3MLayerProperties:"右クリックしてS3Mレイヤーのプロパティを設定します",layerOptions:"レイヤー属性",MoveUpOneLevel:"一つ上へ移動",MoveDownOneLevel:"下へ移動",MoveToTheTop:"いちばん上",MoveToTheBottom:"底まで",visibility:"可視性",layerName:"レイヤー名",shadow:"シャドウ",shadowMode:"シャドウモード",noShadow:"シャドウなし",meter:"m",degree:"度",setSelectionShadow:"選択オブジェクトのシャドウを表示する",setShadow:"シャドウをすべて表示する",shadowDarkness:"シャドウの明度",display:"表示可能",multiSelection:"複数選択",cullEnabled:"両面レンダリング",bReleaseColor:"色彩のメモリを解放する",visibleDistanceMin:"可視領域の標高-最小（m）",visibleDistanceMax:"可視領域の標高-最大（m）",selectEffect:"選択オブジェクトの反応",selectColorType:"選択オブジェクトの色",mix:"ミックス",replace:"置換え",selectColor:"色選択",onlyShowSlection:"選択オブジェクトのみ可視化",onlyHideSlection:"選択オブジェクトのみ隠す",showAll:"すべて表示",bottomAltitude:"底の標高(m)",fillStyle:"フィルスタイル",fillMode:"フィルモード",lineMode:"ラインモード",fillAndLine:"フィルとラインモード",foreColor:"前景色",lineColor:"ライン色",direction:"方位",roll:"ロール",horizontalFov:"水平視野角(度)",verticalFov:"垂直視野角(度)",colorSetting:"色設定",LineColorSetting:"線の色の設定",promptLineColor:"プロンプトラインの色",visibleColor:"可視域の色",invisibleColor:"不可視域の色",displayVisualsBody:"ビジュアルを表示",displayInvisibleBody:"見えないボディを表示",addViewshed:"可視域追加",clear:"クリア",date:"日付",time:"時間",timeInterval:"時間間隔",length:"長さ（m）",width:"幅（m）",height:"高さ（m）",firstPoint:"第1点",secondPoint:"第2点",thirdPoint:"第3点",startTime:"開始時間",endTime:"完了時間",extrude:"伸ばす（m）",extrudeHeight:"高さを伸ばす(m)",sunlight:"日照の効果",viewPosition:"観察ポイント位置",additionalHeight:"高さを追加する(m)",visualRange:"可視距離（m）",directionAngle:"方位角(度)",ElevationAngle:"仰俯角(度)",hideenColor:"不可視（色）",addViewPoint:"観察ポイント追加",addTarget:"ターゲットポイント追加",displayMode:"表示パターン",polyline:"ライン表示",polygon:"ポリゴン表示",skylinesectorbody:"閉じたポリゴン",noOcclusor:"閉じていないポリゴン",visibleVolume:"可視ボリューム",novisibleVolume:"不可視ボリューム",skylineColor:"スカイライン(色)",skylineWidth:"スカイラインの幅",skylineRadius:"半径（m）"},f()(o,"skyline","スカイライン"),f()(o,"graphDisplay","2D表示"),f()(o,"BoxClip","Boxトリミング"),f()(o,"BoxInteractiveClip","Box インタラクティブトリミング"),f()(o,"PlaneClip","平面トリミング"),f()(o,"CrossClip","Crossトリミング"),f()(o,"ClipModel","トリミングモード"),f()(o,"CutInsideBoxFrame","ボックス内側でトリミング"),f()(o,"CutOutBoxFrame","ボックス外側でトリミング"),f()(o,"CutInsideBoxNOFrame","内側でトリミング"),f()(o,"CutOutBoxNOFrame","外側でトリミング"),f()(o,"terrainSlope","傾斜角"),f()(o,"isoline","等値線"),f()(o,"submergeAnalyze","浸水解析"),f()(o,"thematicMapByField","フィールドのテーマ図"),f()(o,"chooseField","テーマフィールドを選択"),f()(o,"BuildingType","建築用途"),f()(o,"BuidlingFloors","建築層数"),f()(o,"house","住宅"),f()(o,"residential","商業用地"),f()(o,"buildingFloor1","1-9 レイヤー"),f()(o,"buildingFloor2","10-20 レイヤー"),f()(o,"buildingFloor3","大なりイコール 20 レイヤー"),f()(o,"layerAlpha","レイヤーの不透明度"),f()(o,"TerrainOperation","地形の操作"),f()(o,"terrainModify","地形編集"),f()(o,"operation","操作"),f()(o,"modify","修正"),f()(o,"Excavation","発掘"),f()(o,"analyze","解析"),f()(o,"eliminate","クリア"),f()(o,"EditingTips","注：選択をクリックして属性を変更したり、クリアしたりします。"),f()(o,"TerrainMining","地形掘削"),f()(o,"TerrainMiningDepth","掘削深度(m)"),f()(o,"analysisArea","解析領域"),f()(o,"SpecifyPolygon","特定ポリゴン範囲"),f()(o,"AllRegionsAnalysis","全範囲を解析する"),f()(o,"AllRegionsNOAnalysis","全範囲を解析しません"),f()(o,"SlopeRange","傾斜角範囲"),f()(o,"minimumGrade","最小傾斜角(度)"),f()(o,"maximumGrade","最大傾斜角(度)"),f()(o,"displayStyle","表示スタイル"),f()(o,"fill","フィル"),f()(o,"ShowFillColor","フィル色を表示する"),f()(o,"ShowSlopeArrow","傾斜方向のシンボル表示"),f()(o,"ShowColorArrow","色と傾斜方向のシンボル表示"),f()(o,"transparency","透明度"),f()(o,"modelTransparency","モード透明度"),f()(o,"SlopeExplain","(傾斜角解析には法線情報を持つ地形が必要)"),f()(o,"parameterSetting","パラメーター設定"),f()(o,"MaximumVisibleElevation","最大表示高度(m)"),f()(o,"MinimumVisibleElevation","最小表示高度(m)"),f()(o,"PlayerSettings","初期設定"),f()(o,"TheCurrentLevel","現時点の高度(m)"),f()(o,"speed","速度(m/s):"),f()(o,"isolineInterval","等高線の間隔(m)"),f()(o,"ContourFilling","等高線フィル"),f()(o,"panelFilling","等高面フィル"),f()(o,"ContourPanelFilling","等高線面フィル"),f()(o,"noColorTable","カラーなしテーブル"),f()(o,"Add","追加"),f()(o,"AddPoint","ポイント追加"),f()(o,"AddLine","ライン追加"),f()(o,"AddFaces","ポリゴン追加"),f()(o,"Thematicmap","特集図"),f()(o,"symbolicLibrary","シンボルライブラリ"),f()(o,"conversion","変換"),f()(o,"Xrotation","X軸周り（度）"),f()(o,"Yrotation","Y軸周り（度）"),f()(o,"Zrotation","Z軸周り（度）"),f()(o,"Xoffset","X軸に沿ってオフセット"),f()(o,"Yoffset","Y軸に沿ってオフセット"),f()(o,"Zoffset","Z軸に沿ってオフセット"),f()(o,"clearAll","清除所有"),f()(o,"clearChoose","清除选中"),f()(o,"zoom","ズーム"),f()(o,"Xmobile","X軸の動き"),f()(o,"Ymobile","Y軸の動き"),f()(o,"Zmobile","Z軸の動き"),f()(o,"delete","削除"),f()(o,"edit","編集する"),f()(o,"editZ","Z軸を編集"),f()(o,"Zdrection","Z軸方向"),f()(o,"polylineSymbolLineColor","ラインのカラー"),f()(o,"fulline","実線"),f()(o,"Virtuallinear","点線"),f()(o,"contourline","輪郭線"),f()(o,"arrowline","矢線"),f()(o,"Haloline","円光線"),f()(o,"Wakeline","軌跡線"),f()(o,"pureColor","純色"),f()(o,"ThematicmapColor","カラーマップ"),f()(o,"ThematicmapImage","写真のテーマ"),f()(o,"gridding","グリッド"),f()(o,"stripe","ストライプ"),f()(o,"serverURl","データサービスURL"),f()(o,"serverExplain","(iserver REST-データサービスアドレス)"),f()(o,"dataset","データソース、データセット"),f()(o,"DataSourceName","-----データソースを開く------"),f()(o,"DataSetName","-----データセットを開く------"),f()(o,"TheSpaceField","空間フィールド"),f()(o,"Spacelongitude","経度（度）"),f()(o,"Spacelatitude","緯度（度）"),f()(o,"Spacealtitude","標高（m）"),f()(o,"StartQuery","クエリ開始"),f()(o,"CleanCharts","図表をクリア"),f()(o,"home","リセット"),f()(o,"storage","保存"),f()(o,"share","シェア"),f()(o,"sceneSave","シーンを保存"),f()(o,"storeDate","日付を保存："),f()(o,"scenetag","シーンのタグ"),f()(o,"author","作成者"),f()(o,"KMLData","ローカルKMLデータ"),f()(o,"ImageData","ローカル画像"),f()(o,"OpenLayer","レイヤーを開く"),f()(o,"OpenScene","シーンを開く"),f()(o,"scene","シーン"),f()(o,"clip","クリップ"),f()(o,"terrain","地形"),f()(o,"onlineEditing","オンラインで編集"),f()(o,"wireFrame","外枠線"),f()(o,"wireFrameWidth","線の幅"),f()(o,"wireFrameColor","線の色"),f()(o,"interspaceQuery","空間検索"),f()(o,"cameraMinimumZoomDistance","最小縮小距離(m)"),f()(o,"highlightBarrier","障害物を提示する"),f()(o,"supermapLogo","スーパマップロゴ"),f()(o,"removeInvalidTerrainRegion","エラーの地形を無効にする"),f()(o,"polygonSymbolColor","ポリゴンの色"),f()(o,"polylineDashSectionLength","点線設定（pix）"),f()(o,"polylineTrailPeriod","軌跡線の存在時間（秒）"),f()(o,"polylineTrailPercent","軌跡線の割合"),f()(o,"polylineSymbolOutlineWdith","輪郭の幅（pix）"),f()(o,"pixel","ピクセル(pix)"),f()(o,"LineWidthPixel","線幅ピクセル"),f()(o,"second","秒"),f()(o,"PolygonClip","多角形ポリゴンをクリップ"),f()(o,"PolygonClipOutside","外側をクリップ"),f()(o,"PolygonClipInside","内側をクリップ"),f()(o,"ClipWidth","クリップの幅（m）"),f()(o,"ClipHeight","クリップの高さ（m）"),f()(o,"LayerOperation","レイヤーの操作"),f()(o,"ObliquePhotographyExcavation","モデル掘削"),f()(o,"ExecuteExcavation","掘削開始"),f()(o,"ClearExcavation","掘削をクリア"),f()(o,"ObliquePhotographyFlatten","モデルモザイク"),f()(o,"ModelFlatten","モデルモザイク"),f()(o,"ClearFlatten","モザイクをクリア"),f()(o,"showFlyRoute","ルートを表示"),f()(o,"showFlyStop","サイトを表示"),f()(o,"FloodAnalysis","浸水解析"),f()(o,"MaxHeight","最大高度（m）"),f()(o,"MinHeight","最小高度（m）"),f()(o,"FloodSpeed","浸水速度(m/秒)"),f()(o,"ExecuteFlood","浸水開始"),f()(o,"ClearFlood","浸水をクリア"),f()(o,"SelectOffset","選択オブジェクトのオフセット"),f()(o,"OpenSelectOffset","選択オブジェクトのオフセット有効"),f()(o,"OffsetX","X軸周りオフセット"),f()(o,"OffsetY","Y軸周りオフセット"),f()(o,"offsetZ","Z軸周りオフセット"),f()(o,"LayerColor","レイヤーの色"),f()(o,"FillStyleAndWireFrameMode","フィルスタイルとワイヤーフレームモード"),f()(o,"FillStyle","フィルスタイル"),f()(o,"LayerFillMode","フィルモード"),f()(o,"LayerWireframeMode","ワイヤーフレームモード"),f()(o,"LayerFillAndWireframeMode","フィルとワイヤーフレームモード"),f()(o,"TriangleWireframeMode","三角面ワイヤーフレーム"),f()(o,"QuadWireframeMode","四角面ワイヤーフレーム"),f()(o,"SketchWireframeMode","スケッチモード"),f()(o,"SpecialEffectsMode","特効線の枠"),f()(o,"PolygonOffset","多角形のオフセット"),f()(o,"PolygonOffsetFactor","オフセット因子"),f()(o,"PolygonOffsetUnit","オフセット単位"),f()(o,"SceneSave","シーンの保存"),f()(o,"SaveDate","保存データ"),f()(o,"SceneLabel","シーンタブ"),f()(o,"UpdateCurrentScene","現在シーンを更新"),f()(o,"iEarthScene","iEarthシーン"),f()(o,"ShareErrorMsg","シーン情報を取得できません。iPortalまたはOnlineにログインしてください..."),f()(o,"ClickToSearchAltitude","選択して高度検索"),f()(o,"UnNamed","名前なし"),f()(o,"SurfaceTransparency","地表透明度"),f()(o,"Version","バージョン"),f()(o,"WhatsNew","1、多角形クリップモジュール追加\n2、クロスクリップモジュール追加\n3、S3Mレイヤーはフィルスタイルとワイヤーフレームモードをサポート\n4、S3Mレイヤーは選択オブジェクトのオフセット機能をサポート\n5、S3Mレイヤーはモデル色コントロール機能をサポート\n6、S3Mレイヤーは浸水解析モジュールをサポート\n7、S3Mレイヤーは多角形のオフセット機能をサポート\n8、ライン輪郭の設定、点線の設定、軌跡線の設定を追加\n9、ポリゴンシンボルの色設定をサポート\n"),f()(o,"baseLayerSource","背景画像"),f()(o,"OnlineBaseMap","オンライン地図"),f()(o,"localImage","ローカル画像"),f()(o,"bingMaps","BingMap"),f()(o,"OpenStreetMap","Open Street Map"),f()(o,"SuperMapChinaDark","SuperMap China Dark"),f()(o,"gridImagery","グリッド画像"),f()(o,"superMapChinaLight","SuperMap China Light"),f()(o,"useRoller","スワイプ使用"),f()(o,"modelRoller","オンラインベースのロールカーテン"),f()(o,"lrRoller","左右に配置"),f()(o,"leftRoller","左側を非表示"),f()(o,"rightRoller","右側を非表示"),f()(o,"tbRoller","上下に配置"),f()(o,"topRoller","上部を非表示"),f()(o,"bottomRoller","下部を非表示"),f()(o,"windParticle","風力場"),f()(o,"trailLines","軌跡線"),f()(o,"scanLine","スキャン線"),f()(o,"saveAs","名前をつけて保存"),f()(o,"saveErrorWhileSceneEmpty","シーン名を設定してください"),f()(o,"saveSceneSuccess","シーンを保存しました"),f()(o,"saveSceneFailed","保存失敗、iPortalまたはOnlineにログインしてください..."),f()(o,"updateSceneSuccess","シーンを更新しました"),f()(o,"updateSceneFailed","シーンの更新が失敗した，更新する前に保存してください"),f()(o,"layerUrl","http://www.supermapol.com/realspace/services/3D-CBD/rest/realspace/datas/Building@CBD/config"),f()(o,"imageUrl","http://www.supermapol.com/realspace/services/3D-zhufeng_new/rest/realspace/datas/image"),f()(o,"terrainUrl","http://www.supermapol.com/realspace/services/3D-zhufeng_new/rest/realspace/datas/terrain"),f()(o,"sceneUrl","http://www.supermapol.com/realspace/services/3D-CBD/rest/realspace"),f()(o,"fullScreen","最大化"),f()(o,"polygonClipMode","クリップモード"),f()(o,"clickToSearchCoordination","選択したオブジェクトの座標値を検索"),f()(o,"stopChoose","ポイントを選択"),f()(o,"stop","やめる"),f()(o,"searchPlaceHolder","キーワードを入力してください..."),f()(o,"urlMismatchingPattern","正しいURLを入力してください"),f()(o,"polygonSymbolGridCellAlpha","ユニット透明度"),f()(o,"polygonSymbolGridLineCount","グリッド密度"),f()(o,"polygonSymbolGridLineThickness","グリッド線の幅"),f()(o,"polygonSymbolGridLineOffset","グリッド線のムーブ"),f()(o,"polygonSymbolStripeEvenColor","偶数のストライプが色付き"),f()(o,"polygonSymbolStripeOddColor","奇数のストライプが色付き"),f()(o,"polygonSymbolStripeOffset","ストライプのオフセット量"),f()(o,"polygonSymbolStripeOrientation","ストライプの向き"),f()(o,"polygonSymbolStripeRepeat","ストライプの反復数"),f()(o,"horizontal","水平方向"),f()(o,"vertical","垂直方向"),f()(o,"draw","描画"),f()(o,"polylineSymbolGapColor","間隔の色彩"),f()(o,"polylineSymbolOutlineColor","輪郭の色彩"),f()(o,"polylineSymbolGlowPower","円光の強度"),f()(o,"polylineSymbolLineWidth","線の幅（pix）"),f()(o,"pointSymbolColor","ポイントシンボルの色"),f()(o,"highlightBarrierColor","障害物をハイライト"),f()(o,"fullScreenToggle","全画面切替"),f()(o,"light","ライト"),f()(o,"ParticleSystem","粒子"),f()(o,"Fire","火炎"),f()(o,"Fountain","噴水"),f()(o,"pointLight","ポイントライト"),f()(o,"spotLight","スポットライト"),f()(o,"directionalLight","平行ライト"),f()(o,"cutoffDistance","拡散距離"),f()(o,"decay","減衰因子"),f()(o,"intensity","光の強度"),f()(o,"lightSourceColor","光の色"),f()(o,"spotLightAngle","スポットライトの範囲"),f()(o,"addToken","トークン追加"),f()(o,"loadException","ロードの異常。データやトークンを確認してください"),f()(o,"obliqueLightWarning","※3Dタイルキャッシュレイヤーには光効果がありません"),f()(o,"clickToConfirmThePositionOfTheLightSource","クリックして光源の位置を確認します"),f()(o,"clickLightChangeAttributes","クリックして光源を選択し、その属性を変更します"),f()(o,"ClickLineDirectionLightSource","線をクリックして、光源の方向を決定します"),f()(o,"hdr","ハイダイナミックレンジ"),f()(o,"emissionRate","数量"),f()(o,"particleSize","粒子サイズ"),f()(o,"minimumParticleLife","最短存在時間"),f()(o,"maximumParticleLife","最長存在時間"),f()(o,"imumParticleLife","存在時間"),f()(o,"minimumSpeed","最小速度"),f()(o,"maximumSpeed","最大速度"),f()(o,"startScale","初期縮尺"),f()(o,"endScale","最終縮尺"),f()(o,"gravity","重力"),f()(o,"LaunchType","放射タイプ"),f()(o,"CircularRadiation","円形放射"),f()(o,"SpheroidRadiation","楕円体放射"),f()(o,"ConicalRadiation","円錐放射"),f()(o,"BoxedRadiation","箱状放射"),f()(o,"TwoDimensionalSkyline","2Dスカイライン"),f()(o,"SpatialDistance","空間距離"),f()(o,"SpaceArea","スペース"),f()(o,"GroundDistance","地回りの距離"),f()(o,"FloorArea","敷地面積"),f()(o,"projectedArea","投影面積"),f()(o,"ellipsoid","楕円体"),f()(o,"VerticalHeight","縦の高さ"),f()(o,"HorizontalDistance","水平距離"),f()(o,"RoundBall","丸いボール"),f()(o,"height","高さ"),f()(o,"ShowContour","等高線を表示"),f()(o,"LayerRepeat","当レイヤーは存在しています"),f()(o,"SCTFailed","SCTのURLがエラー。地形ロードに失敗。"),f()(o,"ClickConfirmPoint","クリックして操作エリアの中点を確認"),f()(o,"RightClickEndDrawing","右クリックして描画を終了します"),f()(o,"DrawThreePoints","3点を引く"),f()(o,"ClickModelAddBox","モデルをクリックしてクロップボックスを追加します"),f()(o,"ClickStartDrawing","クリックして描画を開始"),f()(o,"PleaseDrawCorrectPolygon","正しいポリゴンを描いてください"),f()(o,"LeftClickBottomBox","マウスの左ボタンをクリックして、ボックスの下部に長方形の描画を開始します"),f()(o,"MoveMouseHeightBox","マウスの左ボタンをクリックして長方形の描画を終了し、マウスを動かしてボックスの高さを描画します。"),f()(o,"FloodlightTrail","フラッドライトトレイル"),f()(o,"WakelineColor","トレイルカラー"),f()(o,"airline","航空会社"),f()(o,"FloodlightScanLine","フラッドライトスキャンライン"),f()(o,"OpenScan","オープンスキャン"),f()(o,"CustomScanDirection","カスタムスキャン方向"),f()(o,"CustomScanCenter","カスタムスキャンセンター"),f()(o,"ScanMode","スキャンモード"),f()(o,"LineScan","ラインスキャン"),f()(o,"CircularScan","循環スキャン"),f()(o,"ScanColor","スキャンカラー"),f()(o,"ScanTexture","テクスチャをスキャンする"),f()(o,"LinearTexture1","線形テクスチャ1"),f()(o,"LinearTexture2","線形テクスチャ2"),f()(o,"CircularTexture1","円形テクスチャ1"),f()(o,"CircularTexture2","円形テクスチャ2"),f()(o,"HexagonTexture3","六角形のテクスチャ3"),f()(o,"ClickSetScanCenter","[スキャンセンターの設定]をクリックします"),f()(o,"ClickSetScanDirection","クリックしてスキャン方向を設定"),f()(o,"CurrentPointCannotBeSet","現在のポイントを設定できません"),f()(o,"ReSetScanCenter","[スキャンセンターの設定]をもう一度クリックします"),f()(o,"No","番号"),f()(o,"ParticleDensity","粒子密度"),f()(o,"ParticleVelocity","粒子速度"),f()(o,"Start","起動"),f()(o,"SwitchData","データの切り替え"),f()(o,"PleaseDrawCorrectPolygon","テクスチャをスキャン"),f()(o,"StretchingHeightZDirection","Z方向の伸縮高さ"),f()(o,"DrawLine","線を引く"),f()(o,"Cut","切る"),f()(o,"Drilling","掘削"),f()(o,"GeologicalBodyAnalysis","地質体分析"),f()(o,"ClickDrawFirstPoint","クリックして最初のポイントを描画します"),f()(o,"ClickDrawMultiplePointsAndRightClickEnd","クリックして複数のポイントを描画し、右クリックして終了します"),f()(o,"DrawTwoPointsAsProfile","プロファイルとして一度に2つのポイントを描画します"),f()(o,"BackLineAnalysis","フォールバック分析"),f()(o,"LimitHeightAnalysis","高さ制限分析"),f()(o,"OnLineAnalysis","スレッド分析"),f()(o,"AttachmentRate","付着率:0.83"),f()(o,"ClickLeftAddObservationPoint","マウスの左ボタンをクリックして、観測点を追加します"),f()(o,"ClickLeftAddObMultiplePoints","マウスの左ボタンをクリックして、観測点を追加します"),f()(o,"chooseLayers","レイヤーを選択"),f()(o,"ModelSubmergeAnalyze","モデル洪水分析"),f()(o,"Space","スペース"),f()(o,"Stick","地面に固執する"),f()(o,"PostObject","投稿オブジェクト"),f()(o,"AddGeometry","ジオメトリを追加"),f()(o,"Cylinder","シリンダー"),f()(o,"Cuboid","キューボイド"),f()(o,"Ball"," 球"),f()(o,"Cone","円錐"),f()(o,"ShortHalfShaft","短いハーフシャフト"),f()(o,"LongHalfShaft","準主軸"),f()(o,"StretchingHeight","ストレッチの高さ"),f()(o,"Granularity","粒状性"),f()(o,"Spin","スピン"),f()(o,"Xradius","X半径"),f()(o,"Yradius","Y半径"),f()(o,"Zradius","Z半径"),f()(o,"BottomRadius","底の半径"),f()(o,"choose","選択モード"),f()(o,"ZFImagery","エベレスト映像"),f()(o,"ZFTerrain","エベレスト地形"),f()(o,"StereographicDrawing","立面出図"),f()(o,"maxHeight","最大高さ"),f()(o,"maxDistance","最大距離"),f()(o,"assignRange","範囲を指定"),f()(o,"storageScene","保存"),f()(o,"sceneStorage","シーン保存"),f()(o,"openSave","シーンを開く"),f()(o,"storageFailed","保存に失敗しました。まずiPortalまたはオンラインアカウントを登録してください。...."),f()(o,"loginSuccess","ログイン成功"),f()(o,"loginFailed","ログイン失敗"),f()(o,"noPermission","シーンを作成、更新、削除する権限がありません。"),f()(o,"accountInfo","アカウント情報"),f()(o,"displayCoordinates","座標を表示"),f()(o,"whiteMold","白の鋳型"),f()(o,"whiteMoldMap","ホワイトモード"),f()(o,"map","地図"),f()(o,"service","サービス"),f()(o,"scene","シーン"),f()(o,"waiteData","データ読み込みが完了するまで待ちます"),f()(o,"notSupport","このデバイスはこの機能をサポートしていません。"),f()(o,"downloadAtt","属性のダウンロード"),f()(o,"serviceName","サービス名"),f()(o,"resourceSubType","サービスの種類"),f()(o,"updateTime","更新日時"),f()(o,"serviceUrl","サービスリンク"),f()(o,"view","表示"),f()(o,"noData","データがありません"),f()(o,"year","年"),f()(o,"month","月"),f()(o,"day","日"),f()(o,"yearsAgo"," 年前"),f()(o,"monthsAgo"," ヶ月前"),f()(o,"weeksAgo"," 週間前"),f()(o,"daysAgo"," 日前"),f()(o,"hoursAgo"," 時間前"),f()(o,"minutesAgo"," 分前"),f()(o,"secondsAgo"," 秒前"),f()(o,"restore","元に戻す"),f()(o,"saveAsImage","画像として保存"),o),S=i("pZdB"),_=i.n(S),x=i("nh/u"),E=i.n(x),R=i("qA97"),L=i.n(R),A=i("Y5iJ"),P=i.n(A),T=i("wAoC"),M=i.n(T),D=i("PZCM"),k=i.n(D),N=i("zbOa"),B=i.n(N),I=i("kjlJ"),F=i.n(I),O=i("YYN1"),H=i.n(O),U=(l=(navigator.language||navigator.browserLanguage).toLowerCase(),window.lang=l,l).toLowerCase();function z(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("HEAD")[0].appendChild(t)}(n=void 0!==U?U:(navigator.language||navigator.browserLanguage).toLowerCase()).startsWith("zh")?(r=C,window.iEarth_resource_services=_.a,window.specialEffects=E.a,window.hotSpots=L.a):n.startsWith("ja")?(r=b,window.iEarth_resource_services=B.a,window.specialEffects=F.a,window.hotSpots=H.a,z("static/css/cover_JA.css")):(r=w,window.iEarth_resource_services=P.a,window.specialEffects=M.a,window.hotSpots=k.a,z("static/css/cover_EN.css"));var V,G=r,j=(V={TDT_IMG:"https://[subdomain].tianditu.com/img_w/wmts",TDT_LABEL:"https://[subdomain].tianditu.com/cia_w/wmts",BINGMAP:"//dev.virtualearth.net",BING_MAP_KEY:"AraGkBfghounWbX8rAcEEL8VXISh5M7tbxnlGxKocM134GmIr-yr48WBJvfaRaCg",STK:"https://www.supermapol.com/realspace/services/3D-stk_terrain/rest/realspace/datas/info/data/path",ZF_IMG:"http://www.supermapol.com/realspace/services/3D-dxyx_ios2/rest/realspace/datas/MosaicResult_2@IMAGE_1",ZF_TERRAIN:"http://www.supermapol.com/realspace/services/3D-dxyx_ios2/rest/realspace/datas/DatasetDEM_1@sichuanTer",ZF_IMG2:"http://www.supermapol.com/realspace/services/3D-ZF_normal/rest/realspace/datas/image",ZF_TERRAIN2:"http://www.supermapol.com/realspace/services/3D-ZF_normal/rest/realspace/datas/srtm_54_07@zhufeng",SiChuan_TERRAIN:"http://www.supermapol.com/realspace/services/3D-dixingyingxiang/rest/realspace/datas/DatasetDEM",SiChuan_IMG:"http://www.supermapol.com/realspace/services/3D-dixingyingxiang/rest/realspace/datas/MosaicResult",TENSE_IMG0:"http://www.supermapol.com/realspace/services/3D-HuanJingJianCe-2/rest/realspace/datas/rs0300@%E6%88%BF%E5%B1%B1",TENSE_IMG1:"http://www.supermapol.com/realspace/services/3D-HuanJingJianCe-2/rest/realspace/datas/rs0310@%E6%88%BF%E5%B1%B1",TENSE_IMG2:"http://www.supermapol.com/realspace/services/3D-HuanJingJianCe-2/rest/realspace/datas/rs0330@%E6%88%BF%E5%B1%B1",TENSE_IMG3:"http://www.supermapol.com/realspace/services/3D-HuanJingJianCe-2/rest/realspace/datas/rs0340@%E6%88%BF%E5%B1%B1",TENSE_IMG4:"http://www.supermapol.com/realspace/services/3D-HuanJingJianCe-2/rest/realspace/datas/rs0350@%E6%88%BF%E5%B1%B1",TENSE_IMG5:"http://www.supermapol.com/realspace/services/3D-HuanJingJianCe-2/rest/realspace/datas/rs0400@%E6%88%BF%E5%B1%B1",TENSE_IMG6:"http://www.supermapol.com/realspace/services/3D-HuanJingJianCe-2/rest/realspace/datas/rs0410@%E6%88%BF%E5%B1%B1",TENSE_IMG7:"http://www.supermapol.com/realspace/services/3D-HuanJingJianCe-2/rest/realspace/datas/rs0420@%E6%88%BF%E5%B1%B1",TENSE_IMG8:"http://www.supermapol.com/realspace/services/3D-HuanJingJianCe-2/rest/realspace/datas/rs0430@%E6%88%BF%E5%B1%B1",TENSE_IMG9:"http://www.supermapol.com/realspace/services/3D-HuanJingJianCe-2/rest/realspace/datas/rs0440@%E6%88%BF%E5%B1%B1",TENSE_IMG10:"http://www.supermapol.com/realspace/services/3D-HuanJingJianCe-2/rest/realspace/datas/rs0450@%E6%88%BF%E5%B1%B1",SUPERMAP_IMG_WGS:"http://www.supermapol.com/realspace/services/map-World/rest/maps/World_Google",SUPERMAP_IMG_MEC:"http://www.supermapol.com/realspace/services/map-China400/rest/maps/China400",SCP_JINJIANG:"http://www.supermapol.com/realspace/services/3D-jinjiang/rest/realspace/datas/jinjiang/config",SCENE_JINJIANG:"http://www.supermapol.com/realspace/services/3D-jinjiang/rest/realspace",SCP_SUOFEIYA:"http://www.supermapol.com/realspace/services/3D-suofeiya_church/rest/realspace/datas/Config/config",SCENE_SUOFEIYA:"http://www.supermapol.com/realspace/services/3D-suofeiya_church/rest/realspace",SCP_SRSB:"http://www.supermapol.com/realspace/services/3D-srsb/rest/realspace/datas/srsb/config",SCENE_SRSB:"http://www.supermapol.com/realspace/services/3D-srsb/rest/realspace",SCP_SRSB_WATER:"http://www.supermapol.com/realspace/services/3D-srsb/rest/realspace/datas/%E6%B0%B4%E9%9D%A2@vector/config",SCP_NIAOCHAO:"http://www.supermapol.com/realspace/services/3D-niaocao_water/rest/realspace/datas/%E9%B8%9F%E5%B7%A2%E4%BA%94%E6%9C%9F/config",SCENE_NIAOCHAO:"http://www.supermapol.com/realspace/services/3D-OlympicGreen20200416/rest/realspace",SCP_NIAOCHAO_WATER:"http://www.supermapol.com/realspace/services/3D-Olympic/rest/realspace/datas/NewDataset@water-caijian/config",SCP_CBD_TREE:"http://www.supermapol.com/realspace/services/3D-WebGLCBD/rest/realspace/datas/Tree@%E6%96%B0CBD/config",SCP_CBD_ROAD:"http://www.supermapol.com/realspace/services/3D-CBDCache20200416/rest/realspace/datas/Ground_Daolu@CBD/config",SCP_CBD_BRIDGE:"http://www.supermapol.com/realspace/services/3D-CBDCache20200416/rest/realspace/datas/Ground_qiao@CBD/config",SCP_CBD_GROUND1:"http://www.supermapol.com/realspace/services/3D-CBDCache20200416/rest/realspace/datas/Ground_1@CBD/config",SCP_CBD_GROUND2:"http://www.supermapol.com/realspace/services/3D-WebGLCBD/rest/realspace/datas/Ground_2@%E6%96%B0CBD/config",SCP_CBD_BUILD:"http://www.supermapol.com/realspace/services/3D-CBD/rest/realspace/datas/Building@CBD/config"},f()(V,"SCP_CBD_TREE","http://www.supermapol.com/realspace/services/3D-CBDCache20200416/rest/realspace/datas/Tree@CBD/config"),f()(V,"SCP_CBD_LAKE","http://www.supermapol.com/realspace/services/3D-CBDCache20200416/rest/realspace/datas/Lake@CBD/config"),f()(V,"SCP_BIM","https://www.supermapol.com/realspace/services/3D-S3MData/rest/realspace/datas/T8H_NoLod/config"),f()(V,"SCENE_BIMBUILDING","http://www.supermapol.com/realspace/services/3D-BIMbuilding/rest/realspace"),f()(V,"SCENE_WIREFRAME","http://www.supermapol.com/realspace/services/3D-wireFrame/rest/realspace"),f()(V,"SCP_VECTOR_POLYGON","http://www.supermapol.com/realspace/services/3D-China/rest/realspace/datas/%E4%B8%93%E9%A2%98%E5%9B%BE/config"),f()(V,"SCP_VECTOR_LINE","http://www.supermapol.com/realspace/services/3D-China/rest/realspace/datas/Line/config"),f()(V,"SCP_VECTOR_TEXT","http://www.supermapol.com/realspace/services/3D-China/rest/realspace/datas/text/config"),f()(V,"SCP_POINTCLOUD","http://www.supermapol.com/realspace/services/3D-cloud/rest/realspace/datas/POINTCLOUD23/config"),f()(V,"SCENE_POINTCLOUD","http://www.supermapol.com/realspace/services/3D-cloud/rest/realspace"),f()(V,"SCP_SGNS","http://www.supermapol.com/realspace/services/3D-SGNS/rest/realspace/datas/siguniang/config"),f()(V,"SCENE_SGNS","http://www.supermapol.com/realspace/services/3D-SGNS/rest/realspace"),f()(V,"SCENE_RECT","http://www.supermapol.com/realspace/services/3D-Text01/rest/realspace"),f()(V,"SCP_OLYMPIC_TREE","http://www.supermapol.com/realspace/services/3D-WebGLOlympicGreen/rest/realspace/datas/Tree@OlympicGreen/config"),f()(V,"SCP_OLYMPIC_BUILD","http://www.supermapol.com/realspace/services/3D-WebGLOlympicGreen/rest/realspace/datas/Building@OlympicGreen/config"),f()(V,"SCP_OLYMPIC_BILLBOARD","http://www.supermapol.com/realspace/services/3D-WebGLOlympicGreen/rest/realspace/datas/BillBoard@OlympicGreen/config"),f()(V,"SCP_OLYMPIC_GROUND","http://www.supermapol.com/realspace/services/3D-WebGLOlympicGreen/rest/realspace/datas/Ground@OlympicGreen/config"),f()(V,"SCP_OLYMPIC_WATER","http://www.supermapol.com/realspace/services/3D-WebGLOlympicGreen/rest/realspace/datas/Waters@OlympicGreen/config"),f()(V,"SCENE_OLYMPIC","http://www.supermapol.com/realspace/services/3D-Olympic/rest/realspace"),f()(V,"SCENE_OLYMPIC_GREEN","http://www.supermapol.com/realspace/services/3D-SampleCodeForFan20200420/rest/realspace"),f()(V,"SCP_XGPARK","http://www.supermapol.com/realspace/services/3D-yanmofenxi/rest/realspace/datas/sci_park/config"),f()(V,"SCENE_XGPARK","http://www.supermapol.com/realspace/services/3D-yanmofenxi/rest/realspace"),f()(V,"SCP_PIPELINE","https://www.supermapol.com/realspace/services/3D-pipeline_s3m/rest/realspace/datas/NetWork@Pipe3D/config"),f()(V,"SCP_HISTOGRAM1","http://www.supermapol.com/realspace/services/3D-Histogram/rest/realspace/datas/Point2D_3000_5000/config"),f()(V,"SCP_HISTOGRAM2","http://www.supermapol.com/realspace/services/3D-Histogram/rest/realspace/datas/Point2D_10000_max/config"),f()(V,"SCP_HISTOGRAM3","http://www.supermapol.com/realspace/services/3D-Histogram/rest/realspace/datas/Point2D_min_1000/config"),f()(V,"SCP_HISTOGRAM4","http://www.supermapol.com/realspace/services/3D-Histogram/rest/realspace/datas/Point2D_5000_10000/config"),f()(V,"SCP_HISTOGRAM5","http://www.supermapol.com/realspace/services/3D-Histogram/rest/realspace/datas/Point2D_1000_3000/config"),f()(V,"SCENE_HISTOGRAM","http://www.supermapol.com/realspace/services/3D-Histogram/rest/realspace"),f()(V,"SCENE_CBD","http://www.supermapol.com/realspace/services/3D-CBDCache20200416/rest/realspace"),f()(V,"SCENE_WebGLCBD","http://www.supermapol.com/realspace/services/3D-CBDCache20200416/rest/realspace"),f()(V,"SCP_FCFH_QX","http://www.supermapol.com/realspace/services/3D-FCFH_Shangdong/rest/realspace/datas/config/config"),f()(V,"SCP_FCFH_VECTOR_EXTRUDE","http://www.supermapol.com/realspace/services/3D-individualHouse/rest/realspace/datas/%E4%B8%93%E9%A2%98%E6%88%B7%E5%9E%8B%E9%9D%A2_%E6%8B%89%E4%BC%B8/config"),f()(V,"SCP_FCFH_DATA","http://www.supermapol.com/realspace/services/data-FCFH_Shangdong/rest/data"),f()(V,"SCP_WORLD_COUNTRY_VECTOR","http://www.supermapol.com/realspace/services/3D-Countries-World2/rest/realspace/datas/Countries_1@World/config"),f()(V,"SCP_WORLD_COUNTRY_VECTOR2"," http://www.supermapol.com/realspace/services/3D-ShiJieGuoJiaBianJie/rest/realspace"),f()(V,"SCENE_POLYLINEGROW_BUINDINGS","http://www.supermapol.com/realspace/services/3D-buildings1122/rest/realspace"),f()(V,"SCENE_TISHUJU","http://www.supermapol.com/realspace/services/3D-tishuju/rest/realspace"),f()(V,"SCENE_GTC_UINSIDE","http://www.supermapol.com/realspace/services/3D-data_all/rest/realspace/datas/%E5%86%85%E9%83%A8%E7%BB%93%E6%9E%84@%E5%AE%A4%E5%86%85/config"),f()(V,"SCENE_GTC_UOUTSIDE","http://www.supermapol.com/realspace/services/3D-data_all/rest/realspace/datas/%E5%A4%96%E9%83%A8%E7%BB%93%E6%9E%84@%E5%AE%A4%E5%86%85/config"),f()(V,"SCENE_GTC_UWINDOW","http://www.supermapol.com/realspace/services/3D-data_all/rest/realspace/datas/U%E5%9E%8B%E5%BB%BA%E7%AD%91%E7%AA%97@%E5%AE%A4%E5%86%85/config"),f()(V,"SCENE_GTC_WALL9","http://www.supermapol.com/realspace/services/3D-data_all/rest/realspace/datas/%E5%90%88%E5%B9%B6%E5%89%8D%E5%A2%99@%E4%B9%9D%E5%8F%B7%E6%A5%BC/config"),f()(V,"SCENE_GTC_WINDOW9","http://www.supermapol.com/realspace/services/3D-data_all/rest/realspace/datas/%E5%90%88%E5%B9%B6%E5%89%8D%E7%AA%97@%E4%B9%9D%E5%8F%B7%E6%A5%BC/config"),f()(V,"SCENE_GTC_WINDOW9","http://www.supermapol.com/realspace/services/3D-data_all/rest/realspace/datas/%E5%90%88%E5%B9%B6%E5%89%8D%E7%BB%93%E6%9E%84%E5%9F%BA%E7%A1%80@%E4%B9%9D%E5%8F%B7%E6%A5%BC/config"),f()(V,"SCENE_GTC_WINDOW9","http://www.supermapol.com/realspace/services/3D-data_all/rest/realspace/datas/%E5%90%88%E5%B9%B6%E5%89%8D%E9%97%A8@%E4%B9%9D%E5%8F%B7%E6%A5%BC/config"),f()(V,"SCENE_GTC_WINDOW9","http://www.supermapol.com/realspace/services/3D-data_all/rest/realspace/datas/%E5%90%88%E5%B9%B6%E5%89%8D%E6%A5%BC%E6%9D%BF@%E4%B9%9D%E5%8F%B7%E6%A5%BC/config"),f()(V,"SCENE_GTC_FLOOR9","http://www.supermapol.com/realspace/services/3D-data_all/rest/realspace/datas/%E6%8B%89%E4%BD%8E%E6%A5%BC%E5%B1%82@%E4%B9%9D%E5%8F%B7%E6%A5%BC/config"),f()(V,"SCENE_GTC_LWINDOW9","http://www.supermapol.com/realspace/services/3D-data_all/rest/realspace/datas/%E6%8B%89%E4%BD%8E%E7%AA%97@%E4%B9%9D%E5%8F%B7%E6%A5%BC/config"),f()(V,"SCENE_GTC_LWALL9","http://www.supermapol.com/realspace/services/3D-data_all/rest/realspace/datas/%E6%8B%89%E4%BD%8E%E5%A2%99@%E4%B9%9D%E5%8F%B7%E6%A5%BC/config"),f()(V,"SCENE_GTC_LB9","http://www.supermapol.com/realspace/services/3D-data_all/rest/realspace/datas/%E6%8B%89%E4%BD%8E%E6%A5%BC%E6%9D%BF@%E4%B9%9D%E5%8F%B7%E6%A5%BC/config"),f()(V,"SCENE_GTC_UNIT9","http://www.supermapol.com/realspace/services/3D-data_all/rest/realspace/datas/%E5%90%88%E5%B9%B6%E5%90%8E@%E4%B9%9D%E5%8F%B7%E6%A5%BC/config"),f()(V,"SCENE_GTC_BUILDIBG","http://www.supermapol.com/realspace/services/3D-data_all/rest/realspace/datas/building_udb@building/config"),f()(V,"SCENE_GTC_HILL","http://www.supermapol.com/realspace/services/3D-data_all/rest/realspace/datas/%E5%B1%B1/config"),f()(V,"SCENE_GTC_GROUND","http://www.supermapol.com/realspace/services/3D-data_all/rest/realspace/datas/%E5%9C%B0%E9%9D%A2/config"),f()(V,"SCENE_MODELUPDATE","http://www.supermapol.com/realspace/services/3D-MoXingGengXin/rest/realspace"),f()(V,"SCENE_CLIP","http://www.supermapol.com/realspace/services/3D-clip_fengbian/rest/realspace"),f()(V,"TOKEN_TIANDITU","4a00a1dc5387b8ed8adba3374bd87e5e"),f()(V,"SCENE_FEATUREVALUE","http://www.supermapol.com/realspace/services/3D-featureValue_building9/rest/realspace/datas/%E4%B9%9D%E5%8F%B7@%E4%B9%9D%E5%8F%B7%E6%A5%BC/config"),f()(V,"SCENE_OLYMPIC_NIGHT","http://www.supermapol.com/realspace/services/3D-OlympicGreenNight/rest/realspace"),f()(V,"SCENE_CHONGQING_TX","https://www.supermapol.com/realspace/services/3D-CQmodel_wireframe_2000/rest/realspace/datas/CQmodel/config"),f()(V,"SCENE_VOLUME_NEAREST","http://www.supermapol.com/realspace/services/3D-compare/rest/realspace"),f()(V,"SCENE_SICHUAN","http://www.supermapol.com/realspace/services/3D-dixingyingxiang/rest/realspace"),V);function W(e){var t=function(e){var t=document.createElement("DIV");t.className="twipsy right";var i=document.createElement("DIV");i.className="twipsy-arrow",t.appendChild(i);var s=document.createElement("DIV");s.className="twipsy-inner",t.appendChild(s),this._div=t,this._title=s,this.message="",e.appendChild(t);var a=this;t.onmousemove=function(e){a.showAt({x:e.clientX,y:e.clientY},a.message)}};return t.prototype.setVisible=function(e){this._div.style.display=e?"block":"none"},t.prototype.showAt=function(e,t){e&&t&&(this.setVisible(!0),this._title.innerHTML=t,this._div.style.left=e.x+10+"px",this._div.style.top=e.y-this._div.clientHeight/2+"px",this.message=t)},new t(e)}function Z(){var e="";return-1!==window.location.href.indexOf("/apps")&&(e=window.location.href.substring(0,window.location.href.indexOf("/apps")+1)),e||(e=-1!==location.href.indexOf("/iportal/")?location.protocol+"//"+location.host+"/iportal/":location.protocol+"//"+location.host+"/"),e}function q(e,t){if(t&&t.enable){var i="";return t.proxyServerRootUrl?i=t.proxyServerRootUrl+"/":t.rootUrlPostfix?i=t.port+"/"+t.rootUrlPostfix+"/":t.rootUrlPostfix||(i=t.port+"/"),80!==t.port?e.indexOf(i)>=0:e.indexOf(i)>=0||e.indexOf(i.replace(":80",""))>=0}return!1}function Q(e){var t=e.split("://"),i="";t[1].indexOf(":")<0?i=t[1].split("/")[0]:i=t[1].split(":")[0];return i}var Y=i("I6gq"),X=i.n(Y),J=i("pFYg"),$=i.n(J),K=i("fZjL"),ee=i.n(K),te=function e(t,i){var s=!0;if(ee()(t).length!=ee()(i).length)return!1;for(var a in t)if("object"==$()(t[a])){if(!(s=e(t[a],i[a])))break}else if(t[a]!=i[a]){s=!1;break}return s},ie=function(e){for(var t=[].concat(e),i=[],s=0,a=t.length;s<a;s++){var o=Cesium.Cartographic.fromCartesian(t[s]),n=Cesium.Math.toDegrees(o.longitude),r=Cesium.Math.toDegrees(o.latitude),l=o.height;-1==i.indexOf(n)&&-1==i.indexOf(r)&&(i.push(n),i.push(r),i.push(l))}return i},se=function(e){var t=void 0;switch(e){case"Point":t=window.handlerPoint;break;case"Polyline":t=window.handlerPolyline;break;case"Polygon":t=window.handlerPolygon;break;case"Marker ":t=window.handlerMarker;break;case"Box ":t=window.handlerBox}return t},ae={initHandler:function(e,t){var i=0;switch(t&&(i=t),e){case"Point":window.handlerPoint=new Cesium.DrawHandler(viewer,Cesium.DrawMode.Point);break;case"Polyline":window.handlerPolyline=new Cesium.DrawHandler(viewer,Cesium.DrawMode.Line,i);break;case"Polygon":window.handlerPolygon=new Cesium.DrawHandler(viewer,Cesium.DrawMode.Polygon,i);break;case"Marker ":window.handlerMarker=new Cesium.DrawHandler(viewer,Cesium.DrawMode.Marker,i);break;case"Box ":window.handlerBox=new Cesium.DrawHandler(viewer,Cesium.DrawMode.Box,i)}window.tooltip||(window.tooltip=W(viewer._element)),window.polylineCollection||(window.polylineCollection=new Cesium.PolylineCollection({translucentRS:Cesium.RenderState.fromCache({depthMask:!1,depthTest:{enabled:!1}})}),window.polylineTransparent=window.polylineCollection.add({width:2,material:Cesium.Material.fromType(Cesium.Material.ColorType,{color:Cesium.Color.fromCssColorString("#51ff00").withAlpha(.5)})}),viewer.scene.primitives.add(window.polylineCollection))},handlerDrawing:function(e,t){var i=se(e);return new d.a(function(s,a){var o=window.tooltip,n=i.activeEvt.addEventListener(function(t){1==t?(viewer.enableCursorStyle=!1,viewer._element.style.cursor="","Polygon"==e||"Polyline"==e?document.body.classList.add("drawCur"):document.body.classList.add("measureCur")):(viewer.enableCursorStyle=!0,o.setVisible(!1),"Polygon"==e||"Polyline"==e?document.body.classList.remove("drawCur"):document.body.classList.remove("measureCur"))}),r=i.movingEvt.addEventListener(function(s){if(s.x<200&&s.y<150)o.setVisible(!1);else{switch(t){case 1:o.showAt(s,"<p>点击确定多边形中间点</p><p>绘制三点即可</p><p>右键单击结束绘制</p>");break;case 2:o.showAt(s,"<p>点击开始绘制</p><p>右键单击结束绘制</p><p>选中可进行编辑属性</p>");break;default:o.showAt(s,"<p>点击左键确定操作区域中间点</p><p>右键单击结束绘制</p>")}if(i.polyline&&i.isDrawing){var a=[].concat(v()(i.polyline.positions));"Polygon"==e&&a.push(a[0]),window.polylineTransparent.positions=a,window.polylineTransparent.show=!0}}}),l=i.drawEvt.addEventListener(function(t){if(!t.object.positions&&"Point"!=e)return o.showAt(t,"<p>请绘制正确的多边形</p>"),i.polygon.show=!1,i.polyline.show=!1,i.deactivate(),void i.activate();if(o.setVisible(!1),"Point"==e||"Marker"==e)i.clear(),s({result:t});else{if(window.polylineTransparent.show=!0,"Polygon"==e){i.polygon._polygon._material._color._value.alpha=.5;var a=[].concat(v()(t.object.positions));a.push(a[0]),window.polylineTransparent.positions=a}var c=ie(t.object.positions);s({result:t,positions:c})}n(),r(),l()})})},clearHandlerDrawing:function(e){var t=void 0;(t=e?se(e):window.handlerPolygon).deactivate(),t.clear(),viewer.enableCursorStyle=!0,document.body.classList.remove("drawCur"),document.body.classList.remove("measureCur"),window.tooltip.setVisible(!1),window.polylineTransparent&&(window.polylineTransparent.show=!1)},Edit:function(e,t,i){window.selectHandler||(window.selectHandler=new Cesium.ScreenSpaceEventHandler(viewer.scene.canvas));var s=window.selectHandler;"Polygon"==i&&window.handlerPolygon.polygon&&(window.handlerPolygon.polygon.show=!0),s.setInputAction(function(){var a=viewer.selectedEntity,o=window.editHandler;a?(o?(o.deactivate(),o.setEditObject(a),o.activate()):(window.editHandler=new Cesium.EditHandler(viewer,a),e.isEditZ?window.editHandler.isEditZ=e.isEditZ:window.editHandler.isEditZ=!1,window.editHandler.activate()),s.setInputAction(function(){var s=viewer.selectedEntity,a=window.editHandler;if(s&&a&&a._positions){if(te(e.EditPositions,window.editHandler._positions))return;e.EditPositions=[].concat(v()(window.editHandler._positions));var o=ie(e.EditPositions);if(t&&t(o),"Polygon"==i){var n=[].concat(v()(window.editHandler._positions));n.push(n[0]),window.polylineTransparent.positions=n}}},Cesium.ScreenSpaceEventType.LEFT_UP)):o&&o&&o.deactivate()},Cesium.ScreenSpaceEventType.LEFT_CLICK)},clearEditHandler:function(){window.editHandler&&(window.editHandler.deactivate(),window.editHandler.clear()),window.selectHandler&&(window.selectHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_UP),window.selectHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK),window.selectHandler.destroy(),window.selectHandler=null)},axiosJsonp:function(e){if(e)return new d.a(function(t,i){window.jsonCallBack=function(e){t(e)};var s=document.createElement("script");s.type="text/javascript",s.src=e+"&callback=jsonCallBack",document.getElementsByTagName("head")[0].appendChild(s),setTimeout(function(){document.getElementsByTagName("head")[0].removeChild(s)},500)});console.error("Axios.JSONP 至少需要一个url参数!")},cartographic:ie},oe=i("O4Lo"),ne=i.n(oe),re=[{name:"云层",proxiedUrl:"@/../static/images/clouds-supermap-sm.png",description:"云层"},{name:"天空盒",id:5,skyBoxRight:"@/../static/images/SkyBox/Right.png",skyBoxLeft:"@/../static/images/SkyBox/Left.png",skyBoxFront:"@/../static/images/SkyBox/Front.png",skyBoxBack:"@/../static/images/SkyBox/Back.png",skyBoxUp:"@/../static/images/SkyBox/Up.png",skyBoxDown:"@/../static/images/SkyBox/Down.png",description:"天空盒",currentSky:null,defaultSky:null}],le={name:"initEcharts",data:function(){return{sharedState:store.state}},directives:{stopdrag:{inserted:function(e,t){e.onmousedown=function(e){e.stopPropagation()}}}},computed:{isInitEcharts:function(){return this.sharedState.isInitEcharts}}},ce={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{directives:[{name:"stopdrag",rawName:"v-stopdrag"},{name:"show",rawName:"v-show",value:this.isInitEcharts,expression:"isInitEcharts"}],staticClass:"profile3D_echarts",staticStyle:{position:"absolute",right:"390px"},attrs:{id:"profile3D_echarts"}})},staticRenderFns:[]};var de=i("VU/8")(le,ce,!1,function(e){i("NGqd")},"data-v-7353e1c5",null).exports,ue=i("mvHQ"),me=i.n(ue),pe=(i("gRE1"),i("Dd8w")),he=i.n(pe),ve=i("+6Bu"),ge=i.n(ve);i("lRwf"),Ce();i("zM1N");var ye=i("tQUq"),fe=X.a.create({baseURL:Object({NODE_ENV:"production"}).API_ROOT,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"}});function Ce(){return Object({NODE_ENV:"production"}).IPORTAL_URL||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;if(we)return we;var t=e.indexOf("apps");if(e.indexOf("lab.supermapol.com")>-1)return"http://lab.supermapol.com/";return t>-1?e.substring(0,t-1):window.location.origin}()}var we="";fe.interceptors.request.use(function(e){return e},function(e){return d.a.reject(e)}),fe.interceptors.response.use(function(e){return e},function(e){return e.response&&e.response.status,d.a.reject(e.response.data)});function be(e){var t=document.createElement("a");return t.href=e,t.href}var Se={name:"infoManage",props:{isCreateScene:{type:Boolean}},data:function(){return{sharedState:store.state,version:"0",scenePortalName:"",scenePortalTages:"",scenePortalUser:"",scenePortalDescription:"",loginSuccess:null,key:"Av63hPkCmH18oGGn5Qg3QhLBJvknZ97xbhyw3utDLRtFv7anHjXNOUQbyWBL5fK5",token:"4a00a1dc5387b8ed8adba3374bd87e5e",terrainToken:"e90d56e5a09d1767899ad45846b0cefd",sceneID:0,copyIsCreateScene:this.isCreateScene}},computed:{isInitViewer:function(){return this.sharedState.isInitViewer},infoManageShow:function(){return this.sharedState.infoManage},portalUserprofile:function(){return window.store.portalUserprofile},switchAccount:function(){return this.portalUserprofile&&"GUEST"!==this.portalUserprofile.userName?Resource.accountInfo:Resource.login}},methods:{toggleVisibility:function(){this.showStorageScene("none")},init:function(){this.copyIsCreateScene||this.openExistScene()},show:function(){var e=window.store.portalUserprofile;if(e&&"GUEST"!==e.userName){var t=Z()+"web-ui/my-account/account";window.open(t)}else!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.authSucceed,i=ge()(e,["authSucceed"]);new ye.a(he()({loginOptions:{theme:"dark",logoUrl:be("./static/images/logo.ico"),appName:"iEarth"},onSucceed:t},i)).create()}({authSucceed:this.loginSucceedCallback.bind(this),onFailed:this.loginFailedCallback.bind(this),onCanceled:this.cancel.bind(this)})},hide:function(){},loginSucceedCallback:function(e){console.log("result:"+e);var t=e.data;this.loginSuccess=e,t&&t.success&&t.user?(window.store.userInfo=t.user,this.$Message.success(Resource.loginSuccess),this.$emit("login-success"),location.reload()):this.loginFailedCallback(e)},loginFailedCallback:function(e){var t=e.data;window.store.userInfo=t.user,this.$Message.error(Resource.loginFailed),this.$emit("login-failed",e)},cancel:function(e){"user"===e&&this.$emit("login-cancel",{error:!1})},IstorageScene:function(){document.getElementById("saveDate").innerText=this.getNowFormatDate(),this.outputSceneToFile(),this.showStorageScene("block")},showStorageScene:function(e){document.getElementById("storageScene").style.display=e},getNowFormatDate:function(){var e=new Date,t=e.getMonth()+1,i=e.getDate();return t>=1&&t<=9&&(t="0"+t),i>=0&&i<=9&&(i="0"+i),e.getFullYear()+"-"+t+"-"+i+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()},outputSceneToFile:function(){var e=viewer.scene.outputSceneToFile();Cesium.when(e,function(e){var t=document.getElementById("sceneCanvas").getContext("2d"),i=new Image;i.src=e,i.onload=function(){t.drawImage(i,0,0,298,150)}})},createAndSaveScene:function(){var e=this,t=this.scenePortalName,i=this.scenePortalTages.replace("，",",").split(","),s=this.scenePortalUser,a=this.scenePortalDescription;if(""!==t){var o={layers:{}};this.checkLayers(o.layers);var n=document.getElementById("sceneCanvas").toDataURL("image/jpeg");n=n.split(",")[1];var r=viewer.scene.camera;o.camera={position:{x:r.positionWC.x,y:r.positionWC.y,z:r.positionWC.z},heading:r.heading,pitch:r.pitch,roll:r.roll},o.environmentState={enableLighting:viewer.scene.globe.enableLighting,skyAtmosphereShow:viewer.scene.skyAtmosphere.show,enableFog:viewer.scene.fog.enabled},o.version="2.0";var l={name:t,tags:i,userName:s,description:a,content:me()(o)};if("GUEST"!==window.store.portalUserprofile.userName){var c=window.store.portalUserprofile.modulePermissions;if(c.includes("portal:user:createUpdateDeleteScenes")||c.includes("*")){var d=Z()+"web/scenes.json";window.axios.post(d,me()(l),{withCredentials:!0}).then(function(t){e.sceneID=t.data.newResourceID;var i=Z()+"web/scenes/"+parseInt(t.data.newResourceID)+"/thumbnail.json";window.axios({method:"put",url:i,data:n,headers:{"Content-type":"application/x-www-form-urlencoded"},withCredentials:!0}).then(function(i){e.$Message.success(Resource.saveSceneSuccess),setTimeout(function(){e.showStorageScene("none");var i=Z()+"apps/earth/v2/index.html?id="+t.data.newResourceID;window.open(i,"_self")},1e3)}).catch(function(t){e.$Message.error(t.message)})})}else this.labelPermissionsAnimation()}else this.labelStorageFailedAnimation()}else e.$Message.warning(Resource.saveErrorWhileSceneEmpty)},openExistScene:function(){var e=this,t=window.location.href.split("id=")[1];e.sceneID=t.split("&")[0],e.showStorageScene("none");var i=Z()+"web/scenes/"+e.sceneID+".json";window.axios.get(i,{withCredentials:!0}).then(function(t){if(200===t.status){var i=Z()+"web/permissions/highestpermission.json?resourceIds="+encodeURIComponent("["+e.sceneID+"]")+"&resourceType=SCENE";window.axios.get(i,{withCredentials:!0}).then(function(i){"DELETE"===i.data[e.sceneID]?e.openScene(t):"READ"===i.data[e.sceneID]?(e.openScene(t),document.getElementById("storageInfo").style.display="none"):e.labelPermissionsAnimation()})}else 401===t.status&&e.labelPermissionsAnimation()}).catch(function(e){console.log(e)})},openScene:function(e){var t=this,i=JSON.parse(e.data.content);if(t.scenePortalName=e.data.name,t.scenePortalTages=e.data.tags.join(","),t.scenePortalUser=e.data.userName,t.scenePortalDescription=e.data.description,i){"{}"!==me()(i.layers)&&(t.openS3M(i),t.openImagery(i),t.openTerrain(i));var s=i.camera.position.x,a=i.camera.position.y,o=i.camera.position.z;setTimeout(function(){viewer.scene.camera.setView({destination:new Cesium.Cartesian3(s,a,o),orientation:{heading:i.camera.heading,pitch:i.camera.pitch,roll:i.camera.roll}})},3e3)}else if(e.data.url){var n=e.data.url,r=n.indexOf("/scenes");n=n.substring(0,r),this.setTrustedServers(n);var l=viewer.scene.open(n);Cesium.when(l,function(e){})}},onSaveUserClk:function(){this.copyIsCreateScene?this.createAndSaveScene():this.updateScene()},updateScene:function(){var e=this,t=this.scenePortalName,i=this.scenePortalTages.replace("，",",").split(","),s=this.scenePortalUser,a=this.scenePortalDescription;if(""!==t){var o={layers:{}};this.checkLayers(o.layers);var n=document.getElementById("sceneCanvas").toDataURL("image/jpeg");n=n.split(",")[1];var r=viewer.scene.camera;o.camera={position:{x:r.positionWC.x,y:r.positionWC.y,z:r.positionWC.z},heading:r.heading,pitch:r.pitch,roll:r.roll},o.environmentState={enableLighting:viewer.scene.globe.enableLighting,skyAtmosphereShow:viewer.scene.skyAtmosphere.show,enableFog:viewer.scene.fog.enabled},o.version="2.0";var l={name:t,tags:i,userName:s,description:a,content:me()(o)};if("GUEST"!==window.store.portalUserprofile.userName){var c=window.store.portalUserprofile.modulePermissions;if(c.includes("portal:user:createUpdateDeleteScenes")||c.includes("*")){var d=Z()+"web/scenes/"+e.sceneID+".json";window.axios.put(d,me()(l),{withCredentials:!0}).then(function(t){var i=Z()+"web/scenes/"+e.sceneID+"/thumbnail.json";window.axios({method:"put",url:i,data:n,headers:{"Content-type":"application/x-www-form-urlencoded"},withCredentials:!0}).then(function(t){e.showStorageScene("none");var i=Z()+"apps/earth/v2/index.html?id="+e.sceneID;window.open(i,"_self")}).catch(function(e){})})}else this.labelPermissionsAnimation()}else this.labelStorageFailedAnimation()}},checkLayers:function(e){var t=viewer.scene.layers._layers.length;e.s3mLayer=this.saveS3M(e,t);var i=viewer.imageryLayers._layers;e.imageryLayer=this.saveImagery(i),e.terrainLayer=this.saveTerrain()},saveS3M:function(e,t){for(var i=[],s=0,a=t;s<a;s++){var o={},n=viewer.scene.layers._layerQueue[s];o.type="S3MTilesLayer";var r=n._baseUri.scheme+"://"+n._baseUri.authority+n._baseUri.path;r&&(r=this.getScpUrl(r),o.url=r,o.name=n.name,i.push(o))}return i},saveImagery:function(e){for(var t=[],i=1;i<e.length;i++){var s={},a=e[i]._imageryProvider;a instanceof Cesium.BingMapsImageryProvider?s.type="BingMapsImageryProvider":a instanceof Cesium.TiandituImageryProvider?s.type="TiandituImageryProvider":a instanceof Cesium.SingleTileImageryProvider?s.type="SingleTileImageryProvider":a instanceof Cesium.SuperMapImageryProvider?s.type="SuperMapImageryProvider":s.Type="GRIDIMAGERY",s.url=viewer.imageryLayers._layers[i]._imageryProvider._baseUrl,t.push(s)}return t},saveTerrain:function(){var e=[];if(viewer.terrainProvider.tablename){var t={},i=viewer.terrainProvider;i instanceof Cesium.CesiumTerrainProvider?t.type="tinTerrain":i instanceof Cesium.TiandituTerrainProvider?t.type="tianDiTuTerrain":i instanceof Cesium.SCTTerrainProvider&&(t.type="supermapOnlineTerrain"),t.url=viewer.terrainProvider._baseUrl,e.push(t)}return e},openS3M:function(e){var t=e.layers.s3mLayer;if(t.length>0)for(var i=0;i<t.length;i++){var s=e.layers.s3mLayer[i].url,a=e.layers.s3mLayer[i].name;this.setTrustedServers(s),viewer.scene.addS3MTilesLayerByScp(s,{name:a})}},openImagery:function(e){var t=e.layers.imageryLayer,i=void 0;if(t.length>0){for(var s=viewer.imageryLayers,a=1;a<s.length;a++)s.remove(viewer.imageryLayers._layers[a]);for(var o=0;o<t.length;o++){var n=e.layers.imageryLayer[o].url;switch(this.setTrustedServers(n),e.layers.imageryLayer[o].type){case"BingMapsImageryProvider":i=new Cesium.BingMapsImageryProvider({url:e.layers.imageryLayer[o].url,key:this.key});break;case"TiandituImageryProvider":i=new Cesium.TiandituImageryProvider({url:e.layers.imageryLayer[o].url,token:this.token});break;case"SingleTileImageryProvider":i=new Cesium.SingleTileImageryProvider({url:e.layers.imageryLayer[o].url});break;case"SuperMapImageryProvider":i=new Cesium.SuperMapImageryProvider({url:e.layers.imageryLayer[o].url});break;case"GRIDIMAGERY":i=new Cesium.TileCoordinatesImageryProvider}viewer.imageryLayers.addImageryProvider(i,o+1)}}},openTerrain:function(e){if(viewer.terrainProvider=new Cesium.EllipsoidTerrainProvider,e.layers.terrainLayer.length>0){var t=e.layers.terrainLayer[0].type,i=e.layers.terrainLayer[0].url;switch(this.setTrustedServers(i),t){case"tinTerrain":viewer.terrainProvider=new Cesium.CesiumTerrainProvider({url:e.layers.terrainLayer[0].url,isSct:!0,invisibility:!0});break;case"tianDiTuTerrain":viewer.terrainProvider=new Cesium.TiandituTerrainProvider({token:this.terrainToken});break;case"supermapOnlineTerrain":viewer.terrainProvider=new Cesium.SCTTerrainProvider({urls:[e.layers.terrainLayer[0].url]})}}},labelStorageFailedAnimation:function(){this.$Message.error(Resource.storageFailed)},labelPermissionsAnimation:function(){this.$Message.error(Resource.noPermission)},getScpUrl:function(e){if(e.indexOf("/realspace")>-1)return e.replace("data/path/","config")},setTrustedServers:function(e){if(window.store.isPortal){var t=window.store.portalConfig.serviceProxy;if(q(e,t)){var i=Q(e);Cesium.TrustedServers.contains("http://"+i+"/"+t.port)||Cesium.TrustedServers.add(i,t.port)}}}},mounted:function(){this.init()},watch:{isCreateScene:function(e){this.copyIsCreateScene=e;var t=this.copyIsCreateScene;t||this.openExistScene()}}},_e={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:e.infoManageShow,expression:"infoManageShow"}],staticClass:"infoManage"},[i("div",{staticClass:"infoManageLogin",attrs:{id:"infoManageLogin",title:e.switchAccount},on:{click:e.show}},[i("span",{staticClass:"iconfont icondenglu infoManagetb"})]),e._v(" "),i("div",{staticClass:"storageScene",attrs:{id:"storageInfo",title:e.Resource.storageScene},on:{click:e.IstorageScene}},[i("span",{staticClass:"iconfont icona-baocun1 infoManagetb"})]),e._v(" "),i("div",{attrs:{id:"storageFailed"}},[e._v(e._s(e.Resource.storageFailed))]),e._v(" "),i("div",{attrs:{id:"noPermission"}},[e._v(e._s(e.Resource.noPermission))])]),e._v(" "),i("div",{staticClass:"storageScene-panel",attrs:{id:"storageScene"}},[i("div",{staticClass:"sm-panel-header"},[i("span",{staticClass:"title-txt titleColor"},[e._v(e._s(e.Resource.sceneStorage))]),e._v(" "),i("span",{staticClass:"closeBtn",on:{click:e.toggleVisibility}},[e._v("×")])]),e._v(" "),i("div",{staticClass:"sm-function-module-storageScene"},[i("div",{staticClass:"half",attrs:{id:"sceneImage"}},[i("canvas",{staticStyle:{width:"100%",margin:"35px 0 10px 0"},attrs:{id:"sceneCanvas"}}),e._v(" "),i("label",{staticClass:"italic",attrs:{id:"saveDateLabel"}},[e._v(e._s(e.Resource.SaveDate))]),e._v(" "),i("label",{staticClass:"italic",staticStyle:{"margin-left":"20px"},attrs:{id:"saveDate"}})]),e._v(" "),i("div",{staticClass:"half",staticStyle:{"padding-left":"15px"},attrs:{id:"sceneMessage"}},[i("div",{staticClass:"storageScene-half"},[i("label",{staticClass:"sm-function-module-storageInfo"},[e._v(e._s(e.Resource.sceneName))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.scenePortalName,expression:"scenePortalName"}],staticClass:"sm-input-right",staticStyle:{width:"100%",float:"left"},attrs:{id:"scenePortalName",type:"text"},domProps:{value:e.scenePortalName},on:{input:function(t){t.target.composing||(e.scenePortalName=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"storageScene-half"},[i("label",{staticClass:"sm-function-module-storageInfo"},[e._v(e._s(e.Resource.SceneLabel))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.scenePortalTages,expression:"scenePortalTages"}],staticClass:"sm-input-right",staticStyle:{width:"100%",float:"left"},attrs:{id:"scenePortalTages",type:"text"},domProps:{value:e.scenePortalTages},on:{input:function(t){t.target.composing||(e.scenePortalTages=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"storageScene-half"},[i("label",{staticClass:"sm-function-module-storageInfo"},[e._v(e._s(e.Resource.author))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.scenePortalUser,expression:"scenePortalUser"}],staticClass:"sm-input-right",staticStyle:{width:"100%",float:"left"},attrs:{id:"scenePortalUser",type:"text"},domProps:{value:e.scenePortalUser},on:{input:function(t){t.target.composing||(e.scenePortalUser=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"storageScene-half"},[i("label",{staticClass:"sm-function-module-storageInfo"},[e._v(e._s(e.Resource.description))]),e._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.scenePortalDescription,expression:"scenePortalDescription"}],staticClass:"sm-input-right",staticStyle:{width:"100%",float:"left",height:"75px"},attrs:{id:"scenePortalDescription",type:"text"},domProps:{value:e.scenePortalDescription},on:{input:function(t){t.target.composing||(e.scenePortalDescription=t.target.value)}}})])])]),e._v(" "),i("div",{staticClass:"boxchild"},[i("button",{staticClass:"tbtn tbn1",staticStyle:{"margin-right":"25px"},attrs:{type:"button",id:"saveUser"},on:{click:e.onSaveUserClk}},[e._v(e._s(e.Resource.save))])])])])},staticRenderFns:[]};var xe={name:"sm-viewer",components:{InfoManage:i("VU/8")(Se,_e,!1,function(e){i("QVfV")},"data-v-19f19c19",null).exports,InitEcharts:de},props:{combination:{type:Boolean},sceneUrl:{type:String},s3mScps:{type:Array},collapsed:{type:Boolean}},data:function(){return{buddleShow:!1,sharedState:store.state,isCreateScene:!0}},computed:{isInitViewer:function(){return this.sharedState.isInitViewer}},methods:{init:function(){if(!window.viewer){var e=this,t=void 0;this.BaseSpecialEffectModels=re,this.getCreateOrEditScene();var i=window.isPCBroswer=Cesium.FeatureDetection.isPCBroswer(),s=this.BaseSpecialEffectModels[1].skyBoxRight,a=this.BaseSpecialEffectModels[1].skyBoxLeft,o=this.BaseSpecialEffectModels[1].skyBoxFront,n=this.BaseSpecialEffectModels[1].skyBoxBack,r=this.BaseSpecialEffectModels[1].skyBoxUp,l=this.BaseSpecialEffectModels[1].skyBoxDown;if(i){(t=new Cesium.Viewer("cesiumContainer",{selectionIndicator:!1,timeline:!0,baseLayerPicker:!1,infoBox:!1,geocoder:!0,navigation:!1})).scene.moon.show=!1,document.getElementsByClassName("cesium-viewer-timelineContainer")[0].style.visibility="hidden",t.scene.globe.enableLighting=!1;var c=new Cesium.SkyBox({sources:{positiveX:s,negativeX:a,positiveY:o,negativeY:n,positiveZ:r,negativeZ:l}});t.scene.postRender.addEventListener(function e(){t.scene.frameState.passes.render&&(c.update(t.scene.frameState,!0),t.scene.postRender.removeEventListener(e))}),this.BaseSpecialEffectModels[1].currentSky=c,this.BaseSpecialEffectModels[1].defaultSky=t.scene.skyBox}else{var d=(t=new Cesium.Viewer("cesiumContainer",{selectionIndicator:!1,infoBox:!1,skyBox:!1,navigation:!1})).scene;Cesium.defined(d.sun)&&(d.globe.enableLighting=!1),Cesium.defined(d.moon)&&(d.moon.show=!1),document.documentElement.style.height=window.innerHeight+"px",document.addEventListener("touchmove",function(e){e.preventDefault()},!1),store.setCompass(!1)}window.viewer=t,window.scene=t.scene;t.cesiumWidget;t.scene.globe.depthTestAgainstTerrain=!0,t.scene.globe.baseColor=Cesium.Color.BLACK,t.geocoder&&(t.geocoder.viewModel.geoKey="fvV2osxwuZWlY0wJb8FEb2i5",document.querySelector(".cesium-geocoder-input").placeholder=Resource.searchPlaceHolder),t.camera.flyTo({destination:new Cesium.Cartesian3.fromDegrees(110.60396458865515,34.54408834959379,30644793.325518917),duration:0,complete:function(){common.initHandler("Polygon"),store.setToolBarShow(!0),setTimeout(function(){document.getElementById("loadingbar").remove()},1e3)}}),store.setisInitViewer(!0);document.getElementById("bubble");var u=document.getElementById("tab");new Cesium.ScreenSpaceEventHandler(scene.canvas).setInputAction(function(i){var s=scene.layers.getSelectedLayer();if(s&&s.indexedDBSetting){s.indexedDBSetting.isAttributesSave=!0;var a=t.selectedEntity;if(!a)return void(e.buddleShow=!1);e.buddleShow=!0;for(var o=u.rows.length-1;o>-1;o--)u.deleteRow(o);s.getAttributesById(a.id).then(function(t){if(t){var i=(n=u.insertRow()).insertCell(),a=n.insertCell();for(var o in i.innerHTML="layerName",a.innerHTML=s.name,t){var n;i=(n=u.insertRow()).insertCell(),a=n.insertCell();i.innerHTML=o,a.innerHTML=t[o]}}else e.buddleShow=!1})}},Cesium.ScreenSpaceEventType.LEFT_CLICK),window.store.systemConfig?e.getSceneState("block"):e.getSceneState("none")}},closeBubble:function(){this.buddleShow=!1},getSceneState:function(e){document.getElementById("infoManageLogin").style.display=e,document.getElementById("storageInfo").style.display=e;var t=window.store.portalUserprofile;if(t&&"GUEST"!==t.userName||(document.getElementById("storageInfo").style.display="none"),window.store.portalUserprofile){var i=window.store.portalUserprofile.modulePermissions;i.includes("portal:user:createUpdateDeleteScenes")||i.includes("*")||(document.getElementById("storageInfo").style.display="none")}},getCreateOrEditScene:function(){var e=window.location.href;this.isCreateScene=-1===e.indexOf("id=")}},mounted:function(){this.init(),"?theme=wind"===window.location.search&&store.setSpecialEffects(4,1)}},Ee={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"viewer",attrs:{id:"cesiumContainer"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.buddleShow,expression:"buddleShow"},{name:"drag",rawName:"v-drag"}],staticClass:"bubble",attrs:{id:"bubble"}},[i("div",{staticStyle:{"text-align":"right"},attrs:{id:"tools"}},[i("span",{staticClass:"closeBubble",on:{click:e.closeBubble}},[e._v("×")])]),e._v(" "),e._m(0)]),e._v(" "),i("tool-bar"),e._v(" "),i("compass"),e._v(" "),i("china-epidemic-map"),e._v(" "),i("world-epidemic-map"),e._v(" "),i("init-echarts"),e._v(" "),i("info-manage",{attrs:{isCreateScene:e.isCreateScene}})],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"overflow-y":"auto"},attrs:{id:"tableContainer"}},[t("table",{staticStyle:{height:"100px"},attrs:{id:"tab"}})])}]};var Re=i("VU/8")(xe,Ee,!1,function(e){i("i0e3")},"data-v-ff9f2478",null).exports,Le=void 0,Ae=void 0,Pe=void 0,Te=[],Me=[],De={name:"Sm3dProfile",props:{},data:function(){return{sharedState:store.state,startlongitude:0,startlatitude:0,startheight:0,endlongitude:0,endlatitude:0,endheight:0,profileLine:!1,EditPositions:[],polylineColor:"rgb(250,213,6)",polylineWidth:5,initEchartsOption:null,updateEchartsOption:null}},computed:{profile3dComb:function(){return this.sharedState.analysis[3]},analysisShow:function(){return this.sharedState.toolBar[6]}},beforeDestroy:function(){this.clear(),Te.length=0,Me.length=0},mounted:function(){this.analysisShow&&this.profile3dComb&&this.init()},methods:{init:function(){this.profileLine=!1,this.initMyChart()},initMyChart:function(){window.echarts&&(Le||(Le=window.echarts.init(document.getElementById("profile3D_echarts")),window.onresize=function(){Le.resize()})),this.initEchartsOption?Le.setOption(this.initEchartsOption):Le.setOption({title:{text:Resource.profile,textStyle:{fontSize:14}},grid:{left:30,right:0,top:30,bottom:8},tooltip:{},xAxis:{data:[]},yAxis:{data:[]},series:[{type:"bar",data:[]}]})},analysis:function(){var e=this;window.handlerPolyline||common.initHandler("Polyline"),common.handlerDrawing("Polyline").then(function(t){Le.showLoading(),e.EditPositions=t.result.object.positions;var i=Cesium.Cartographic.fromCartesian(t.result.object._positions[0]),s=Cesium.Math.toDegrees(i.longitude),a=Cesium.Math.toDegrees(i.latitude),o=i.height,n=Cesium.Cartographic.fromCartesian(t.result.object._positions[1]),r=Cesium.Math.toDegrees(n.longitude),l=Cesium.Math.toDegrees(n.latitude),c=n.height;e.startlongitude=s.toFixed(6),e.startlatitude=a.toFixed(6),e.startheight=o.toFixed(6),e.endlongitude=r.toFixed(6),e.endlatitude=l.toFixed(6),e.endheight=c.toFixed(6),e.DrawPolylineUpdate(t.positions);var d=window.handlerPolyline;d.polyline.show=!1,window.polylineTransparent.show=!1,d.deactivate(),e.updataProfile3D(t.positions),common.Edit(e,e.updataProfile3D,"Polyline"),e.profileLine=!0},function(e){console.log(e)}),window.handlerPolyline.activate()},DrawPolylineUpdate:function(e){viewer.entities.removeById("polyline-profile"),viewer.entities.removeById("location4");var t=Cesium.Color.fromCssColorString(this.polylineColor);viewer.entities.add({id:"polyline-profile",polyline:{positions:Cesium.Cartesian3.fromDegreesArrayHeights(e),width:this.polylineWidth,material:t,clampToGround:!0}}),this.entityUpdate()},updataProfile3D:function(e){var t=this;this.profileLine=!0,Le.clear(),Le.showLoading(),Te.length=0,Me.length=0;for(var i=[],s=1,a=e.length/3;s<a;s++){var o=Cesium.Cartesian3.fromDegrees(e[3*(s-1)],e[3*(s-1)+1],e[3*(s-1)+2]),n=Cesium.Cartesian3.fromDegrees(e[3*s],e[3*s+1],e[3*s+2]),r=Cesium.Cartesian3.distance(o,n);this.getCount(parseInt(r));for(var l=1,c=Ae;l<c;l++){var d=Cesium.Cartesian3.lerp(o,n,l/Ae,new Cesium.Cartesian3);i.push(d)}}viewer.scene.clampToHeightMostDetailed(i).then(function(e){Me=e,Te=t.cartesianToDegreesObjs(Me),t.echartsOption()})},echartsOption:function(){if(Le.hideLoading(),Le.clear(),this.updateEchartsOption)Le.setOption(this.updateEchartsOption);else{var e={title:{text:Resource.profileInformation,textStyle:{fontSize:14,color:"#ffffff"}},grid:{left:50,right:8,top:40,bottom:20},tooltip:{trigger:"axis",backgroundColor:"#ffffff",textStyle:{color:"#000"},formatter:function(e){var t=e[0].dataIndex;return Pe=Me[t],['location<hr size=1 style="margin:3px 0">',"longitude:"+Te[t].longitude.toFixed(6)+"<br />","latitude:"+Te[t].latitude.toFixed(6)+"<br />","altitude:"+Te[t].height.toFixed(2)+"<br />"].join("")}},xAxis:{data:Te.map(function(e,t){return t}),show:!1,axisLine:{show:!0,lineStyle:{color:"#ffffff"}}},yAxis:{min:function(e){return e.min<20?0:Math.floor(e.min)},axisLabel:{interval:"auto",formatter:function(e,t){return e>999?(e/1e3).toFixed(2)+"km":e+"m"}},splitLine:{show:!0},axisLine:{show:!0,lineStyle:{color:"#ffffff"}}},toolbox:{show:!0,left:"right",feature:{restore:{title:Resource.restore,icon:"image://static/images/flypng/restore.png"},saveAsImage:{title:Resource.saveAsImage,icon:"image://static/images/flypng/download.png"}}},dataZoom:[{type:"inside",xAxisIndex:0,filterMode:"filter",start:0,end:100}],series:{name:"height",type:"line",data:Te.map(function(e){return e.height}),areaStyle:{}}};Le.setOption(e)}},entityUpdate:function(){viewer.entities.getById("location4")||viewer.entities.add({id:"location4",position:new Cesium.CallbackProperty(function(){return Pe},!1),billboard:{image:"static/images/flypng/coordinate.png",width:32,height:32,scaleByDistance:new Cesium.NearFarScalar(10,1,2e3,.6),eyeOffset:new Cesium.Cartesian3(0,1,-5)}})},cartesianToDegreesObjs:function(e){for(var t=[].concat(e),i=[],s=0,a=t.length;s<a;s++)if(void 0!==t[s]){var o=Cesium.Cartographic.fromCartesian(t[s]),n={longitude:Cesium.Math.toDegrees(o.longitude),latitude:Cesium.Math.toDegrees(o.latitude),height:o.height};i.push(n)}return i},getCount:function(e){Ae=e/1e4>1?parseInt(e/100):e/1e3>5?parseInt(e/10):e/1e3>2?parseInt(e/5):e/1e3>1?parseInt(e/2):e/100>5?parseInt(e/1.5):e/100>2?e:2*e},clear:function(){this.startlongitude=0,this.startlatitude=0,this.startheight=0,this.endlongitude=0,this.endlatitude=0,this.endheight=0,this.profileLine=!1,viewer.entities.removeById("location4"),viewer.entities.removeById("polyline-profile"),Le&&Le.clear(),Te.length=0,Me.length=0,common.clearEditHandler(),common.clearHandlerDrawing(),this.initMyChart()}},watch:{profileLine:function(e){this.sharedState.isInitEcharts=e},analysisShow:function(e){e&&this.profile3dComb&&this.init()},profile3dComb:function(e){var t=this;e&&setTimeout(function(){t.init()},100)}}},ke={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.profile3dComb,expression:"profile3dComb"}]},[i("div",{staticClass:"sm-function-module-content"},[i("div",{staticClass:"sm-point"}),e._v(" "),i("label",{staticClass:"sm-function-module-sub-section-setting"},[e._v("\n      "+e._s(e.Resource.startingInformation)+"\n    ")]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("div",[i("div",{staticClass:"Profile3D-half"},[i("label",{staticClass:"sm-function-module-Profile3D"},[e._v("\n            "+e._s(e.Resource.longitude)+"\n          ")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.startlongitude,expression:"startlongitude"}],staticClass:"sm-input-right",staticStyle:{width:"130px",float:"left"},attrs:{type:"text"},domProps:{value:e.startlongitude},on:{input:function(t){t.target.composing||(e.startlongitude=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"Profile3D-half"},[i("label",{staticClass:"sm-function-module-Profile3D label-right"},[e._v("\n            "+e._s(e.Resource.latitude)+"\n          ")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.startlatitude,expression:"startlatitude"}],staticClass:"sm-input-right",staticStyle:{width:"130px",float:"left"},attrs:{type:"text"},domProps:{value:e.startlatitude},on:{input:function(t){t.target.composing||(e.startlatitude=t.target.value)}}})])]),e._v(" "),i("div",[i("div",{staticClass:"Profile3D-half"},[i("label",{staticClass:"sm-function-module-Profile3D"},[e._v("\n            "+e._s(e.Resource.altitude)+"\n          ")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.startheight,expression:"startheight"}],staticClass:"sm-input-right",staticStyle:{width:"130px",float:"left"},attrs:{type:"text"},domProps:{value:e.startheight},on:{input:function(t){t.target.composing||(e.startheight=t.target.value)}}})])])]),e._v(" "),i("div",{staticClass:"sm-point"}),e._v(" "),i("label",{staticClass:"sm-function-module-sub-section-setting"},[e._v("\n      "+e._s(e.Resource.endInformation)+"\n    ")]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("div",[i("div",{staticClass:"Profile3D-half"},[i("label",{staticClass:"sm-function-module-Profile3D"},[e._v("\n            "+e._s(e.Resource.longitude)+"\n          ")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.endlongitude,expression:"endlongitude"}],staticClass:"sm-input-right",staticStyle:{width:"130px",float:"left"},attrs:{type:"text"},domProps:{value:e.endlongitude},on:{input:function(t){t.target.composing||(e.endlongitude=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"Profile3D-half"},[i("label",{staticClass:"sm-function-module-Profile3D label-right"},[e._v("\n            "+e._s(e.Resource.latitude)+"\n          ")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.endlatitude,expression:"endlatitude"}],staticClass:"sm-input-right",staticStyle:{width:"130px",float:"left"},attrs:{type:"text"},domProps:{value:e.endlatitude},on:{input:function(t){t.target.composing||(e.endlatitude=t.target.value)}}})])]),e._v(" "),i("div",[i("div",{staticClass:"Profile3D-half"},[i("label",{staticClass:"sm-function-module-Profile3D"},[e._v("\n            "+e._s(e.Resource.altitude)+"\n          ")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.endheight,expression:"endheight"}],staticClass:"sm-input-right",staticStyle:{width:"130px",float:"left"},attrs:{type:"text"},domProps:{value:e.endheight},on:{input:function(t){t.target.composing||(e.endheight=t.target.value)}}})])])]),e._v(" "),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.profileLine,expression:"profileLine"}],attrs:{type:"checkbox",checked:""},domProps:{checked:Array.isArray(e.profileLine)?e._i(e.profileLine,null)>-1:e.profileLine},on:{change:function(t){var i=e.profileLine,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.profileLine=i.concat([null])):o>-1&&(e.profileLine=i.slice(0,o).concat(i.slice(o+1)))}else e.profileLine=a}}}),e._v(" "),i("label",{staticClass:"function-module-sub-section-caption"},[e._v("\n        "+e._s(e.Resource.profileInformation)+"\n      ")])]),e._v(" "),i("div",{staticClass:"boxchild"},[i("button",{staticClass:"tbtn tbn1",attrs:{type:"button"},on:{click:e.analysis}},[e._v(e._s(e.Resource.analyze))]),e._v(" "),i("button",{staticClass:"tbtn",attrs:{type:"button"},on:{click:e.clear}},[e._v(e._s(e.Resource.eliminate))])])])])},staticRenderFns:[]};var Ne=i("VU/8")(De,ke,!1,function(e){i("PS78")},"data-v-328a1370",null).exports,Be=void 0,Ie=void 0,Fe={name:"Sm3dShadowquery",data:function(){return{sharedState:store.state,positions:[],points:[],timeInterval:60,spacing:10,selDate:new Date,startTime:"10",endTime:"14",bottomHeight:20,extrudeHeight:20,sunlight:!1,isDestroyFlag:!0}},computed:{shadowqueryComb:function(){return this.sharedState.analysis[2]},analysisShow:function(){return this.sharedState.toolBar[6]}},beforeDestroy:function(){this.isDestroyFlag&&Be&&(Be.destroy(),Be=void 0,Ie=void 0,this.handlerPolygon.deactivate(),this.handlerPolygon=void 0)},mounted:function(){this.analysisShow&&this.shadowqueryComb&&this.init()},methods:{init:function(){if(!Ie){0==viewer.shadows&&(viewer.shadows=!0);var e=viewer.scene;Ie=e.layers.layerQueue,Be||(Be=new Cesium.ShadowQueryPoints(e)).build();var t=this;this.setCurrentTime(),this.handlerPolygon=new Cesium.DrawHandler(viewer,Cesium.DrawMode.Polygon,0);var i=this.handlerPolygon;i.activeEvt.addEventListener(function(e){1==e?(viewer.enableCursorStyle=!1,viewer._element.style.cursor="",document.body.classList.add("drawCur")):(viewer.enableCursorStyle=!0,document.body.classList.remove("drawCur"))}),i.movingEvt.addEventListener(function(e){window.tooltip.showAt(e,"<p>点击鼠标左键开始绘制分析区域</p>")}),i.drawEvt.addEventListener(function(e){window.tooltip.setVisible(!1);var s=t.positions,a=t.points;a.length=0;var o=e.object;if(o){o.show=!1,i.polyline.show=!1,s=[].concat(o.positions);for(var n=0,r=(s=Cesium.arrayRemoveDuplicates(s,Cesium.Cartesian3.equalsEpsilon)).length;n<r;n++){var l=Cesium.Cartographic.fromCartesian(o.positions[n]),c=Cesium.Math.toDegrees(l.longitude),d=Cesium.Math.toDegrees(l.latitude);a.push(c),a.push(d)}var u=t.selDate,m=new Date(u);m.setHours(Number(t.startTime)),Be.startTime=Cesium.JulianDate.fromDate(m);var p=new Date(u);p.setHours(Number(t.endTime)),Be.endTime=Cesium.JulianDate.fromDate(p),t.setCurrentTime(),Be.spacing=t.spacing,Be.timeInterval=t.timeInterval;var h=Number(t.bottomHeight),v=Number(t.extrudeHeight);Be.qureyRegion({position:a,bottom:h,extend:v}),Be.build()}})}},setCurrentTime:function(){var e=this.selDate;e.setHours(Number(this.endTime)),viewer.clock.currentTime=Cesium.JulianDate.fromDate(e),viewer.clock.multiplier=1,viewer.clock.shouldAnimate=!0},analysis:function(){for(var e=0;e<Ie.length;e++)2!==Ie[e].shadowType&&(Ie[e].shadowType=2,Ie[e].refresh());this.isDestroyFlag=!1,this.handlerPolygon.deactivate(),this.handlerPolygon.activate()},clear:function(){this.handlerPolygon&&this.handlerPolygon.deactivate(),window.tooltip.setVisible(!1),this.isDestroyFlag=!0,viewer.entities.removeAll(),Be&&Be.qureyRegion({position:[0,0],bottom:0,extend:0}),this.positions=[],this.points=[],this.selDate=new Date,this.startTime="10",this.endTime="14",this.timeInterval=60,this.spacing=10,this.bottomHeight=20,this.extrudeHeight=20,this.sunlight=!1}},watch:{shadowqueryComb:function(e){e&&this.init()},analysisShow:function(e){e&&this.shadowqueryComb&&this.init()},selDate:function(e){},startTime:function(e){var t=this.selDate;t.setHours(Number(e)),Be.startTime=Cesium.JulianDate.fromDate(t)},endTime:function(e){var t=this.selDate;t.setHours(Number(e)),Be.endTime=Cesium.JulianDate.fromDate(t)},timeInterval:function(e){Be.timeInterval=Number(e),Be.build()},spacing:function(e){Be.spacing=Number(e),Be.build()},bottomHeight:function(e){var t=Number(e),i=Number(this.extrudeHeight);Be.qureyRegion({position:this.points,bottom:t,extend:i}),Be.build()},extrudeHeight:function(e){var t=Number(this.bottomHeight),i=Number(e);Be.qureyRegion({position:this.points,bottom:t,extend:i}),Be.build()},sunlight:function(e){if(e){for(var t=this.selDate,i=new Date(t),s=(new Date(t),Number(this.startTime)),a=Number(this.endTime),o=0;o<Ie.length;o++)Ie[o].shadowType=0;if(s>a)return;var n=0,r=setInterval(function(){s<a?(i.setHours(s),i.setMinutes(n),viewer.clock.currentTime=Cesium.JulianDate.fromDate(i),(n+=10)>60&&(s+=1,n=0)):clearInterval(r)},20)}}}},Oe={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.shadowqueryComb,expression:"shadowqueryComb"}]},[i("div",{staticClass:"sm-function-module-content"},[i("div",{staticClass:"sm-function-module-sub-section"},[i("div",{staticClass:"sm-point"}),e._v(" "),i("label",{staticClass:"sm-function-module-sub-section-setting"},[e._v(e._s(e.Resource.parameterSetting))])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("div",{staticClass:"sm-half"},[i("label",{staticClass:"sm-function-module-sub-section-caption"},[e._v(e._s(e.Resource.startTime))]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.startTime,expression:"startTime"}],staticClass:"sm-select sm-shadowquery-select",staticStyle:{width:"46%"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.startTime=t.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"0"}},[e._v("0:00")]),e._v(" "),i("option",{attrs:{value:"2"}},[e._v("2:00")]),e._v(" "),i("option",{attrs:{value:"4"}},[e._v("4:00")]),e._v(" "),i("option",{attrs:{value:"6"}},[e._v("6:00")]),e._v(" "),i("option",{attrs:{value:"8"}},[e._v("8:00")]),e._v(" "),i("option",{attrs:{value:"10"}},[e._v("10:00")]),e._v(" "),i("option",{attrs:{value:"12"}},[e._v("12:00")]),e._v(" "),i("option",{attrs:{value:"14"}},[e._v("14:00")]),e._v(" "),i("option",{attrs:{value:"16"}},[e._v("16:00")]),e._v(" "),i("option",{attrs:{value:"18"}},[e._v("18:00")]),e._v(" "),i("option",{attrs:{value:"20"}},[e._v("20:00")]),e._v(" "),i("option",{attrs:{value:"22"}},[e._v("22:00")])])]),e._v(" "),i("div",{staticClass:"sm-half"},[i("label",{staticClass:"sm-function-module-sub-section-caption label-right"},[e._v(e._s(e.Resource.endTime))]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.endTime,expression:"endTime"}],staticClass:"sm-select sm-shadowquery-select",staticStyle:{width:"46%"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.endTime=t.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"0"}},[e._v("0:00")]),e._v(" "),i("option",{attrs:{value:"2"}},[e._v("2:00")]),e._v(" "),i("option",{attrs:{value:"4"}},[e._v("4:00")]),e._v(" "),i("option",{attrs:{value:"6"}},[e._v("6:00")]),e._v(" "),i("option",{attrs:{value:"8"}},[e._v("8:00")]),e._v(" "),i("option",{attrs:{value:"10"}},[e._v("10:00")]),e._v(" "),i("option",{attrs:{value:"12"}},[e._v("12:00")]),e._v(" "),i("option",{attrs:{value:"14"}},[e._v("14:00")]),e._v(" "),i("option",{attrs:{value:"16"}},[e._v("16:00")]),e._v(" "),i("option",{attrs:{value:"18"}},[e._v("18:00")]),e._v(" "),i("option",{attrs:{value:"20"}},[e._v("20:00")]),e._v(" "),i("option",{attrs:{value:"22"}},[e._v("22:00")])])])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("div",[i("div",{staticClass:"sm-half"},[i("label",{staticClass:"sm-function-module-sub-section-caption"},[e._v(e._s(e.Resource.timeInterval))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.timeInterval,expression:"timeInterval"}],staticClass:"sm-input sm-input-long",attrs:{type:"number"},domProps:{value:e.timeInterval},on:{input:function(t){t.target.composing||(e.timeInterval=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-half"},[i("label",{staticClass:"sm-function-module-sub-section-caption label-right"},[e._v(e._s(e.Resource.spacing))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.spacing,expression:"spacing"}],staticClass:"sm-input sm-input-long",attrs:{type:"number"},domProps:{value:e.spacing},on:{input:function(t){t.target.composing||(e.spacing=t.target.value)}}})])])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("div",[i("div",{staticClass:"sm-half"},[i("label",{staticClass:"sm-function-module-sub-section-caption"},[e._v(e._s(e.Resource.bottomAltitude))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.bottomHeight,expression:"bottomHeight"}],staticClass:"sm-input sm-input-long",attrs:{type:"number"},domProps:{value:e.bottomHeight},on:{input:function(t){t.target.composing||(e.bottomHeight=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-half"},[i("label",{staticClass:"sm-function-module-sub-section-caption label-right"},[e._v(e._s(e.Resource.extrudeHeight))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.extrudeHeight,expression:"extrudeHeight"}],staticClass:"sm-input sm-input-long",attrs:{type:"number"},domProps:{value:e.extrudeHeight},on:{input:function(t){t.target.composing||(e.extrudeHeight=t.target.value)}}})])])]),e._v(" "),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.sunlight,expression:"sunlight"}],attrs:{type:"checkbox",checked:""},domProps:{checked:Array.isArray(e.sunlight)?e._i(e.sunlight,null)>-1:e.sunlight},on:{change:function(t){var i=e.sunlight,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.sunlight=i.concat([null])):o>-1&&(e.sunlight=i.slice(0,o).concat(i.slice(o+1)))}else e.sunlight=a}}}),e._v(" "),i("label",{staticClass:"sm-function-module-sub-section-caption"},[e._v(e._s(e.Resource.sunlight))])]),e._v(" "),i("div",{staticClass:"boxchild"},[i("button",{staticClass:"tbtn tbn1",attrs:{type:"button"},on:{click:e.analysis}},[e._v(e._s(e.Resource.analyze))]),e._v(" "),i("button",{staticClass:"tbtn",attrs:{type:"button"},on:{click:e.clear}},[e._v(e._s(e.Resource.clear))])])])])},staticRenderFns:[]};var He=i("VU/8")(Fe,Oe,!1,function(e){i("MH9U")},"data-v-f99829b4",null).exports,Ue=i("BO1k"),ze=i.n(Ue),Ve=void 0,Ge=void 0,je=void 0,We=void 0,Ze=void 0,qe=[],Qe={name:"Sm3dSightline",data:function(){return{sharedState:store.state,viewPosition:[],HandlerFlag:!0,flag:!1,viewlongitude:0,viewlatitude:0,viewheight:0,visibleColor:"rgb(0, 200, 0)",hiddenColor:"rgb(200, 0, 0)",highlightBarrierColor:"rgba(255, 186, 1, 1)",highlightBarrier:!1,isDestroyFlag:!0,highlight:!1}},computed:{sightlineComb:function(){return this.sharedState.analysis[0]},analysisShow:function(){return this.sharedState.toolBar[6]}},beforeDestroy:function(){this.isDestroyFlag&&Ve&&(Ge.destroy(),je.deactivate(),We.deactivate(),We=void 0,je=void 0,Ve=void 0,Ge=void 0)},mounted:function(){this.analysisShow&&this.sightlineComb&&this.init()},methods:{init:function(){if(!Ve){var e=viewer.scene;Ve=new Cesium.Sightline(e),Ge=new Cesium.ScreenSpaceEventHandler(e.canvas),je=new Cesium.DrawHandler(viewer,Cesium.DrawMode.Line),We=new Cesium.PointHandler(viewer)}},analysis:function(){this.flag&&this.clear(),this.isDestroyFlag=!1;var e=this;Ze=setInterval(function(){e.highlightBarries()},50),Ve.visibleColor=Cesium.Color.fromCssColorString(this.visibleColor),Ve.hiddenColor=Cesium.Color.fromCssColorString(this.hiddenColor),viewer.entities.removeAll(),je.activeEvt.addEventListener(function(e){1==e?(viewer.enableCursorStyle=!1,viewer._element.style.cursor="",document.body.classList.add("drawCur")):(viewer.enableCursorStyle=!0,document.body.classList.remove("drawCur"))}),je.movingEvt.addEventListener(function(e){je.polyline&&(je.polyline.show=!1),window.tooltip.showAt(e,"<p>点击鼠标左键添加观察点</p>"),je.isDrawing&&window.tooltip.showAt(e,"<p>点击鼠标左键可添加多个目标点</p><p>点击鼠标右键结束</p>")}),je.drawEvt.addEventListener(function(t){e.HandlerFlag=!1,je.polyline.show=!1,window.tooltip.setVisible(!1)}),Ve.build(),We.drawEvt.addEventListener(function(t){var i=t.object;i.show=!0,e.viewPosition=i;var s=i.position,a=Cesium.Cartographic.fromCartesian(s),o=Cesium.Math.toDegrees(a.longitude),n=Cesium.Math.toDegrees(a.latitude),r=a.height;e.viewlongitude=o.toFixed(6),e.viewlatitude=n.toFixed(6),e.viewheight=r.toFixed(6),Ve.viewPosition=[o,n,r],Ge.setInputAction(function(t){if(e.HandlerFlag){je.polyline&&(je.polyline.show=!1);var i=viewer.scene.pickPosition(t.position),s=Cesium.Cartographic.fromCartesian(i),a=Cesium.Math.toDegrees(s.longitude),o=Cesium.Math.toDegrees(s.latitude),n=s.height;Ve.addTargetPoint({position:[a,o,n],name:"point"+new Date})}},Cesium.ScreenSpaceEventType.LEFT_CLICK)}),We.activate(),je.activate(),this.flag=!0},clear:function(){clearInterval(Ze),Ze=void 0,qe=[],this.highlight=!1,this.viewlongitude=0,this.viewlatitude=0,this.viewheight=0,this.visibleColor="rgb(0, 200, 0)",this.hiddenColor="rgb(200, 0, 0)",this.highlightBarrierColor="rgba(255, 186, 1, 1)",this.highlightBarrier=!1,Ge.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK),this.HandlerFlag=!0,je&&je.deactivate(),We&&We.deactivate(),viewer.entities.removeAll(),Ve&&Ve.removeAllTargetPoint();var e=!0,t=!1,i=void 0;try{for(var s,a=ze()(scene.layers.layerQueue);!(e=(s=a.next()).done);e=!0){s.value.removeAllObjsColor()}}catch(e){t=!0,i=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw i}}this.flag=!1,this.isDestroyFlag=!0,window.tooltip.setVisible(!1)},highlightBarries:function(){var e=Cesium.Color.fromCssColorString(this.highlightBarrierColor);try{var t=Ve.getObjectIds();for(var i in t){var s=viewer.scene.layers.findByIndex(Number(i)-3),a=Ve.getObjectIds()[i];this.highlight&&(s.setObjsColor(qe,e),qe=[]),qe.push(a[0])}}catch(e){}},destory:function(){this.clear(),Ve&&(Ve.destroy(),Ve=void 0)}},watch:{analysisShow:function(e){e&&this.sightlineComb&&this.init()},sightlineComb:function(e){e&&this.init()},visibleColor:function(e){if(this.flag){var t=Cesium.Color.fromCssColorString(e);Ve&&(Ve.visibleColor=t)}},hiddenColor:function(e){if(this.flag){var t=Cesium.Color.fromCssColorString(e);Ve&&(Ve.hiddenColor=t)}},highlightBarrierColor:function(e){this.highlightBarrierColor=e;var t=!0,i=!1,s=void 0;try{for(var a,o=ze()(scene.layers.layerQueue);!(t=(a=o.next()).done);t=!0){a.value.removeAllObjsColor()}}catch(e){i=!0,s=e}finally{try{!t&&o.return&&o.return()}finally{if(i)throw s}}if(Ve&&this.highlightBarrier){var n=Cesium.Color.fromCssColorString(this.highlightBarrierColor);try{var r=Ve.getObjectIds();for(var l in r){var c=viewer.scene.layers.findByIndex(Number(l)-3),d=Ve.getObjectIds()[l];c.setObjsColor(d,n)}}catch(e){}}},highlightBarrier:function(e){this.highlight=!(!Ve||!e)}}},Ye={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.sightlineComb,expression:"sightlineComb"}]},[i("div",{staticClass:"sm-function-module-content"},[i("div",{staticClass:"sm-point"}),e._v(" "),i("label",{staticClass:"sm-function-module-SightLine"},[e._v(e._s(e.Resource.ObserverInformation))]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("div",[i("div",{staticClass:"sightLine-half"},[i("label",{staticClass:"sm-function-module-SightLine"},[e._v(e._s(e.Resource.longitude))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.viewlongitude,expression:"viewlongitude"}],staticClass:"sm-input-right",staticStyle:{width:"130px",float:"left"},attrs:{type:"text"},domProps:{value:e.viewlongitude},on:{input:function(t){t.target.composing||(e.viewlongitude=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sightLine-half"},[i("label",{staticClass:"sm-function-module-SightLine"},[e._v(e._s(e.Resource.latitude))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.viewlatitude,expression:"viewlatitude"}],staticClass:"sm-input-right",staticStyle:{width:"130px",float:"left"},attrs:{type:"text"},domProps:{value:e.viewlatitude},on:{input:function(t){t.target.composing||(e.viewlatitude=t.target.value)}}})])]),e._v(" "),i("div",[i("div",{staticClass:"sightLine-half"},[i("label",{staticClass:"sm-function-module-SightLine"},[e._v(e._s(e.Resource.altitude))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.viewheight,expression:"viewheight"}],staticClass:"sm-input-right",staticStyle:{width:"130px",float:"left"},attrs:{type:"text"},domProps:{value:e.viewheight},on:{input:function(t){t.target.composing||(e.viewheight=t.target.value)}}})])])]),e._v(" "),i("div",{staticClass:"sm-point"}),e._v(" "),i("label",{staticClass:"sm-function-module-sub-section-setting"},[e._v(e._s(e.Resource.parameterSetting))]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("div",[i("label",{staticClass:"sm-function-module-sub-section-caption"},[e._v(e._s(e.Resource.visibleColor))]),e._v(" "),i("ColorPicker",{staticClass:"sm-colorpicker",attrs:{alpha:""},model:{value:e.visibleColor,callback:function(t){e.visibleColor=t},expression:"visibleColor"}})],1),e._v(" "),i("div",[i("label",{staticClass:"sm-function-module-sub-section-caption"},[e._v(e._s(e.Resource.hideenColor))]),e._v(" "),i("ColorPicker",{staticClass:"sm-colorpicker",attrs:{alpha:""},model:{value:e.hiddenColor,callback:function(t){e.hiddenColor=t},expression:"hiddenColor"}})],1),e._v(" "),i("div",[i("label",{staticClass:"sm-function-module-sub-section-caption"},[e._v(e._s(e.Resource.highlightBarrierColor))]),e._v(" "),i("ColorPicker",{staticClass:"sm-colorpicker",attrs:{alpha:""},model:{value:e.highlightBarrierColor,callback:function(t){e.highlightBarrierColor=t},expression:"highlightBarrierColor"}})],1),e._v(" "),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.highlightBarrier,expression:"highlightBarrier"}],attrs:{type:"checkbox",checked:""},domProps:{checked:Array.isArray(e.highlightBarrier)?e._i(e.highlightBarrier,null)>-1:e.highlightBarrier},on:{change:function(t){var i=e.highlightBarrier,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.highlightBarrier=i.concat([null])):o>-1&&(e.highlightBarrier=i.slice(0,o).concat(i.slice(o+1)))}else e.highlightBarrier=a}}}),e._v(" "),i("label",{staticClass:"sm-function-module-sub-section-caption"},[e._v(e._s(e.Resource.highlightBarrier))])])]),e._v(" "),i("div",{staticClass:"boxchild"},[i("button",{staticClass:"tbtn tbn1",attrs:{type:"button"},on:{click:e.analysis}},[e._v("\n        "+e._s(e.Resource.analyze)+"\n      ")]),e._v(" "),i("button",{staticClass:"tbtn",attrs:{type:"button"},on:{click:e.clear}},[e._v("\n        "+e._s(e.Resource.eliminate)+"\n      ")])])])])},staticRenderFns:[]};var Xe,Je=i("VU/8")(Qe,Ye,!1,function(e){i("h+uN")},"data-v-b864a294",null).exports,$e=void 0,Ke=void 0,et={name:"Sm3dSkyline",props:{spatialAnalysisUrl:{type:String}},data:function(){return{sharedState:store.state,clickFlag:0,hasSkyLineAnalysisResult:!1,viewPosition:[],flag:!1,viewlongitude:0,viewlatitude:0,viewheight:0,direction:0,pitch:0,skylineRadius:1e4,lineWidth:1,skylineColor:"rgb(200, 0, 0)",highlightBarrierColor:"rgba(255, 186, 1, 1)",skylineMode:0,highlightBarrier:!1,getSkyline2D:!1,isDestroyFlag:!0}},computed:{skylineComb:function(){return this.sharedState.analysis[4]},analysisShow:function(){return this.sharedState.toolBar[6]}},beforeDestroy:function(){this.isDestroyFlag&&$e&&(Xe&&Xe.destroy(),Ke&&Ke.destroy(),Xe=void 0,$e=void 0,Ke=void 0)},mounted:function(){this.analysisShow&&this.skylineComb&&this.init()},methods:{init:function(){if(!$e){var e=document.getElementById("map");e&&($e=window.echarts.init(e))}},analysis:function(){this.clear(),this.flag=!0,this.isDestroyFlag=!1,Xe||(Xe=new Cesium.Skyline(scene));var e=scene.camera.positionCartographic,t=Cesium.Math.toDegrees(e.longitude),i=Cesium.Math.toDegrees(e.latitude),s=e.height;Xe.viewPosition=[t,i,s],this.viewlongitude=t.toFixed(6),this.viewlatitude=i.toFixed(6),this.viewheight=s.toFixed(6),Xe.pitch=Cesium.Math.toDegrees(scene.camera.pitch),Xe.direction=Cesium.Math.toDegrees(scene.camera.heading),this.pitch=Xe.pitch,this.viewlatitude=Xe.direction,this.direction=Xe.direction,Xe.radius=this.skylineRadius,Xe.lineWidth=Number(this.lineWidth);var a=Cesium.Color.fromCssColorString(this.skylineColor);Xe.color=a,Xe.displayStyle=this.skylineMode,Xe.build(),this.hasSkyLineAnalysisResult=!0},clear:function(){this.flag=!1,viewer.entities.removeAll(),scene.primitives._primitives=[],Xe&&Xe.clear();for(var e=0;e<scene.layers._layerQueue.length;e++){scene.layers.findByIndex(e).removeAllObjsColor()}this.hasSkyLineAnalysisResult=!1,this.viewlongitude=0,this.viewlatitude=0,this.viewheight=0,this.direction=0,this.pitch=0,this.skylineColor="rgb(200, 0, 0)",this.highlightBarrierColor="rgba(255, 186, 1, 1)",this.highlightBarrier=!1,this.getSkyline2D=!1,this.isDestroyFlag=!0}},watch:{skylineComb:function(e){var t=this;e&&setTimeout(function(){t.init()},100)},analysisShow:function(e){e&&this.skylineComb&&this.init()},direction:function(e){this.flag&&(Xe.direction=parseFloat(e))},pitch:function(e){this.flag&&(Xe.pitch=parseFloat(e))},skylineRadius:function(e){this.flag&&(Xe.radius=parseFloat(e))},lineWidth:function(e){this.flag&&(Xe.lineWidth=parseFloat(e))},skylineColor:function(e){if(this.flag){var t=Cesium.Color.fromCssColorString(e);Xe&&(Xe.color=t)}},highlightBarrierColor:function(e){this.highlightBarrierColor=e},highlightBarrier:function(e){if(e&&Xe&&this.hasSkyLineAnalysisResult){var t=Cesium.Color.fromCssColorString(this.highlightBarrierColor),i=Xe.getObjectIds();for(var s in i){var a=scene.layers.findByIndex(Number(s)-3),o=Xe.getObjectIds()[s];a.setObjsColor(o,t)}}},skylineMode:function(e){if(this.skylineMode=Number(e),Xe){var t=e;if("0"==t)Xe.displayStyle=0,scene.primitives._primitives=[];else if("1"==t)Xe.displayStyle=1,scene.primitives._primitives=[];else if("2"==t){Xe.displayStyle=0,Ke||(Ke=new Cesium.S3MInstanceCollection(scene._context),scene.primitives.add(Ke));var i=Xe.getSkylineSectorParameter(),s={};s.viewerPoint=i.viewPos,s.line3D=i.geoLine3D,s.height=0,s.lonlat=!0;var a=this.$props.spatialAnalysisUrl,o=me()(s);window.axios.post(a,o).then(function(e){window.axios.get(e.data.newResourceLocation+".json").then(function(e){var t=e.data;if(null!==t.geometry){var i=new Uint8Array(t.geometry.model).buffer;Ke.add("result",{position:Cesium.Cartesian3.fromDegrees(t.geometry.position.x,t.geometry.position.y,t.geometry.position.z),hpr:new Cesium.HeadingPitchRoll(0,0,0),color:new Cesium.Color(0,160/255,233/255,.5)},i)}}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}}},getSkyline2D:function(e){if(e&&this.hasSkyLineAnalysisResult){var t=Xe.getSkyline2D(),i={backgroundColor:"rgba(73,139,156,0.0)",xAxis:[{type:"category",boundaryGap:!1,data:t.x,show:!1}],yAxis:[{type:"value",min:0,max:1,axisLabel:{show:!0,textStyle:{color:"#fff"}}}],series:[{name:"",type:"line",data:t.y}]};$e.setOption(i)}}}},tt={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.skylineComb,expression:"skylineComb"}]},[i("div",{staticClass:"sm-function-module-content"},[i("div",{staticClass:"sm-point media-hidden"}),e._v(" "),i("label",{staticClass:"sm-function-module-SkyLine media-hidden"},[e._v(e._s(e.Resource.ObserverInformation))]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("div",[i("div",{staticClass:"SkyLine-half"},[i("label",{staticClass:"sm-function-module-SkyLine"},[e._v(e._s(e.Resource.longitude))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.viewlongitude,expression:"viewlongitude"}],staticClass:"sm-input-right",staticStyle:{width:"130px",float:"left"},attrs:{type:"text"},domProps:{value:e.viewlongitude},on:{input:function(t){t.target.composing||(e.viewlongitude=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"SkyLine-half"},[i("label",{staticClass:"sm-function-module-SkyLine"},[e._v(e._s(e.Resource.latitude))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.viewlatitude,expression:"viewlatitude"}],staticClass:"sm-input-right",staticStyle:{width:"130px",float:"left"},attrs:{type:"text"},domProps:{value:e.viewlatitude},on:{input:function(t){t.target.composing||(e.viewlatitude=t.target.value)}}})])]),e._v(" "),i("div",[i("div",{staticClass:"SkyLine-half"},[i("label",{staticClass:"sm-function-module-SkyLine"},[e._v(e._s(e.Resource.altitude))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.viewheight,expression:"viewheight"}],staticClass:"sm-input-right",staticStyle:{width:"130px",float:"left"},attrs:{type:"text"},domProps:{value:e.viewheight},on:{input:function(t){t.target.composing||(e.viewheight=t.target.value)}}})])])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("div",{staticClass:"SkyLine-half"},[i("label",{staticClass:"sm-function-module-SkyLine"},[e._v(e._s(e.Resource.directionAngle))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.direction,expression:"direction"}],staticClass:"sm-input sm-input-long",staticStyle:{width:"130px",float:"left"},attrs:{max:"360",min:"0",step:"1.0",type:"number"},domProps:{value:e.direction},on:{input:function(t){t.target.composing||(e.direction=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"SkyLine-half"},[i("label",{staticClass:"sm-function-module-SkyLine"},[e._v(e._s(e.Resource.ElevationAngle))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.pitch,expression:"pitch"}],staticClass:"sm-input sm-input-long",staticStyle:{width:"130px",float:"left"},attrs:{max:"90",min:"-90",step:"1.0",type:"number"},domProps:{value:e.pitch},on:{input:function(t){t.target.composing||(e.pitch=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"SkyLine-half"},[i("label",{staticClass:"sm-function-module-SkyLine"},[e._v(e._s(e.Resource.skylineRadius))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.skylineRadius,expression:"skylineRadius"}],staticClass:"sm-input sm-input-long",staticStyle:{width:"130px",float:"left"},attrs:{step:"100",type:"number"},domProps:{value:e.skylineRadius},on:{input:function(t){t.target.composing||(e.skylineRadius=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"SkyLine-half"},[i("label",{staticClass:"sm-function-module-SkyLine"},[e._v(e._s(e.Resource.skylineWidth))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.lineWidth,expression:"lineWidth"}],staticClass:"sm-input sm-input-long",staticStyle:{width:"130px",float:"left"},attrs:{max:"20",min:"1.0",step:"1.0",type:"number"},domProps:{value:e.lineWidth},on:{input:function(t){t.target.composing||(e.lineWidth=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-point media-hidden"}),e._v(" "),i("label",{staticClass:"sm-function-module-sub-section-caption media-hidden"},[e._v(e._s(e.Resource.parameterSetting))]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("div",[i("label",{staticClass:"sm-function-module-sub-section-caption"},[e._v(e._s(e.Resource.displayMode))]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.skylineMode,expression:"skylineMode"}],staticClass:"sm-select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.skylineMode=t.target.multiple?i:i[0]}}},[i("option",{attrs:{selected:"",value:"0"}},[e._v(e._s(e.Resource.polyline))]),e._v(" "),i("option",{attrs:{value:"1"}},[e._v(e._s(e.Resource.polygon))])])]),e._v(" "),i("div",[i("label",{staticClass:"sm-function-module-sub-section-caption"},[e._v(e._s(e.Resource.skylineColor))]),e._v(" "),i("ColorPicker",{staticClass:"sm-colorpicker",attrs:{alpha:""},model:{value:e.skylineColor,callback:function(t){e.skylineColor=t},expression:"skylineColor"}})],1),e._v(" "),i("div",[i("label",{staticClass:"sm-function-module-sub-section-caption"},[e._v(e._s(e.Resource.highlightBarrierColor))]),e._v(" "),i("ColorPicker",{staticClass:"sm-colorpicker",attrs:{alpha:""},model:{value:e.highlightBarrierColor,callback:function(t){e.highlightBarrierColor=t},expression:"highlightBarrierColor"}})],1),e._v(" "),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.highlightBarrier,expression:"highlightBarrier"}],attrs:{checked:"",type:"checkbox"},domProps:{checked:Array.isArray(e.highlightBarrier)?e._i(e.highlightBarrier,null)>-1:e.highlightBarrier},on:{change:function(t){var i=e.highlightBarrier,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.highlightBarrier=i.concat([null])):o>-1&&(e.highlightBarrier=i.slice(0,o).concat(i.slice(o+1)))}else e.highlightBarrier=a}}}),e._v(" "),i("label",{staticClass:"sm-function-module-sub-section-caption"},[e._v(e._s(e.Resource.highlightBarrier))])]),e._v(" "),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.getSkyline2D,expression:"getSkyline2D"}],attrs:{checked:"",type:"checkbox"},domProps:{checked:Array.isArray(e.getSkyline2D)?e._i(e.getSkyline2D,null)>-1:e.getSkyline2D},on:{change:function(t){var i=e.getSkyline2D,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.getSkyline2D=i.concat([null])):o>-1&&(e.getSkyline2D=i.slice(0,o).concat(i.slice(o+1)))}else e.getSkyline2D=a}}}),e._v(" "),i("label",{staticClass:"sm-function-module-sub-section-caption"},[e._v(e._s(e.Resource.graphDisplay))])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.getSkyline2D,expression:"getSkyline2D"}]},[i("label",{staticClass:"sm-function-module-sub-section-caption"},[e._v(e._s(e.Resource.TwoDimensionalSkyline))]),e._v(" "),i("div",{attrs:{id:"map"}})])]),e._v(" "),i("div",{staticClass:"boxchild"},[i("button",{staticClass:"tbtn tbn1",attrs:{type:"button"},on:{click:e.analysis}},[e._v("\n        "+e._s(e.Resource.analyze)+"\n      ")]),e._v(" "),i("button",{staticClass:"tbtn",attrs:{type:"button"},on:{click:e.clear}},[e._v("\n        "+e._s(e.Resource.clear)+"\n      ")])])])])},staticRenderFns:[]};var it=i("VU/8")(et,tt,!1,function(e){i("v2aE")},"data-v-77ba0572",null).exports,st=void 0,at=void 0,ot=void 0,nt=void 0,rt=!0,lt={name:"Sm3dViewshed",props:{spatialAnalysisUrl:{type:String}},data:function(){return{sharedState:store.state,spurl:"",viewlongitude:0,viewlatitude:0,viewheight:0,direction:1,pitch:1,addheight:1.8,distance:1,verticalFov:60,horizontalFov:90,hintLineColor:"rgb(212,202,45)",visibleAreaColor:"rgb(9,199,112)",hiddenAreaColor:"rgb(238,114,22)",visibleBodyColor:"rgba(44,149,197,0.9)",invisibleBodyColor:"rgba(200,0,0,0.9)",visibleBody:!1,invisibleBody:!1,isDestroyFlag:!0,originViewshedObservationPlace:{}}},computed:{viewshedComb:function(){return this.sharedState.analysis[1]},analysisShow:function(){return this.sharedState.toolBar[6]}},beforeDestroy:function(){this.isDestroyFlag&&ot&&(nt&&nt.destroy(),st.destroy(),at.destroy(),ot.deactivate(),st=void 0,at=void 0,ot=void 0,nt=void 0)},mounted:function(){this.analysisShow&&this.viewshedComb&&this.init()},methods:{init:function(){if(!st){scene=viewer.scene,scene.viewFlag=!0,st||(st=new Cesium.ViewShed3D(scene)),st.hintLineColor=Cesium.Color.fromCssColorString(this.hintLineColor),st.visibleAreaColor=Cesium.Color.fromCssColorString(this.visibleAreaColor),st.hiddenAreaColor=Cesium.Color.fromCssColorString(this.hiddenAreaColor);var e=this;(at=new Cesium.ScreenSpaceEventHandler(scene.canvas)).setInputAction(function(t){if(!scene.viewFlag){var i=t.endPosition,s=scene.pickPosition(i);if(Cesium.Cartesian3.distance(e.viewPosition,s)>0){var a=Cesium.Cartographic.fromCartesian(s),o=Cesium.Math.toDegrees(a.longitude),n=Cesium.Math.toDegrees(a.latitude),r=a.height;st.setDistDirByPoint([o,n,r])}}},Cesium.ScreenSpaceEventType.MOUSE_MOVE),at.setInputAction(function(t){scene.viewFlag||(scene.viewFlag=!0,e.direction=st.direction.toFixed(2),e.pitch=st.pitch.toFixed(2),e.distance=st.distance.toFixed(2),e.horizontalFov=st.horizontalFov,e.verticalFov=st.verticalFov)},Cesium.ScreenSpaceEventType.RIGHT_CLICK),(ot=new Cesium.DrawHandler(viewer,Cesium.DrawMode.Point)).drawEvt.addEventListener(function(t){var i=t.object,s=i.position;e.viewPosition=s;var a=Cesium.Cartographic.fromCartesian(s),o=Cesium.Math.toDegrees(a.longitude),n=Cesium.Math.toDegrees(a.latitude),r=a.height;e.originViewshedObservationPlace={longitude:o,latitude:n,height:r};var l=Number(e.addheight),c=a.height+l;i.position=Cesium.Cartesian3.fromDegrees(o,n,c),scene.viewFlag&&(st.viewPosition=[o,n,c],st.build(),scene.viewFlag=!1,e.viewlongitude=o.toFixed(4),e.viewlatitude=n.toFixed(4),e.viewheight=r.toFixed(2))})}},chooseView:function(){if(rt){if(ot.active)return;this.isDestroyFlag=!1,viewer.entities.removeAll(),st||((st=new Cesium.ViewShed3D(scene)).hintLineColor=Cesium.Color.fromCssColorString(this.hintLineColor),st.visibleAreaColor=Cesium.Color.fromCssColorString(this.visibleAreaColor),st.hiddenAreaColor=Cesium.Color.fromCssColorString(this.hiddenAreaColor)),st.distance=.1,viewer.scene.viewFlag=!0,ot.activate(),rt=!rt}},getVisibleResult:function(){if(st){nt||(nt=new Cesium.S3MInstanceCollection(scene._context),viewer.scene.primitives.add(nt));var e=st.getViewshedParameter(),t={viewerPoint:e.viewPosition,point3DsList:e.point3DList,radius:e.distance,lonlat:!0,viewShedType:"VISIBLEBODY"},i=this.spurl,s=me()(t),a=Cesium.Color.fromCssColorString(this.visibleBodyColor);window.axios.post(i,s).then(function(e){var t=e.data.newResourceLocation;t="https:"+t.split(":")[1],window.axios.get(t+".json").then(function(e){var t=e.data;if(null!=t.geometry){var i=new Uint8Array(t.geometry.model).buffer;nt.add("resultV",{id:1,position:Cesium.Cartesian3.fromDegrees(t.geometry.position.x,t.geometry.position.y,t.geometry.position.z),hpr:new Cesium.HeadingPitchRoll(0,0,0),color:a},i,!1)}}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)}),st.visibleAreaColor=Cesium.Color.fromCssColorString("rgba(9,199,112,0)"),st.hiddenAreaColor=Cesium.Color.fromCssColorString("rgba(238,114,22,0)")}},getInVisibleResult:function(){if(st){nt||(nt=new Cesium.S3MInstanceCollection(scene._context),viewer.scene.primitives.add(nt));var e=st.getViewshedParameter(),t={viewerPoint:e.viewPosition,point3DsList:e.point3DList,radius:e.distance,lonlat:!0,viewShedType:"HIDDENBODY"},i=this.spurl,s=me()(t),a=Cesium.Color.fromCssColorString(this.invisibleBodyColor);window.axios.post(i,s).then(function(e){var t=e.data.newResourceLocation;t="https:"+t.split(":")[1],window.axios.get(t+".json").then(function(e){var t=e.data;if(null!=t.geometry){var i=new Uint8Array(t.geometry.model).buffer;nt.add("resultUnV",{id:2,position:Cesium.Cartesian3.fromDegrees(t.geometry.position.x,t.geometry.position.y,t.geometry.position.z),hpr:new Cesium.HeadingPitchRoll(0,0,0),color:a},i,!1)}}).catch(function(e){console.log(e)}),st.visibleAreaColor=Cesium.Color.fromCssColorString("rgba(9,199,112,0)"),st.hiddenAreaColor=Cesium.Color.fromCssColorString("rgba(238,114,22,0)")}).catch(function(e){console.log(e)})}},clear:function(){this.isDestroyFlag=!0,viewer.entities.removeAll(),ot.clear(),this.visibleBody=!1,this.invisibleBody=!1,scene.viewFlag=!0,st.destroy(),st=void 0,rt=!0,this.hintLineColor="rgb(212,202,45)",this.visibleAreaColor="rgb(9,199,112)",this.hiddenAreaColor="rgb(238,114,22)",this.visibleBodyColor="rgba(44,149,197,0.9)",this.invisibleBodyColor="rgba(200,0,0,0.9)"},destory:function(){nt&&(nt.destroy(),nt=void 0),st&&(st.destroy(),st=void 0)}},watch:{viewshedComb:function(e){e&&this.init()},analysisShow:function(e){e&&this.viewshedComb&&this.init()},addheight:function(e){var t=this.originViewshedObservationPlace,i=t.longitude,s=t.latitude;""===e&&(e="0.0");var a=t.height+parseFloat(e);Cesium.Cartesian3.fromDegrees(i,s,a);st.viewPosition=[i,s,a]},direction:function(e){st.direction=parseFloat(e)},distance:function(e){st.distance=parseFloat(e)},pitch:function(e){st.pitch=parseFloat(e)},verticalFov:function(e){st.verticalFov=parseFloat(e)},horizontalFov:function(e){st.horizontalFov=parseFloat(e)},hintLineColor:function(e){var t=Cesium.Color.fromCssColorString(e);st&&(st.hintLineColor=t)},visibleAreaColor:function(e){var t=Cesium.Color.fromCssColorString(e);st&&(st.visibleAreaColor=t)},hiddenAreaColor:function(e){var t=Cesium.Color.fromCssColorString(e);st&&(st.hiddenAreaColor=t)},visibleBodyColor:function(e){var t=Cesium.Color.fromCssColorString(e);nt&&nt instanceof Cesium.S3MInstanceCollection&&nt.getInstance("resultV",1).updateColor(t)},invisibleBodyColor:function(e){var t=Cesium.Color.fromCssColorString(e);nt&&nt instanceof Cesium.S3MInstanceCollection&&nt.getInstance("resultUnV",2).updateColor(t)},visibleBody:function(e){e?this.getVisibleResult():(nt&&nt instanceof Cesium.S3MInstanceCollection&&nt.removeCollection("resultV"),this.visibleBody||this.invisibleBody||(st.visibleAreaColor=Cesium.Color.fromCssColorString(this.visibleAreaColor),st.hiddenAreaColor=Cesium.Color.fromCssColorString(this.hiddenAreaColor)))},invisibleBody:function(e){e?this.getInVisibleResult():(nt&&nt instanceof Cesium.S3MInstanceCollection&&nt.removeCollection("resultUnV"),this.visibleBody||this.invisibleBody||(st.visibleAreaColor=Cesium.Color.fromCssColorString(this.visibleAreaColor),st.hiddenAreaColor=Cesium.Color.fromCssColorString(this.hiddenAreaColor)))},spatialAnalysisUrl:{immediate:!0,handler:function(e,t){e&&(this.spurl=e)}}}},ct={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.viewshedComb,expression:"viewshedComb"}]},[i("div",{staticClass:"sm-function-module-content",staticStyle:{"max-height":"570px"}},[i("div",{staticClass:"sm-point media-hidden"}),e._v(" "),i("label",{staticClass:"sm-function-module-ViewShed media-hidden"},[e._v(e._s(e.Resource.ObserverInformation))]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("div",{staticClass:"viewShed-half"},[i("label",{staticClass:"sm-function-module-ViewShed"},[e._v(e._s(e.Resource.longitude))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.viewlongitude,expression:"viewlongitude"}],staticClass:"sm-input-right",staticStyle:{width:"130px",float:"left"},attrs:{type:"text",id:"viewshed-observation-place-x"},domProps:{value:e.viewlongitude},on:{input:function(t){t.target.composing||(e.viewlongitude=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"viewShed-half"},[i("label",{staticClass:"sm-function-module-ViewShed"},[e._v(e._s(e.Resource.latitude))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.viewlatitude,expression:"viewlatitude"}],staticClass:"sm-input-right",staticStyle:{width:"130px",float:"left"},attrs:{type:"text",id:"viewshed-observation-place-y"},domProps:{value:e.viewlatitude},on:{input:function(t){t.target.composing||(e.viewlatitude=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"viewShed-half"},[i("label",{staticClass:"sm-function-module-ViewShed"},[e._v(e._s(e.Resource.altitude))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.viewheight,expression:"viewheight"}],staticClass:"sm-input-right",staticStyle:{width:"130px",float:"left"},attrs:{type:"text",id:"viewshed-observation-place-z"},domProps:{value:e.viewheight},on:{input:function(t){t.target.composing||(e.viewheight=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-point media-hidden"}),e._v(" "),i("label",{staticClass:"sm-function-module-ViewShed media-hidden"},[e._v(e._s(e.Resource.parameterSetting))]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("div",{staticClass:"viewShed-half"},[i("label",{staticClass:"sm-function-module-ViewShed"},[e._v(e._s(e.Resource.additionalHeight))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.addheight,expression:"addheight"}],staticClass:"sm-input sm-input-long",staticStyle:{width:"130px",float:"left"},attrs:{type:"number",id:"addheight",step:"0.1",min:"0"},domProps:{value:e.addheight},on:{input:function(t){t.target.composing||(e.addheight=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"viewShed-half"},[i("label",{staticClass:"sm-function-module-ViewShed"},[e._v(e._s(e.Resource.directionAngle))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.direction,expression:"direction"}],staticClass:"sm-input sm-input-long",staticStyle:{width:"130px",float:"left"},attrs:{type:"number",id:"direction",min:"0",max:"360",step:"1.0"},domProps:{value:e.direction},on:{input:function(t){t.target.composing||(e.direction=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"viewShed-half"},[i("label",{staticClass:"sm-function-module-ViewShed"},[e._v(e._s(e.Resource.visualRange))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.distance,expression:"distance"}],staticClass:"sm-input sm-input-long",staticStyle:{width:"130px",float:"left"},attrs:{type:"number",id:"distance",min:"1",step:"1"},domProps:{value:e.distance},on:{input:function(t){t.target.composing||(e.distance=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"viewShed-half"},[i("label",{staticClass:"sm-function-module-ViewShed"},[e._v(e._s(e.Resource.ElevationAngle))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.pitch,expression:"pitch"}],staticClass:"sm-input sm-input-long",staticStyle:{width:"130px",float:"left"},attrs:{type:"number",id:"pitch",min:"-90",max:"90",step:"1.0"},domProps:{value:e.pitch},on:{input:function(t){t.target.composing||(e.pitch=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"viewShed-half"},[i("label",{staticClass:"sm-function-module-ViewShed"},[e._v(e._s(e.Resource.horizontalFov))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.horizontalFov,expression:"horizontalFov"}],staticClass:"sm-input sm-input-long",staticStyle:{width:"130px",float:"left"},attrs:{type:"number",id:"horizontalFov",min:"1",max:"120",step:"1.0",title:"水平视角"},domProps:{value:e.horizontalFov},on:{input:function(t){t.target.composing||(e.horizontalFov=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"viewShed-half"},[i("label",{staticClass:"sm-function-module-ViewShed"},[e._v(e._s(e.Resource.verticalFov))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.verticalFov,expression:"verticalFov"}],staticClass:"sm-input sm-input-long",staticStyle:{width:"130px",float:"left"},attrs:{type:"number",id:"verticalFov",min:"1",step:"1.0",title:"垂直视角"},domProps:{value:e.verticalFov},on:{input:function(t){t.target.composing||(e.verticalFov=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("div",{staticClass:"sm-point"}),e._v(" "),i("label",{staticClass:"sm-function-module-sub-section-setting"},[e._v(e._s(e.Resource.colorSetting))]),e._v(" "),i("div",[i("label",{staticClass:"sm-function-module-sub-section-caption"},[e._v(e._s(e.Resource.promptLineColor))]),e._v(" "),i("ColorPicker",{staticClass:"sm-colorpicker",attrs:{alpha:""},model:{value:e.hintLineColor,callback:function(t){e.hintLineColor=t},expression:"hintLineColor"}})],1),e._v(" "),i("div",[i("label",{staticClass:"sm-function-module-sub-section-caption"},[e._v(e._s(e.Resource.visibleColor))]),e._v(" "),i("ColorPicker",{staticClass:"sm-colorpicker",attrs:{alpha:""},model:{value:e.visibleAreaColor,callback:function(t){e.visibleAreaColor=t},expression:"visibleAreaColor"}})],1),e._v(" "),i("div",[i("label",{staticClass:"sm-function-module-sub-section-caption"},[e._v(e._s(e.Resource.invisibleColor))]),e._v(" "),i("ColorPicker",{staticClass:"sm-colorpicker",attrs:{alpha:""},model:{value:e.hiddenAreaColor,callback:function(t){e.hiddenAreaColor=t},expression:"hiddenAreaColor"}})],1),e._v(" "),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.visibleBody,expression:"visibleBody"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.visibleBody)?e._i(e.visibleBody,null)>-1:e.visibleBody},on:{change:function(t){var i=e.visibleBody,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.visibleBody=i.concat([null])):o>-1&&(e.visibleBody=i.slice(0,o).concat(i.slice(o+1)))}else e.visibleBody=a}}}),e._v(" "),i("label",{staticClass:"sm-function-module-sub-section-caption"},[e._v("\n          "+e._s(e.Resource.displayVisualsBody)+"\n        ")]),e._v(" "),i("ColorPicker",{staticClass:"sm-colorpicker",attrs:{alpha:""},model:{value:e.visibleBodyColor,callback:function(t){e.visibleBodyColor=t},expression:"visibleBodyColor"}})],1),e._v(" "),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.invisibleBody,expression:"invisibleBody"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.invisibleBody)?e._i(e.invisibleBody,null)>-1:e.invisibleBody},on:{change:function(t){var i=e.invisibleBody,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.invisibleBody=i.concat([null])):o>-1&&(e.invisibleBody=i.slice(0,o).concat(i.slice(o+1)))}else e.invisibleBody=a}}}),e._v(" "),i("label",{staticClass:"sm-function-module-sub-section-caption"},[e._v("\n           "+e._s(e.Resource.displayInvisibleBody)+"\n         ")]),e._v(" "),i("ColorPicker",{staticClass:"sm-colorpicker",attrs:{alpha:""},model:{value:e.invisibleBodyColor,callback:function(t){e.invisibleBodyColor=t},expression:"invisibleBodyColor"}})],1)]),e._v(" "),i("div",{staticClass:"boxchild"},[i("button",{staticClass:"tbtn tbn1",attrs:{type:"button"},on:{click:e.chooseView}},[e._v("\n        "+e._s(e.Resource.analyze)+"\n      ")]),e._v(" "),i("button",{staticClass:"tbtn",attrs:{type:"button"},on:{click:e.clear}},[e._v("\n        "+e._s(e.Resource.eliminate)+"\n      ")])])])])},staticRenderFns:[]};var dt=i("VU/8")(lt,ct,!1,function(e){i("/3kS")},"data-v-7845237c",null).exports,ut=[{url:"https://maptiles.supermapol.com/iserver/services/3D-local3DCache-GlobalTIN30M/rest/realspace/datas/Global_TIN_30M",name:G.supermapOnlineTerrain,thumbnail:"@/../static/images/baseLayer/SuperMap.jpg",title:"Terrain",imgsrc:"@/../static/css/cross.png",type:"supermapOnlineTerrain",chooseType:!1,index:0},{url:"",token:"e90d56e5a09d1767899ad45846b0cefd",name:G.tiandituTerrain,thumbnail:"@/../static/images/baseLayer/tdt-1.jpg",title:"Terrain",imgsrc:"@/../static/css/cross.png",type:"tianDiTuTerrain",chooseType:!1,index:1},{url:"https://www.supermapol.com/realspace/services/3D-stk_terrain/rest/realspace/datas/info/data/path",name:G.stkTerrain,thumbnail:"@/../static/images/baseLayer/STK.jpg",title:"Terrain",imgsrc:"@/../static/css/cross.png",type:"StkTerrain",chooseType:!1,index:2}],mt={6:{terrain:{name:G.ZFTerrain,type:"Terrain",chooseType:!1,index:3},imagery:{name:G.ZFImagery,type:"IMG",chooseType:!1,isMultipleChoose:!1,index:5}}},pt=i("iJNP"),ht=i.n(pt),vt={name:"addWebService",data:function(){return{sharedState:store.state,selType:"0",data:null,Effects:null,hotSpots:null,otherTerrainAndImageModels:mt,BaseTerrainModels:ut}},computed:{webServiceShow:function(){return this.sharedState.addLayer[0]}},methods:{addS3M:function(e){var t=[];t.push(viewer.scene.addS3MTilesLayerByScp(e)),this.promiseWhen(t,!0)},addTerrain:function(e){viewer.terrainProvider=new Cesium.CesiumTerrainProvider({url:e,isSct:!0})},addImage:function(e){var t=viewer.imageryLayers.addImageryProvider(new Cesium.SuperMapImageryProvider({url:e}));viewer.flyTo(t)},TiandituAnnotationProvider:function(e){new Cesium.TiandituAnnotationProvider({viewer:viewer,url:e,metadata:{boundBox:{minX:-180,minY:-90,maxX:180,maxY:90},minLevel:1,maxLevel:20},aotuCollide:!0,collisionPadding:[0,5,3,0],serverFirstStyle:!0,labelGraphics:{font:"28px sans-serif",bold:!1,scale:1,fillColor:Cesium.Color.WHITE,outlineColor:Cesium.Color.BLACK,outlineWidth:2,style:Cesium.LabelStyle.FILL_AND_OUTLINE,showBackground:!1,backgroundColor:Cesium.Color.RED,backgroundPadding:new Cesium.Cartesian2(10,10),horizontalOrigin:Cesium.HorizontalOrigin.LEFT,verticalOrigin:Cesium.VerticalOrigin.TOP,eyeOffset:Cesium.Cartesian3.ZERO,pixelOffset:new Cesium.Cartesian2(5,5),disableDepthTestDistance:void 0},billboardGraphics:{horizontalOrigin:Cesium.HorizontalOrigin.CENTER,verticalOrigin:Cesium.VerticalOrigin.CENTER,eyeOffset:Cesium.Cartesian3.ZERO,pixelOffset:Cesium.Cartesian2.ZERO,alignedAxis:Cesium.Cartesian3.ZERO,color:Cesium.Color.WHITE,rotation:0,scale:1,width:18,height:18,disableDepthTestDistance:void 0}})},thematicMapByField:function(e,t){for(var i=[{url:e,cullEnabled:!0}],s=[],a=0;a<i.length;a++){var o=scene.addS3MTilesLayerByScp(i[a].url,{name:t});s.push(o)}Cesium.when.all(s,function(e){var i=scene.layers.find(t);viewer.flyTo(i),i.lodRangeScale=5,i.style3D.fillStyle=Cesium.FillStyle.Fill_And_WireFrame;i.style3D.lineColor=Cesium.Color.fromCssColorString("rgb(67,67,67)"),i.wireFrameMode=Cesium.WireFrameType.Sketch,i._visibleDistanceMax=6e4})},promiseWhen:function(e,t){var i=this;Cesium.when.all(e,function(e){for(var s=0;s<e.length;s++)e[s]._visibleDistanceMax=16e3;t&&i.flyTo(t)},function(e){if(widget._showRenderLoopErrors){var t=Resource.scpUrlErrorMsg;widget.showErrorPanel(t,void 0,e)}})},addwebSever:function(e){if(e)switch(e.type){case"REALSPACE":if(1==e.state)this.$Message.warning({background:!0,content:Resource.layerExistMsg});else{var t=viewer.scene.open(e.proxiedUrl);if(this.promiseWhen([t],e.sceneName),0==e.S3MLayer){for(var i in this.otherTerrainAndImageModels)Number(i)==e.id&&(this.otherTerrainAndImageModels[i].terrain.chooseType=!0,this.otherTerrainAndImageModels[i].imagery.chooseType=!0);for(var s in this.BaseTerrainModels)this.BaseTerrainModels[s].chooseType=!1}e.state=1,setTimeout(function(){store.setS3MLayerManage(viewer.scene.layers.layerQueue.length),store.setImgLayerManage(viewer.imageryLayers._layers.length),store.setTerrainLayerManage(viewer.terrainProvider)},1500)}break;case"SCP":if(1==e.state)this.flyTo(e.sceneName),this.$Message.warning({background:!0,content:Resource.layerExistMsg});else{var a=[];a.push(viewer.scene.addS3MTilesLayerByScp(e.proxiedUrl,{name:e.sceneName})),this.promiseWhen(a,e.sceneName),e.state=1,setTimeout(function(){store.setS3MLayerManage(viewer.scene.layers.layerQueue.length)},1500)}break;case"IMG":1==e.state?(this.flyTo(e.sceneName),this.$Message.warning({background:!0,content:Resource.layerExistMsg})):(this.addImage(e.proxiedUrl),setTimeout(function(){store.setImgLayerManage(viewer.imageryLayers._layers.length)},1e3)),e.state=1;break;case"TERRAIN":1==e.state?this.$Message.warning({background:!0,content:Resource.layerExistMsg}):(this.addTerrain(e.proxiedUrl),e.state=1,setTimeout(function(){store.setTerrainLayerManage(viewer.terrainProvider)},1e3));break;case"TESTMARK":1==e.state?this.$Message.warning({background:!0,content:Resource.layerExistMsg}):(this.TiandituAnnotationProvider(e.proxiedUrl),viewer.camera.setView({destination:Cesium.Cartesian3.fromDegrees(117.29453125,34.2315625,6e4),orientation:{heading:Cesium.Math.toRadians(0),pitch:Cesium.Math.toRadians(-90),roll:0}}),e.state=1,setTimeout(function(){store.setS3MLayerManage(viewer.scene.layers.layerQueue.length)},1500));break;case"ThematicMap":1==e.state?this.$Message.warning({background:!0,content:Resource.layerExistMsg}):(this.thematicMapByField(e.proxiedUrl,e.sceneName),e.state=1,setTimeout(function(){store.setS3MLayerManage(viewer.scene.layers.layerQueue.length)},1500));break;case"HOT":if(1==e.state)this.flyTo(e.sceneName),this.$Message.warning({background:!0,content:Resource.layerExistMsg});else{for(var o=[],n=e.proxiedUrl,r=e.name,l=0;l<n.length;l++){var c=viewer.scene.addS3MTilesLayerByScp(n[l],{name:r[l]});o.push(c)}this.promiseWhen(o,e.sceneName),e.state=1,setTimeout(function(){store.setS3MLayerManage(viewer.scene.layers.layerQueue.length)},1500)}}store.setToolBarAction(1)},addEffects:function(e){store.setSpecialEffects(e,1),store.setToolBarAction(1)},addHotSpots:function(e){this.addwebSever(e),setTimeout(function(){store.setHotSpots(e.id,1)},1500)},flyTo:function(e){var t=ht.a.TitleKeyMap[e];var i=ht.a.CAMERA_PARAM[t];if(i)viewer.scene.camera.flyTo({destination:new Cesium.Cartesian3(i.Cartesian3.x,i.Cartesian3.y,i.Cartesian3.z),orientation:{heading:i.heading,pitch:i.pitch,roll:i.roll},duration:5});else{var s=scene.layers.find(e);s&&viewer.flyTo(s)}}},mounted:function(){this.data=iEarth_resource_services.content},watch:{selType:function(e){switch(e){case"0":break;case"1":this.Effects=specialEffects.effects;break;case"2":this.hotSpots=hotSpots.hotSpots}}}},gt={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.webServiceShow,expression:"webServiceShow"}],staticClass:"sm-function-module-content"},[i("div",{staticClass:"sm-function-module-sub-section"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.selType,expression:"selType"}],staticClass:"sm-select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selType=t.target.multiple?i:i[0]}}},[i("option",{attrs:{id:"publicService",value:"0"}},[e._v(e._s(e.Resource.publicService))]),e._v(" "),i("option",{attrs:{id:"specialEffects",value:"1"}},[e._v(e._s(e.Resource.specialEffects))]),e._v(" "),i("option",{attrs:{id:"specialEffects",value:"2"}},[e._v(e._s(e.Resource.HotSpots))])]),e._v(" "),i("div",{staticClass:"imageContainer"},[e._l(e.data,function(t){return i("div",{directives:[{name:"show",rawName:"v-show",value:"0"==e.selType,expression:"selType=='0'"}],key:t.id,staticClass:"imageBox",on:{click:function(i){return e.addwebSever(t)}}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.thumbnail,expression:"item.thumbnail"}],attrs:{alt:""}}),e._v(" "),i("label",{attrs:{for:""}},[e._v(e._s(t.sceneName))])])}),e._v(" "),e._l(e.Effects,function(t){return i("div",{directives:[{name:"show",rawName:"v-show",value:"1"==e.selType,expression:"selType=='1'"}],key:t.name,staticClass:"imageBox",on:{click:function(i){return e.addEffects(t.id)}}},[i("img",{attrs:{src:t.thumbnail,alt:""}}),e._v(" "),i("label",{attrs:{for:""}},[e._v(e._s(t.description))])])}),e._v(" "),e._l(e.hotSpots,function(t){return i("div",{directives:[{name:"show",rawName:"v-show",value:"2"==e.selType,expression:"selType=='2'"}],key:t.id,staticClass:"imageBox",on:{click:function(i){return e.addHotSpots(t)}}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.thumbnail,expression:"item.thumbnail"}],attrs:{alt:""}}),e._v(" "),i("label",{attrs:{for:""}},[e._v(e._s(t.sceneName))])])})],2)])])},staticRenderFns:[]};var yt=i("VU/8")(vt,gt,!1,function(e){i("3SJ5")},"data-v-3abed2d4",null).exports,ft=void 0,Ct={name:"addCustomService",data:function(){return{sharedState:store.state,LayerType:"S3M",addToken:!1,LayerURL:null,LayerName:null,holderURL:Resource.layerUrl,holderName:Resource.layerName,LayerToken:null,addSceneToken:!1,SceneURL:null,SceneToken:null,SceneList:null,SceneName:void 0}},mounted:function(){},computed:{customServiceShow:function(){return this.sharedState.addLayer[2]}},methods:{openScene:function(){if(null!=this.SceneURL&&""!=this.SceneURL)if(this.SceneURL.indexOf("rest/realspace")<0)this.$Message.error(Resource.urlErrorMsg);else{if('"'==this.SceneURL.charAt(0)||"'"==this.SceneURL.charAt(0)){this.SceneURL=this.SceneURL.replace(/^['|"](.*)['|"]$/,"$1")}if(this.SceneToken&&(Cesium.Credential.CREDENTIAL=new Cesium.Credential(this.SceneToken)),this.$emit("childEvent"),viewer){var e,t=[];this.setTrustedServers(this.SceneURL),e=viewer.scene.open(this.SceneURL,this.SceneName),t.push(e),this.promiseWhen(t)}}else this.$Message.error(Resource.urlNotNullMsg)},openLayer:function(){if(null!=this.LayerURL&&""!=this.LayerURL){switch(this.LayerType){case"S3M":if(this.LayerURL.indexOf("/rest/realspace/datas/")<0)return void this.$Message.error(Resource.urlErrorMsg);break;case"IMAGERY":if(this.LayerURL.indexOf("/rest/realspace/datas/")<0||this.LayerURL.indexOf("/rest/maps/")<0)return void this.$Message.error(Resource.urlErrorMsg);break;case"TERRAIN":if(this.LayerURL.indexOf("/rest/realspace/datas/")<0)return void this.$Message.error(Resource.urlErrorMsg)}if('"'==this.LayerURL.charAt(0)||"'"==this.LayerURL.charAt(0)){this.LayerURL=this.LayerURL.replace(/^['|"](.*)['|"]$/,"$1")}switch(this.LayerToken&&(Cesium.Credential.CREDENTIAL=new Cesium.Credential(this.LayerToken)),this.setTrustedServers(this.LayerURL),this.LayerType){case"S3M":this.addS3M(this.LayerURL);break;case"IMAGERY":this.addImage(this.LayerURL);break;case"TERRAIN":this.addTerrain(this.LayerURL);break;default:store.setAnalysisAction([0,0,0,0,1])}}else this.$Message.error(Resource.urlNotNullMsg)},addS3M:function(e){var t=[],i={};this.LayerName?(i.name=this.LayerName,ft=viewer.scene.layers.layerQueue.length,this.setTrustedServers(e),t.push(viewer.scene.addS3MTilesLayerByScp(e,i)),this.promiseWhen(t,!0)):this.$Message.warning(Resource.layerNameNotNullMsg)},addTerrain:function(e){viewer.terrainProvider=new Cesium.CesiumTerrainProvider({url:e,isSct:!0});var t=viewer.terrainProvider;t.readyPromise.then(function(){var e=t._bounds,i=new window.Cesium.Rectangle.fromDegrees(e.west,e.south,e.east,e.north);viewer.scene.camera.flyTo({destination:i})}),setTimeout(function(){store.setTerrainLayerManage(viewer.terrainProvider)},1500)},addImage:function(e){var t=viewer.imageryLayers.addImageryProvider(new Cesium.SuperMapImageryProvider({url:e}));viewer.flyTo(t),setTimeout(function(){store.setImgLayerManage(viewer.imageryLayers._layers.length)},1500)},promiseWhen:function(e,t){Cesium.when.all(e,function(e){for(var i=0;i<e.length;i++)e[i]._visibleDistanceMax=16e3;setTimeout(function(){store.setS3MLayerManage(viewer.scene.layers.layerQueue.length),store.setImgLayerManage(viewer.imageryLayers._layers.length),store.setTerrainLayerManage(viewer.terrainProvider)},500),t&&e[ft]&&viewer.flyTo(e[ft])},function(e){if(widget._showRenderLoopErrors){var t=Resource.scpUrlErrorMsg;widget.showErrorPanel(t,void 0,e)}})},setTrustedServers:function(e){if(window.store.isPortal){var t=window.store.portalConfig.serviceProxy;if(q(e,t)){var i=Q(e);Cesium.TrustedServers.contains("http://"+i+"/"+t.port)||Cesium.TrustedServers.add(i,t.port)}}},childEvent:function(){}},watch:{LayerType:function(e){if(e)switch(this.LayerType){case"S3M":this.holderURL=Resource.layerUrl,this.holderName=Resource.layerName;break;case"IMAGERY":this.holderURL=Resource.imageUrl;break;case"TERRAIN":this.holderURL=Resource.terrainUrl}},LayerURL:function(e){if(e){var t=e.split("/datas/");if(t.length>1)this.LayerName=t[1].split("/")[0];else{var i=e.split("/rest/maps/");i.length>1&&(this.LayerName=i[1].split("/")[0])}}},SceneURL:function(e){var t=this;if(e&&"rest/realspace"===e.slice(-14)){var i=e.split("rest/realspace")[0]+"rest/realspace"+"/scenes.json";window.axios.get(i,{withCredentials:window.store.isPortal}).then(function(e){t.SceneList=e.data,t.SceneName=t.SceneList[0].name})}}}},wt={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.customServiceShow,expression:"customServiceShow"}],staticClass:"sm-function-module-content"},[i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.OpenLayer))]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.LayerType,expression:"LayerType"}],staticClass:"sm-select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.LayerType=t.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"S3M"}},[e._v(e._s(e.Resource.s3mLayer))]),e._v(" "),i("option",{attrs:{value:"IMAGERY"}},[e._v(e._s(e.Resource.imageryLayer))]),e._v(" "),i("option",{attrs:{value:"TERRAIN"}},[e._v(e._s(e.Resource.terrainLayer))])]),e._v(" "),i("div",{staticClass:"token"},[i("label",[e._v(e._s(e.Resource.addToken))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.addToken,expression:"addToken"}],staticStyle:{"margin-left":"10px"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.addToken)?e._i(e.addToken,null)>-1:e.addToken},on:{change:function(t){var i=e.addToken,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.addToken=i.concat([null])):o>-1&&(e.addToken=i.slice(0,o).concat(i.slice(o+1)))}else e.addToken=a}}})]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.LayerURL,expression:"LayerURL"}],staticClass:"sm-input",attrs:{type:"text",placeholder:e.holderURL},domProps:{value:e.LayerURL},on:{input:function(t){t.target.composing||(e.LayerURL=t.target.value)}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.LayerName,expression:"LayerName"}],staticClass:"sm-input",attrs:{type:"text",placeholder:e.holderName},domProps:{value:e.LayerName},on:{input:function(t){t.target.composing||(e.LayerName=t.target.value)}}}),e._v(" "),i("input",{directives:[{name:"show",rawName:"v-show",value:e.addToken,expression:"addToken"},{name:"model",rawName:"v-model",value:e.LayerToken,expression:"LayerToken"}],staticClass:"sm-input",attrs:{type:"text",placeholder:e.Resource.addToken},domProps:{value:e.LayerToken},on:{input:function(t){t.target.composing||(e.LayerToken=t.target.value)}}}),e._v(" "),i("div",{staticClass:"boxchild"},[i("button",{staticClass:"tbtn tbn1",attrs:{type:"button"},on:{click:e.openLayer}},[e._v(e._s(e.Resource.confirm))])]),e._v(" "),i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.OpenScene))]),e._v(" "),i("label",[e._v(e._s(e.Resource.addToken))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.addSceneToken,expression:"addSceneToken"}],staticStyle:{"margin-left":"10px"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.addSceneToken)?e._i(e.addSceneToken,null)>-1:e.addSceneToken},on:{change:function(t){var i=e.addSceneToken,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.addSceneToken=i.concat([null])):o>-1&&(e.addSceneToken=i.slice(0,o).concat(i.slice(o+1)))}else e.addSceneToken=a}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.SceneURL,expression:"SceneURL"}],staticClass:"sm-input",attrs:{type:"text",placeholder:e.Resource.sceneUrl},domProps:{value:e.SceneURL},on:{input:function(t){t.target.composing||(e.SceneURL=t.target.value)}}}),e._v(" "),i("input",{directives:[{name:"show",rawName:"v-show",value:e.addSceneToken,expression:"addSceneToken"},{name:"model",rawName:"v-model",value:e.SceneToken,expression:"SceneToken"}],staticClass:"sm-input",attrs:{type:"text",placeholder:e.Resource.addToken},domProps:{value:e.SceneToken},on:{input:function(t){t.target.composing||(e.SceneToken=t.target.value)}}}),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.SceneName,expression:"SceneName"}],staticClass:"sm-select sm-sceneList",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.SceneName=t.target.multiple?i:i[0]}}},e._l(e.SceneList,function(t,s){return i("option",{key:s,domProps:{value:t.name}},[e._v(e._s(t.name))])}),0),e._v(" "),i("div",{staticClass:"boxchild"},[i("button",{staticClass:"tbtn tbn1",attrs:{type:"button"},on:{click:e.openScene}},[e._v(e._s(e.Resource.confirm))])])])])},staticRenderFns:[]};var bt=i("VU/8")(Ct,wt,!1,function(e){i("5KzI")},"data-v-7f7f9b32",null).exports,St={name:"addLocalFile",data:function(){return{sharedState:store.state,files:null}},computed:{localFileShow:function(){return this.sharedState.addLayer[3]}},methods:{addLocalFile:function(){document.getElementById("file").addEventListener("change",function(e){var t=e.target.files[0];t&&viewer.dataSources.add(Cesium.KmlDataSource.importFile(t,{camera:viewer.scene.camera,canvas:viewer.scene.canvas})).then(function(e){viewer.flyTo(e),viewer.scene.layer=e,setTimeout(function(){store.setS3MLayerManage(viewer.scene.layers.layerQueue.length),store.setImgLayerManage(viewer.imageryLayers._layers.length),store.setTerrainLayerManage(viewer.terrainProvider)},500)})})}},watch:{localFileShow:function(e){var t=document.querySelector(".addLayer-panel");e?(this.addLocalFile(),t.style.height="180px"):t.style.height="472px"}}},_t={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"show",rawName:"v-show",value:this.localFileShow,expression:"localFileShow"}],staticClass:"sm-function-module-content"},[t("label",{staticClass:"label-container"},[this._v(this._s(this.Resource.KMLData))]),this._v(" "),t("input",{staticClass:"sm-input",staticStyle:{height:"33px","padding-top":"2px"},attrs:{type:"file",accept:".kml",id:"file"}})])},staticRenderFns:[]};var xt=i("VU/8")(St,_t,!1,function(e){i("6nKi")},"data-v-4dfe4dba",null).exports,Et={name:"addPortalService",data:function(){return{sharedState:store.state,columns:[{type:"selection",width:60,align:"center"},{title:Resource.serviceName,key:"name"},{title:Resource.resourceSubType,key:"resourceSubType"},{title:Resource.updateTime,key:"updateTime"},{title:Resource.serviceUrl,key:"url",align:"center",render:function(e,t){return e("a",{attrs:{href:t.row.url,target:"_black"}},Resource.view)}}],data:[]}},mounted:function(){window.store.isPortal&&this.init()},computed:{portalServiceShow:function(){return this.sharedState.addLayer[1]}},methods:{init:function(){var e=this,t=Z()+"gateway/catalog/resource/search.json?searchType=MY_RES&resourceType=SERVICE";window.axios.get(t,{withCredentials:window.store.isPortal}).then(function(t){t.data.content.forEach(function(t){var i=t.resourceId,s=Z()+"web/permissions/highestpermission.json?resourceIds="+encodeURIComponent("["+i+"]")+"&resourceType=SERVICE",a=["READ","READWRITE","DELETE"],o=!1;window.axios.get(s,{withCredentials:window.store.isPortal}).then(function(s){a.indexOf(s.data[i])<0&&(o=!0);var n=Z()+"web/services/"+t.resourceId+".json";window.axios.get(n,{withCredentials:window.store.isPortal}).then(function(i){var s=i.data.proxiedUrl||i.data.linkPage,a=o||"REALSPACE"!=t.resourceSubType;e.data.push({name:t.name,resourceSubType:t.resourceSubType,updateTime:e.dateDiff(t.updateTime),url:s,_disabled:a})})})})})},dateDiff:function(e){for(var t=(e+"").split(""),i=0;i<13;i++)t[i]||(t[i]="0");e=1*t.join("");var s=(new Date).getTime()-e;if(s<0)return"不久前";var a,o=s/2592e6,n=s/6048e5,r=s/864e5,l=s/36e5,c=s/6e4,d=function(e){return e<10?"0"+e:e};return o>4?(a=new Date(e)).getFullYear()+Resource.yeear+d(a.getMonth()+1)+Resource.month+d(a.getDate())+Resource.day:o>=1?parseInt(o)+Resource.monthsAgo:n>=1?parseInt(n)+Resource.weeksAgo:r>=1?parseInt(r)+Resource.daysAgo:l>=1?parseInt(l)+Resource.hoursAgo:c>=1?parseInt(c)+Resource.minutesAgo:Resource.secondsAgo},timeFormat:function(e){var t=new Date(e),i=t.getFullYear(),s=t.getMonth()+1,a=t.getDate(),o=t.getHours(),n=t.getMinutes();return s>=1&&s<=9&&(s="0"+s),a>=1&&a<=9&&(a="0"+a),o>=1&&o<=9&&(o="0"+o),n>=0&&n<=9&&(n="0"+n),i+"-"+s+"-"+a+" "+o+":"+n},getLocalTime:function(e){return new Date(1e3*parseInt(e)).toLocaleString().replace(/:\d{1,2}$/," ")},openScene:function(){var e=this,t=this.$refs.selection.getSelection();viewer&&t.forEach(function(t){var i,s=t.url+"/realspace",a=[];e.setTrustedServers(s),i=viewer.scene.open(s),a.push(i),e.promiseWhen(a)})},promiseWhen:function(e,t){Cesium.when.all(e,function(e){for(var i=0;i<e.length;i++)e[i].visibleDistanceMax=1e4;setTimeout(function(){store.setS3MLayerManage(viewer.scene.layers.layerQueue.length),store.setImgLayerManage(viewer.imageryLayers._layers.length),store.setTerrainLayerManage(viewer.terrainProvider)},500),t&&e[void 0]&&viewer.flyTo(e[void 0])},function(e){if(widget._showRenderLoopErrors){var t=Resource.scpUrlErrorMsg;widget.showErrorPanel(t,void 0,e)}})},setTrustedServers:function(e){if(window.store.isPortal){var t=window.store.portalConfig.serviceProxy;if(q(e,t)){var i=Q(e);Cesium.TrustedServers.contains("http://"+i+"/"+t.port)||Cesium.TrustedServers.add(i,t.port)}}},childEvent:function(){}},watch:{}},Rt={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.portalServiceShow,expression:"portalServiceShow"}],staticClass:"sm-function-module-content"},[i("div",[i("div",[i("Table",{ref:"selection",attrs:{"no-data-text":e.Resource.noData,columns:e.columns,data:e.data,height:250}})],1),e._v(" "),i("div",{staticClass:"boxchild"},[i("button",{staticClass:"tbtn tbn1",attrs:{type:"button"},on:{click:e.openScene}},[e._v(e._s(e.Resource.confirm))])])])])},staticRenderFns:[]};var Lt=i("VU/8")(Et,Rt,!1,function(e){i("agJY")},"data-v-623e5c1a",null).exports,At=void 0,Pt=void 0,Tt=void 0,Mt={name:"sceneBasicOptions",data:function(){return{sharedState:store.state,earthShow:!0,shadowMap:!1,cloud:!1,showFrameState:!1,skyBox:!1,sunShow:!1,timeline:!1,depthAgainst:!0,atomsphereRender:!0,fogEffect:!0,brightness:1,contrast:1,hue:0,saturation:1,queryCoordinates:null,isDestroyFlag:!0}},computed:{basicOptions:function(){return this.sharedState.sceneAtttribute[0]},SceneAtttributeShow:function(){return this.sharedState.toolBar[3]}},beforeDestroy:function(){this.isDestroyFlag&&At&&(void 0,At=void 0,Pt&&(Pt.destroy(),Pt=void 0))},mounted:function(){this.SceneAtttributeShow&&this.basicOptions&&this.init()},methods:{init:function(){At||(isPCBroswer||(this.sunShow=!1),At=viewer.scene.layers.layerQueue,viewer.imageryLayers,Pt=new Cesium.ScreenSpaceEventHandler(scene.canvas),viewer.scene.colorCorrection.show=!0)},onQueryCoordinatesClk:function(){var e=this;this.isDestroyFlag=!1,Pt.setInputAction(function(e){window.tooltip.showAt(e.endPosition,"点击查询坐标值")},Cesium.ScreenSpaceEventType.MOUSE_MOVE),Pt.setInputAction(function(t){var i=scene.pickPosition(t.position),s=Cesium.Cartographic.fromCartesian(i),a=Cesium.Math.toDegrees(s.longitude).toFixed(4),o=Cesium.Math.toDegrees(s.latitude).toFixed(4),n=s.height.toFixed(2);e.queryCoordinates=a+", "+o+", "+n,window.tooltip.setVisible(!1),Pt.removeInputAction(Cesium.ScreenSpaceEventType.MOUSE_MOVE),Pt.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK)},Cesium.ScreenSpaceEventType.LEFT_CLICK)},clear:function(){this.isDestroyFlag=!0,Pt.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK),Pt.removeInputAction(Cesium.ScreenSpaceEventType.MOUSE_MOVE),window.tooltip.setVisible(!1),this.queryCoordinates=null},gradualChange:function(e,t){Tt=scene.postRender.addEventListener(function(){var i=scene.camera.positionCartographic.height;if(i<22e4&&Cesium.defined(e)){var s=(i-12e4)/1e5;s>1?s=1:s<0&&(s=0);var a=(i-12e4)/3e4;a>1?a=1:a<0&&(a=0),e.alpha=1-a,i>12e4?(scene.skyAtmosphere.show=!0,scene.skyAtmosphere.alpha=s,scene.skyBox=e):(scene.skyAtmosphere.show=!1,scene.skyBox=e)}else scene.skyAtmosphere.alpha=1,scene.skyBox=t})}},watch:{basicOptions:function(e){e&&this.init()},SceneAtttributeShow:function(e){this.BaseSpecialEffectModels=re,e&&this.basicOptions&&this.init()},earthShow:function(e){viewer.scene.globe.show=e},shadowMap:function(e){if(e){var t=!0,i=!1,s=void 0;try{for(var a,o=ze()(At);!(t=(a=o.next()).done);t=!0){var n=a.value;n.shadowType=2,n.refresh()}}catch(e){i=!0,s=e}finally{try{!t&&o.return&&o.return()}finally{if(i)throw s}}}else{var r=!0,l=!1,c=void 0;try{for(var d,u=ze()(At);!(r=(d=u.next()).done);r=!0){var m=d.value;m.shadowType=0,m.refresh()}}catch(e){l=!0,c=e}finally{try{!r&&u.return&&u.return()}finally{if(l)throw c}}}},cloud:function(e){var t=this.BaseSpecialEffectModels[0].proxiedUrl;if(e){var i=new Cesium.CloudBox({url:t});scene.cloudBox=i,viewer.scene.globe.enableLighting=!1}else scene.cloudBox=null},skyBox:function(e){var t=this.BaseSpecialEffectModels[1].currentSky;t.show=!0;var i=this.BaseSpecialEffectModels[1].defaultSky;e?(t.WSpeed=1,this.gradualChange(t,i)):(t.show=!1,scene.skyAtmosphere.show=!0,scene.skyBox=i,Tt())},showFrameState:function(e){viewer.scene.debugShowFramesPerSecond=e},sunShow:function(e){scene.globe.enableLighting=e},timeline:function(e){var t=document.getElementsByClassName("cesium-viewer-timelineContainer")[0];t.style.visibility=e?"visible":"hidden"},depthAgainst:function(e){scene.globe.depthTestAgainstTerrain=e},atomsphereRender:function(e){scene.skyAtmosphere.show=e},fogEffect:function(e){scene.fog.enabled=e},brightness:function(e){viewer.scene.colorCorrection.brightness=Number(e)},contrast:function(e){viewer.scene.colorCorrection.contrast=Number(e)},hue:function(e){viewer.scene.colorCorrection.hue=Number(e)},saturation:function(e){viewer.scene.colorCorrection.saturation=Number(e)}}},Dt={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.basicOptions,expression:"basicOptions"}],staticClass:"sm-function-module-content"},[i("div",{staticClass:"basicflexbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.earthShow,expression:"earthShow"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.earthShow)?e._i(e.earthShow,null)>-1:e.earthShow},on:{change:function(t){var i=e.earthShow,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.earthShow=i.concat([null])):o>-1&&(e.earthShow=i.slice(0,o).concat(i.slice(o+1)))}else e.earthShow=a}}}),e._v(" "),i("label",{staticClass:"labelbox"},[e._v(e._s(e.Resource.earth))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.shadowMap,expression:"shadowMap"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.shadowMap)?e._i(e.shadowMap,null)>-1:e.shadowMap},on:{change:function(t){var i=e.shadowMap,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.shadowMap=i.concat([null])):o>-1&&(e.shadowMap=i.slice(0,o).concat(i.slice(o+1)))}else e.shadowMap=a}}}),e._v(" "),i("label",{staticClass:"labelbox"},[e._v(e._s(e.Resource.shadowMap))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.sunShow,expression:"sunShow"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.sunShow)?e._i(e.sunShow,null)>-1:e.sunShow},on:{change:function(t){var i=e.sunShow,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.sunShow=i.concat([null])):o>-1&&(e.sunShow=i.slice(0,o).concat(i.slice(o+1)))}else e.sunShow=a}}}),e._v(" "),i("label",{staticClass:"labelbox"},[e._v(e._s(e.Resource.sun))])]),e._v(" "),i("div",{staticClass:"basicflexbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.depthAgainst,expression:"depthAgainst"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.depthAgainst)?e._i(e.depthAgainst,null)>-1:e.depthAgainst},on:{change:function(t){var i=e.depthAgainst,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.depthAgainst=i.concat([null])):o>-1&&(e.depthAgainst=i.slice(0,o).concat(i.slice(o+1)))}else e.depthAgainst=a}}}),e._v(" "),i("label",{staticClass:"labelbox"},[e._v(e._s(e.Resource.depthAgainst))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.atomsphereRender,expression:"atomsphereRender"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.atomsphereRender)?e._i(e.atomsphereRender,null)>-1:e.atomsphereRender},on:{change:function(t){var i=e.atomsphereRender,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.atomsphereRender=i.concat([null])):o>-1&&(e.atomsphereRender=i.slice(0,o).concat(i.slice(o+1)))}else e.atomsphereRender=a}}}),e._v(" "),i("label",{staticClass:"labelbox"},[e._v(e._s(e.Resource.skyAtmosphereEffect))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.fogEffect,expression:"fogEffect"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.fogEffect)?e._i(e.fogEffect,null)>-1:e.fogEffect},on:{change:function(t){var i=e.fogEffect,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.fogEffect=i.concat([null])):o>-1&&(e.fogEffect=i.slice(0,o).concat(i.slice(o+1)))}else e.fogEffect=a}}}),e._v(" "),i("label",{staticClass:"labelbox"},[e._v(e._s(e.Resource.fogEffect))])]),e._v(" "),i("div",{staticClass:"basicflexbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.cloud,expression:"cloud"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.cloud)?e._i(e.cloud,null)>-1:e.cloud},on:{change:function(t){var i=e.cloud,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.cloud=i.concat([null])):o>-1&&(e.cloud=i.slice(0,o).concat(i.slice(o+1)))}else e.cloud=a}}}),e._v(" "),i("label",{staticClass:"labelbox"},[e._v(e._s(e.Resource.cloud))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.skyBox,expression:"skyBox"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.skyBox)?e._i(e.skyBox,null)>-1:e.skyBox},on:{change:function(t){var i=e.skyBox,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.skyBox=i.concat([null])):o>-1&&(e.skyBox=i.slice(0,o).concat(i.slice(o+1)))}else e.skyBox=a}}}),e._v(" "),i("label",{staticClass:"labelbox"},[e._v(e._s(e.Resource.skyBox))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.timeline,expression:"timeline"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.timeline)?e._i(e.timeline,null)>-1:e.timeline},on:{change:function(t){var i=e.timeline,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.timeline=i.concat([null])):o>-1&&(e.timeline=i.slice(0,o).concat(i.slice(o+1)))}else e.timeline=a}}}),e._v(" "),i("label",{staticClass:"labelbox"},[e._v(e._s(e.Resource.timeline))])]),e._v(" "),i("div",{staticClass:"basicflexbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.showFrameState,expression:"showFrameState"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.showFrameState)?e._i(e.showFrameState,null)>-1:e.showFrameState},on:{change:function(t){var i=e.showFrameState,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.showFrameState=i.concat([null])):o>-1&&(e.showFrameState=i.slice(0,o).concat(i.slice(o+1)))}else e.showFrameState=a}}}),e._v(" "),i("label",{staticClass:"labelbox"},[e._v(e._s(e.Resource.showFrame))])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.brightness))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box",staticStyle:{width:"80%"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.brightness,expression:"brightness"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"0",max:"3",step:"0.02",type:"range"},domProps:{value:e.brightness},on:{__r:function(t){e.brightness=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.brightness,expression:"brightness"}],staticClass:"min-solider",staticStyle:{width:"25%","border-radius":"3px"},attrs:{min:"0",max:"3",step:"0.02",type:"number"},domProps:{value:e.brightness},on:{input:function(t){t.target.composing||(e.brightness=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.contrast))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box",staticStyle:{width:"80%"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.contrast,expression:"contrast"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"0",max:"3",step:"0.02",type:"range"},domProps:{value:e.contrast},on:{__r:function(t){e.contrast=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contrast,expression:"contrast"}],staticClass:"min-solider",staticStyle:{width:"25%","border-radius":"3px"},attrs:{min:"0",max:"3",step:"0.02",type:"number"},domProps:{value:e.contrast},on:{input:function(t){t.target.composing||(e.contrast=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.hue))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box",staticStyle:{width:"80%"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.hue,expression:"hue"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"0",max:"3",step:"0.02",type:"range"},domProps:{value:e.hue},on:{__r:function(t){e.hue=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.hue,expression:"hue"}],staticClass:"min-solider",staticStyle:{width:"25%","border-radius":"3px"},attrs:{min:"0",max:"3",step:"0.02",type:"number"},domProps:{value:e.hue},on:{input:function(t){t.target.composing||(e.hue=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.saturation))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box",staticStyle:{width:"80%"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.saturation,expression:"saturation"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"0",max:"3",step:"0.02",type:"range"},domProps:{value:e.saturation},on:{__r:function(t){e.saturation=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.saturation,expression:"saturation"}],staticClass:"min-solider",staticStyle:{width:"25%","border-radius":"3px"},attrs:{min:"0",max:"3",step:"0.02",type:"number"},domProps:{value:e.saturation},on:{input:function(t){t.target.composing||(e.saturation=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.queryCoordinates))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.queryCoordinates,expression:"queryCoordinates"}],staticClass:"middle-input",staticStyle:{width:"96.5%",background:"#333333",color:"white"},attrs:{disabled:"",type:"text",placeholder:e.Resource.displayCoordinates},domProps:{value:e.queryCoordinates},on:{input:function(t){t.target.composing||(e.queryCoordinates=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"boxchild"},[i("button",{staticClass:"tbtn tbn1",attrs:{type:"button"},on:{click:e.onQueryCoordinatesClk}},[e._v(e._s(e.Resource.StartQuery))]),e._v(" "),i("button",{staticClass:"tbtn",attrs:{type:"button"},on:{click:e.clear}},[e._v(e._s(e.Resource.eliminate))])])])},staticRenderFns:[]};var kt=i("VU/8")(Mt,Dt,!1,function(e){i("ozTt")},null,null).exports,Nt=void 0,Bt=void 0,It=void 0,Ft={name:"sceneCamera",data:function(){return{sharedState:store.state,stopSelected:null,stopFlyCircle:!0,circulation:!0,flyCirclePoint:null,speed:1,underground:!1,SurfaceTransparency:1,cameraMinimumZoomDistance:-1e3,isDestroyFlag:!0,showFlyStop:!0,showFlyRoute:!0,stopList:{}}},computed:{cameraShow:function(){return this.sharedState.sceneAtttribute[1]},SceneAtttributeShow:function(){return this.sharedState.toolBar[3]}},beforeDestroy:function(){this.isDestroyFlag&&Bt&&(Bt=void 0,It&&(It=void 0),Nt&&(Nt.destroy(),Nt=void 0))},mounted:function(){this.SceneAtttributeShow&&this.basicOptions&&this.init()},methods:{init:function(){Bt||((Bt=scene.camera).flyCircleLoop=!0)},flyStart:function(){if(Nt)Nt.play();else{var e=this,t=new Cesium.RouteCollection(viewer.entities),i=document.getElementById("flyFile").files[0];if(!i)return;var s=new FileReader;s.onload=function(e){var i=e.target.result;t.fromXML(i)},s.readAsBinaryString(i),(Nt=new Cesium.FlyManager({scene:scene,routes:t})).stopArrived.addEventListener(function(e){e.waitTime=1}),Nt.readyPromise&&Cesium.when(Nt.readyPromise,function(){for(var t=Nt.currentRoute,i=Nt.getAllRouteStops(),s=document.getElementById("stopList"),a=0,o=i.length;a<o;a++){var n=document.createElement("option");n.innerHTML=Resource.stop+(a+1),n.value=i[a].index,s.appendChild(n)}t.isLineVisible=!0,t.isStopVisible=!0,e.showFlyRoute=!0,e.showFlyStop=!0,Nt.play()})}},flyPause:function(){Nt&&Nt.pause()},flyStop:function(){Nt&&Nt.stop()},onSpinClk:function(e){var t=this;this.isDestroyFlag=!1,It||((It=new Cesium.DrawHandler(viewer,Cesium.DrawMode.Point)).activeEvt.addEventListener(function(e){1==e?(viewer.enableCursorStyle=!1,viewer._element.style.cursor="",document.body.classList.add("drawCur")):(viewer.enableCursorStyle=!0,document.body.classList.remove("drawCur"))}),It.drawEvt.addEventListener(function(e){t.flyCirclePoint=e.object.position,viewer.entities.removeById("fly-circle-point"),viewer.entities.add({id:"fly-circle-point",position:t.flyCirclePoint,billboard:{image:"@/../static/images/flypng/flyCircle.png",scaleByDistance:new Cesium.NearFarScalar(10,1,1e3,.1),disableDepthTestDistance:Number.POSITIVE_INFINITY}}),Bt.stopFlyCircle(),Bt.flyCircle(t.flyCirclePoint),It.clear()})),It.activate()},onCancelSpinClk:function(){this.isDestroyFlag=!0,Bt.stopFlyCircle(),viewer.entities.removeById("fly-circle-point"),this.flyCirclePoint=null},onStopFlyCircle:function(){this.stopFlyCircle&&Bt.stopFlyCircle(),this.stopFlyCircle=!1},restore:function(){this.stopFlyCircle=!0,this.stopFlyCircle&&this.flyCirclePoint&&Bt.flyCircle(this.flyCirclePoint)},clear:function(){var e=Nt.currentRoute,t=Nt.getAllRouteStops(),i=t.length;for(document.getElementById("stopList").innerHTML="";i;)e.removeStop(t[i-1]),i=t.length;document.getElementById("flyFile").value=null,Nt&&(Nt=void 0)}},watch:{cameraShow:function(e){e&&this.init()},stopSelected:function(e){Nt&&Nt.pause();var t=Number(e),i=Nt.currentRoute.get(t);Nt.currentStopIndex=t,Nt.viewToStop(i)},circulation:function(e){Bt.flyCircleLoop=e},speed:function(e){Bt.speedRatio=Number(e)},underground:function(e){viewer.scene.undergroundMode=e,viewer.scene.screenSpaceCameraController.minimumZoomDistance=e?Number(this.cameraMinimumZoomDistance):1},cameraMinimumZoomDistance:function(e){viewer.scene.screenSpaceCameraController.minimumZoomDistance=Number(e)},SurfaceTransparency:function(e){viewer.scene.globe.globeAlpha=parseFloat(e)},showFlyRoute:function(e){Nt&&(Nt.currentRoute.isLineVisible=e)},showFlyStop:function(e){Nt&&(Nt.currentRoute.isStopVisible=e)}}},Ot={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.cameraShow,expression:"cameraShow"}],staticClass:"sm-function-module-content"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.flyRoute))]),e._v(" "),i("input",{staticClass:"sm-input",staticStyle:{width:"100%",height:"33px","padding-top":"2px"},attrs:{type:"file",accept:".fpf",id:"flyFile"}}),e._v(" "),i("div",{staticClass:"flybox"},[i("img",{staticClass:"imgbox",attrs:{src:"static/images/flypng/start.png",title:e.Resource.startFly},on:{click:e.flyStart}}),e._v(" "),i("img",{staticClass:"imgbox",attrs:{src:"static/images/flypng/pause.png",title:e.Resource.pauseFly},on:{click:e.flyPause}}),e._v(" "),i("img",{staticClass:"imgbox",attrs:{src:"static/images/flypng/stop.png",title:e.Resource.stopFly},on:{click:e.flyStop}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.stopChoose))]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.stopSelected,expression:"stopSelected"}],staticClass:"select",attrs:{id:"stopList"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.stopSelected=t.target.multiple?i:i[0]}}})]),e._v(" "),i("div",{staticClass:"flexbox",staticStyle:{width:"41%"}},[i("label",{staticClass:"sm-viewshed-label-right"},[e._v(e._s(e.Resource.showFlyRoute))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.showFlyRoute,expression:"showFlyRoute"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.showFlyRoute)?e._i(e.showFlyRoute,null)>-1:e.showFlyRoute},on:{change:function(t){var i=e.showFlyRoute,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.showFlyRoute=i.concat([null])):o>-1&&(e.showFlyRoute=i.slice(0,o).concat(i.slice(o+1)))}else e.showFlyRoute=a}}})]),e._v(" "),i("div",{staticClass:"flexbox flystop"},[i("label",{staticClass:"sm-viewshed-label-right"},[e._v(e._s(e.Resource.showFlyStop))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.showFlyStop,expression:"showFlyStop"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.showFlyStop)?e._i(e.showFlyStop,null)>-1:e.showFlyStop},on:{change:function(t){var i=e.showFlyStop,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.showFlyStop=i.concat([null])):o>-1&&(e.showFlyStop=i.slice(0,o).concat(i.slice(o+1)))}else e.showFlyStop=a}}})]),e._v(" "),i("button",{staticClass:"tbtn tbn1 cameraclear",attrs:{type:"button"},on:{click:e.clear}},[e._v(e._s(e.Resource.clear))]),e._v(" "),i("div",{staticClass:"observeState"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.observe))]),e._v(" "),i("div",{staticClass:"flexbox",staticStyle:{width:"41%"}},[i("label",{staticClass:"cameraziti"},[e._v(e._s(e.Resource.rotateCirculation))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.circulation,expression:"circulation"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.circulation)?e._i(e.circulation,null)>-1:e.circulation},on:{change:function(t){var i=e.circulation,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.circulation=i.concat([null])):o>-1&&(e.circulation=i.slice(0,o).concat(i.slice(o+1)))}else e.circulation=a}}})]),e._v(" "),i("div",[i("button",{staticClass:"button black pausefly",on:{click:e.onStopFlyCircle}},[e._v(e._s(e.Resource.pauseFly))]),e._v(" "),i("button",{staticClass:"button black",staticStyle:{width:"45%"},on:{click:e.restore}},[e._v(e._s(e.Resource.restore))])]),e._v(" "),i("div",[i("button",{staticClass:"button black cameraspin",on:{click:e.onSpinClk}},[e._v(e._s(e.Resource.rotatePoint))]),e._v(" "),i("button",{staticClass:"button black",staticStyle:{width:"45%"},on:{click:e.onCancelSpinClk}},[e._v(e._s(e.Resource.cancelRotatePoint))])]),e._v(" "),i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.rotateSpeed))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.speed,expression:"speed"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"0",max:"50",step:"0.1",type:"range"},domProps:{value:e.speed},on:{__r:function(t){e.speed=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.speed,expression:"speed"}],staticClass:"min-solider",staticStyle:{width:"34%","border-radius":"3px"},attrs:{min:"0",max:"50",step:"0.1",type:"number"},domProps:{value:e.speed},on:{input:function(t){t.target.composing||(e.speed=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section underground"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.underground))]),e._v(" "),i("br"),e._v(" "),i("label",{staticClass:"sm-viewshed-label-right",staticStyle:{width:"98.5px"}},[e._v(e._s(e.Resource.openUnderground))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.underground,expression:"underground"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.underground)?e._i(e.underground,null)>-1:e.underground},on:{change:function(t){var i=e.underground,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.underground=i.concat([null])):o>-1&&(e.underground=i.slice(0,o).concat(i.slice(o+1)))}else e.underground=a}}}),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.cameraMinimumZoomDistance))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.cameraMinimumZoomDistance,expression:"cameraMinimumZoomDistance"}],staticClass:"sm-input-long",attrs:{min:"0",type:"number"},domProps:{value:e.cameraMinimumZoomDistance},on:{input:function(t){t.target.composing||(e.cameraMinimumZoomDistance=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.SurfaceTransparency))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.SurfaceTransparency,expression:"SurfaceTransparency"}],staticClass:"sm-input-long",attrs:{min:"0",max:"1.0",step:"0.01",type:"number"},domProps:{value:e.SurfaceTransparency},on:{input:function(t){t.target.composing||(e.SurfaceTransparency=t.target.value)}}})])])])},staticRenderFns:[]};var Ht=i("VU/8")(Ft,Ot,!1,function(e){i("NeND")},"data-v-2e1cf2c4",null).exports,Ut=i("ifoU"),zt=i.n(Ut),Vt=void 0,Gt=void 0,jt=void 0,Wt=!1,Zt=[],qt=void 0,Qt=void 0,Yt=void 0,Xt={name:"sceneLight",data:function(){return{sharedState:store.state,lightSelect:0,pointShow:!0,spotShow:!1,directionalShow:!1,pointLightColor:"#C8910A",pointLightDistance:100,pointLightDecay:5,pointLightIntensity:5,spotLightColor:"#C8910A",spotLightDistance:300,spotLightDecay:3,spotLightIntensity:3,spotLightAngle:30,directionalColor:"#C8910A",directionalIntensity:3,isDestroyFlag:!0}},computed:{light:function(){return this.sharedState.sceneAtttribute[2]},SceneAtttributeShow:function(){return this.sharedState.toolBar[3]}},beforeDestroy:function(){this.isDestroyFlag&&(Vt&&(Vt.deactivate(),Vt=void 0),Gt&&(Gt.deactivate(),Gt=void 0),jt&&(jt.destroy(),Gt=void 0),qt&&(qt=void 0),Qt&&(Qt=void 0),Yt&&(Yt=void 0))},mounted:function(){this.SceneAtttributeShow&&this.light&&this.init()},methods:{init:function(){qt||(qt=new zt.a,Qt=new zt.a,Yt=new zt.a)},lightType:function(e){switch(this.lightSelect=e,e){case 0:this.pointShow=!0,this.spotShow=!1,this.directionalShow=!1;break;case 1:this.pointShow=!1,this.spotShow=!0,this.directionalShow=!1;break;case 2:this.pointShow=!1,this.spotShow=!1,this.directionalShow=!0}},addLinght:function(){switch(this.isDestroyFlag=!1,this.lightSelect){case 0:Vt||this.initPointLightSourceDrawHandler(),Vt.activate();break;case 1:case 2:Gt||this.initSpotOrDirectionalLightSourceDrawHandler(),Wt=!0,Gt.activate()}},initPointLightSourceDrawHandler:function(){var e=this;(Vt=new Cesium.DrawHandler(viewer,Cesium.DrawMode.Point)).activeEvt.addEventListener(function(e){1==e?(viewer.enableCursorStyle=!1,viewer._element.style.cursor="",document.body.classList.add("drawCur")):(viewer.enableCursorStyle=!0,document.body.classList.remove("drawCur"))}),Vt.movingEvt.addEventListener(function(e){window.tooltip.showAt(e,"<p>"+Resource.clickToConfirmThePositionOfTheLightSource+"</p><p>"+Resource.clickLightChangeAttributes+"</p>")}),Vt.drawEvt.addEventListener(function(t){var i=t.object.position,s={color:Cesium.Color.fromCssColorString(e.pointLightColor),cutoffDistance:Number(e.pointLightDistance),decay:Number(e.pointLightDecay),intensity:Number(e.pointLightIntensity)},a=new Cesium.PointLight(i,s);scene.addLightSource(a);var o=viewer.entities.add({id:"point-light-"+(new Date).getTime(),position:i,billboard:{image:"@/../static/images/lightSource/pointLight.png",scaleByDistance:new Cesium.NearFarScalar(10,1,1e3,.1),disableDepthTestDistance:Number.POSITIVE_INFINITY}});console.log(qt),qt.set(o,a),Vt.clear(),window.tooltip.setVisible(!1)})},initSpotOrDirectionalLightSourceDrawHandler:function(){var e=this;Gt=new Cesium.DrawHandler(viewer,Cesium.DrawMode.Line),jt=new Cesium.ScreenSpaceEventHandler(scene.canvas),Gt.activeEvt.addEventListener(function(e){1==e?(viewer.enableCursorStyle=!1,viewer._element.style.cursor="",document.body.classList.add("drawCur")):(viewer.enableCursorStyle=!0,document.body.classList.remove("drawCur"))}),Gt.movingEvt.addEventListener(function(e){window.tooltip.showAt(e,"<p>"+Resource.ClickLineDirectionLightSource+"</p><p>"+Resource.clickLightChangeAttributes+"</p>")}),Gt.drawEvt.addEventListener(function(t){var i=t.object&&t.object.positions||t;if(2===i.length){if(1===e.lightSelect){var s={color:Cesium.Color.fromCssColorString(e.spotLightColor),distance:Number(e.spotLightDistance),decay:Number(e.spotLightDecay),intensity:Number(e.spotLightIntensity),angle:Cesium.Math.toRadians(Number(e.spotLightAngle))},a=new Cesium.SpotLight(i[0],i[1],s);scene.addLightSource(a);var o=viewer.entities.add({id:"spot-light-"+(new Date).getTime(),position:i[0],billboard:{image:"@/../static/images/lightSource/spotLight.png",scaleByDistance:new Cesium.NearFarScalar(10,1,1e3,.1),disableDepthTestDistance:Number.POSITIVE_INFINITY}});Qt.set(o,a)}else if(2===e.lightSelect){var n={targetPosition:i[1],color:Cesium.Color.fromCssColorString(e.directionalColor),intensity:Number(e.directionalIntensity)},r=new Cesium.DirectionalLight(i[0],n);scene.addLightSource(r);var l=viewer.entities.add({id:"directional-light-"+(new Date).getTime(),position:i[0],billboard:{image:"@/../static/images/lightSource/directionalLight.png",scaleByDistance:new Cesium.NearFarScalar(10,1,1e3,.1),disableDepthTestDistance:Number.POSITIVE_INFINITY}});Yt.set(l,r)}Zt=[],Gt.clear(),window.tooltip.setVisible(!1)}}),jt.setInputAction(function(e){Wt&&(Zt.push(scene.pickPosition(e.position)),2===Zt.length&&(Gt.deactivate(),Wt=!1,Gt.drawEvt.raiseEvent(Zt)))},Cesium.ScreenSpaceEventType.LEFT_CLICK)},clearLightSource:function(){for(this.isDestroyFlag=!0;scene.lightSource.pointLight.values.length>0;)scene.removeLightSource(scene.lightSource.pointLight.values[0]);for(;scene.lightSource.spotLight.values.length>0;)scene.removeLightSource(scene.lightSource.spotLight.values[0]);for(;scene.lightSource.directionalLight.values.length>0;)scene.removeLightSource(scene.lightSource.directionalLight.values[0]);var e=!0,t=!1,i=void 0;try{for(var s,a=ze()(qt.keys());!(e=(s=a.next()).done);e=!0){var o=s.value;viewer.entities.remove(o)}}catch(e){t=!0,i=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw i}}qt.clear();var n=!0,r=!1,l=void 0;try{for(var c,d=ze()(Qt.keys());!(n=(c=d.next()).done);n=!0){var u=c.value;viewer.entities.remove(u)}}catch(e){r=!0,l=e}finally{try{!n&&d.return&&d.return()}finally{if(r)throw l}}Qt.clear();var m=!0,p=!1,h=void 0;try{for(var v,g=ze()(Yt.keys());!(m=(v=g.next()).done);m=!0){var y=v.value;viewer.entities.remove(y)}}catch(e){p=!0,h=e}finally{try{!m&&g.return&&g.return()}finally{if(p)throw h}}Yt.clear()}},watch:{light:function(e){e&&this.init()},pointLightColor:function(e){var t=Cesium.Color.fromCssColorString(e);viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("point-light")&&(qt.get(viewer.selectedEntity).color=t)},pointLightDistance:function(e){viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("point-light")&&(qt.get(viewer.selectedEntity).cutoffDistance=Number(e))},pointLightDecay:function(e){viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("point-light")&&(qt.get(viewer.selectedEntity).decay=Number(e))},pointLightIntensity:function(e){viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("point-light")&&(qt.get(viewer.selectedEntity).intensity=Number(e))},spotLightColor:function(e){var t=Cesium.Color.fromCssColorString(e);viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("spot-light")&&(Qt.get(viewer.selectedEntity).color=t)},spotLightDistance:function(e){viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("spot-light")&&(Qt.get(viewer.selectedEntity).distance=Number(e))},spotLightDecay:function(e){viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("spot-light")&&(Qt.get(viewer.selectedEntity).decay=Number(e))},spotLightIntensity:function(e){viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("spot-light")&&(Qt.get(viewer.selectedEntity).intensity=Number(e))},spotLightAngle:function(e){viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("spot-light")&&(Qt.get(viewer.selectedEntity).angle=Cesium.Math.toRadians(Number(e)))},directionalColor:function(e){var t=Cesium.Color.fromCssColorString(e);viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("directional-light")&&(Yt.get(viewer.selectedEntity).color=t)},directionalIntensity:function(e){viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("directional-light")&&(Yt.get(viewer.selectedEntity).intensity=Number(e))}}},Jt={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.light,expression:"light"}],staticClass:"sm-function-module-content"},[i("label",{staticClass:"sm-function-module-sub-section-setting"},[e._v(e._s(e.Resource.symbolicLibrary))]),e._v(" "),i("div",{staticClass:"symbolicLibrary"},[i("div",{staticClass:"Thematicbox",class:{lightSelected:0===e.lightSelect},on:{click:function(t){return e.lightType(0)}}},[e._m(0),e._v(e._s(e.Resource.pointLight)+"\n    ")]),e._v(" "),i("div",{staticClass:"Thematicbox",class:{lightSelected:1===e.lightSelect},on:{click:function(t){return e.lightType(1)}}},[e._m(1),e._v(e._s(e.Resource.spotLight)+"\n    ")]),e._v(" "),i("div",{staticClass:"Thematicbox",class:{lightSelected:2===e.lightSelect},on:{click:function(t){return e.lightType(2)}}},[e._m(2),e._v(e._s(e.Resource.directionalLight)+"\n    ")])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.pointShow,expression:"pointShow"}]},[i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.lightSourceColor))]),e._v(" "),i("ColorPicker",{staticClass:"sm-colorpicker",attrs:{editable:""},model:{value:e.pointLightColor,callback:function(t){e.pointLightColor=t},expression:"pointLightColor"}})],1),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.cutoffDistance))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.pointLightDistance,expression:"pointLightDistance"}],staticClass:"sm-input-long",attrs:{min:"0",type:"number"},domProps:{value:e.pointLightDistance},on:{input:function(t){t.target.composing||(e.pointLightDistance=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.decay))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.pointLightDecay,expression:"pointLightDecay"}],staticClass:"sm-input-long",attrs:{min:"0",type:"number"},domProps:{value:e.pointLightDecay},on:{input:function(t){t.target.composing||(e.pointLightDecay=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.intensity))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.pointLightIntensity,expression:"pointLightIntensity"}],staticClass:"sm-input-long",attrs:{min:"0",type:"number"},domProps:{value:e.pointLightIntensity},on:{input:function(t){t.target.composing||(e.pointLightIntensity=t.target.value)}}})])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.spotShow,expression:"spotShow"}]},[i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.lightSourceColor))]),e._v(" "),i("ColorPicker",{staticClass:"sm-colorpicker",attrs:{editable:""},model:{value:e.spotLightColor,callback:function(t){e.spotLightColor=t},expression:"spotLightColor"}})],1),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.cutoffDistance))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.spotLightDistance,expression:"spotLightDistance"}],staticClass:"sm-input-long",attrs:{min:"0",type:"number"},domProps:{value:e.spotLightDistance},on:{input:function(t){t.target.composing||(e.spotLightDistance=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.decay))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.spotLightDecay,expression:"spotLightDecay"}],staticClass:"sm-input-long",attrs:{min:"0",type:"number"},domProps:{value:e.spotLightDecay},on:{input:function(t){t.target.composing||(e.spotLightDecay=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.intensity))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.spotLightIntensity,expression:"spotLightIntensity"}],staticClass:"sm-input-long",attrs:{min:"0",type:"number"},domProps:{value:e.spotLightIntensity},on:{input:function(t){t.target.composing||(e.spotLightIntensity=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.spotLightAngle))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.spotLightAngle,expression:"spotLightAngle"}],staticClass:"sm-input-long",attrs:{min:"0",type:"number"},domProps:{value:e.spotLightAngle},on:{input:function(t){t.target.composing||(e.spotLightAngle=t.target.value)}}})])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.directionalShow,expression:"directionalShow"}]},[i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.lightSourceColor))]),e._v(" "),i("ColorPicker",{staticClass:"sm-colorpicker",attrs:{editable:""},model:{value:e.directionalColor,callback:function(t){e.directionalColor=t},expression:"directionalColor"}})],1),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.intensity))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.directionalIntensity,expression:"directionalIntensity"}],staticClass:"sm-input-long",attrs:{min:"0",type:"number"},domProps:{value:e.directionalIntensity},on:{input:function(t){t.target.composing||(e.directionalIntensity=t.target.value)}}})])]),e._v(" "),i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.obliqueLightWarning))]),e._v(" "),i("div",{staticClass:"boxchild"},[i("button",{staticClass:"tbtn tbn1",attrs:{type:"button"},on:{click:e.addLinght}},[e._v(e._s(e.Resource.Add))]),e._v(" "),i("button",{staticClass:"tbtn right",attrs:{type:"button"},on:{click:e.clearLightSource}},[e._v(e._s(e.Resource.clear))])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"minbox",attrs:{id:"pointLight"}},[t("span",{staticClass:"iconfont iconICON_dianguangyuan"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"minbox",attrs:{id:"spotLight"}},[t("span",{staticClass:"iconfont iconICON_juguangdeng"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"minbox",attrs:{id:"directionalLight"}},[t("span",{staticClass:"iconfont iconICON_pinghangguang"})])}]};var $t=i("VU/8")(Xt,Jt,!1,function(e){i("pNS1")},"data-v-2f01ac9d",null).exports,Kt=void 0,ei=void 0,ti=void 0,ii=void 0,si=void 0,ai=[],oi=void 0,ni={name:"sceneParticleSystem",data:function(){return{sharedState:store.state,ParticleSystemSourceType:0,FireShow:!0,FountainShow:!1,emissionRate:200,particleSize:2,minimumParticleLife:1.5,maximumParticleLife:1.8,minimumSpeed:7,maximumSpeed:9,startScale:3,endScale:1.5,gravity:0,particleSystemType:"圆形放射",isDestroyFlag:!0}},computed:{ParticleSystem:function(){return this.sharedState.sceneAtttribute[3]},SceneAtttributeShow:function(){return this.sharedState.toolBar[3]}},beforeDestroy:function(){this.isDestroyFlag&&ei&&(Kt&&(Kt.deactivate(),Kt=void 0),ei=void 0,ti=null,ii=null)},mounted:function(){this.SceneAtttributeShow&&this.ParticleSystem&&this.init()},methods:{init:function(){ei||(ei=new zt.a,ti={emissionRate:200,particleSize:2,minimumParticleLife:1.5,maximumParticleLife:1.8,minimumSpeed:7,maximumSpeed:9,startScale:3,endScale:1.5,gravity:0},ii={emissionRate:40,particleSize:1,minimumParticleLife:6,maximumParticleLife:7,minimumSpeed:9,maximumSpeed:9.5,startScale:1,endScale:20,gravity:-3.5})},ParticleType:function(e){switch(this.ParticleSystemSourceType=e,e){case 0:this.FireShow=!0,this.FountainShow=!1,this.emissionRate=200,this.particleSize=2,this.minimumParticleLife=1.5,this.maximumParticleLife=1.8,this.minimumSpeed=7,this.maximumSpeed=9,this.startScale=3,this.endScale=1.5,this.gravity=0;break;case 1:this.FireShow=!1,this.FountainShow=!0,this.emissionRate=40,this.particleSize=1,this.minimumParticleLife=6,this.maximumParticleLife=7,this.minimumSpeed=9,this.maximumSpeed=9.5,this.startScale=1,this.endScale=20,this.gravity=-3.5}},addParticleSystem:function(){this.isDestroyFlag=!1,Kt||this.initParticleSystemDrawHandler(),this.addEventListener(),Kt.activate()},initParticleSystemDrawHandler:function(){var e=this;(Kt=new Cesium.DrawHandler(viewer,Cesium.DrawMode.Point)).activeEvt.addEventListener(function(e){1==e?(viewer.enableCursorStyle=!1,viewer._element.style.cursor="",document.body.classList.add("drawCur")):(viewer.enableCursorStyle=!0,document.body.classList.remove("drawCur"))}),Kt.movingEvt.addEventListener(function(e){window.tooltip.showAt(e,"<p>点击确定粒子位置</p><p>点击选中粒子可进行更改属性</p>")}),Kt.drawEvt.addEventListener(function(t){var i=t.object.position,s=void 0,a=void 0,o=void 0;switch(window.tooltip.setVisible(!1),e.ParticleSystemSourceType){case 0:s=viewer.entities.add({id:"Particle-System-"+(new Date).getTime(),position:new Cesium.Cartesian3(i.x,i.y,i.z+5)}),o="@/../static/images/ParticleSystem/fire4.png";var n=scene.primitives.add(new Cesium.ParticleSystem({image:o,startColor:new Cesium.Color(1,1,1,1),endColor:new Cesium.Color(1,0,0,0),startScale:ti.startScale,endScale:ti.endScale,minimumParticleLife:ti.minimumParticleLife,maximumParticleLife:ti.maximumParticleLife,minimumSpeed:ti.minimumSpeed,maximumSpeed:ti.maximumSpeed,imageSize:new Cesium.Cartesian2(ti.particleSize,ti.particleSize),emissionRate:ti.emissionRate,lifetime:6,loop:!0,emitter:new Cesium.ConeEmitter(Cesium.Math.toRadians(45)),updateCallback:function(e,t){var i=e.position;Cesium.Cartesian3.normalize(i,l),Cesium.Cartesian3.multiplyByScalar(l,ti.gravity*t,l),e.velocity=Cesium.Cartesian3.add(e.velocity,l,e.velocity)},sizeInMeters:!0,performance:!1}));ei.set(s,n);break;case 1:a=viewer.entities.add({id:"Particle-System2-"+(new Date).getTime(),position:new Cesium.Cartesian3(i.x,i.y,i.z+5)}),o="@/../static/images/ParticleSystem/fountain2.png";var r=scene.primitives.add(new Cesium.ParticleSystem({image:o,startColor:new Cesium.Color(1,1,1,.6),endColor:new Cesium.Color(.8,.86,1,.4),startScale:ii.startScale,endScale:ii.endScale,minimumParticleLife:ii.minimumParticleLife,maximumParticleLife:ii.maximumParticleLife,minimumSpeed:ii.minimumSpeed,maximumSpeed:ii.maximumSpeed,imageSize:new Cesium.Cartesian2(ii.particleSize,ii.particleSize),emissionRate:ii.emissionRate,lifetime:16,emitter:new Cesium.CircleEmitter(.2),updateCallback:function(e,t){var i=e.position;Cesium.Cartesian3.normalize(i,c),Cesium.Cartesian3.multiplyByScalar(c,ii.gravity*t,c),e.velocity=Cesium.Cartesian3.add(e.velocity,c,e.velocity)},sizeInMeters:!0,performance:!1}));ei.set(a,r)}var l=new Cesium.Cartesian3;var c=new Cesium.Cartesian3;Kt.clear()})},addEventListener:function(){oi||(oi=viewer.selectedEntityChanged.addEventListener(function(e){var t=void 0;if(e&&e.collection&&(t=e.collection._textureAtlasGUID,ei)){var i=!0,s=!1,a=void 0;try{for(var o,n=ze()(ei.keys());!(i=(o=n.next()).done);i=!0){var r=o.value,l=ei.get(r);if(l&&l._billboardCollection._textureAtlasGUID==t){si=l;break}}}catch(e){s=!0,a=e}finally{try{!i&&n.return&&n.return()}finally{if(s)throw a}}}}));var e=viewer.scene.preUpdate.addEventListener(function(e,i){if(ei){var s=!0,a=!1,o=void 0;try{for(var n,r=ze()(ei.keys());!(s=(n=r.next()).done);s=!0){var l=n.value,c=ei.get(l);c&&(c.modelMatrix=t(l,i))}}catch(e){a=!0,o=e}finally{try{!s&&r.return&&r.return()}finally{if(a)throw o}}}});function t(e,t){return e.computeModelMatrix(t,new Cesium.Matrix4)}ai.push(e)},clearParticleSystemSource:function(){this.isDestroyFlag=!0;var e=!0,t=!1,i=void 0;try{for(var s,a=ze()(ei.keys());!(e=(s=a.next()).done);e=!0){var o=s.value;viewer.entities.remove(o);var n=ei.get(o);scene._primitives.remove(n)}}catch(e){t=!0,i=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw i}}ei.clear(),oi&&(oi(),oi=void 0),ai.length>0&&(ai.forEach(function(e){e()}),ai=[])}},watch:{ParticleSystem:function(e){e&&this.init()},emissionRate:function(e){ti.emissionRate=parseFloat(e),ii.emissionRate=parseFloat(e),si&&(si.emissionRate=parseFloat(e))},particleSize:function(e){if(ti.particleSize=parseFloat(e),ii.particleSize=parseFloat(e),si){var t=si,i=parseFloat(e);t.minimumImageSize.x=i,t.minimumImageSize.y=i,t.maximumImageSize.x=i,t.maximumImageSize.y=i}},minimumParticleLife:function(e){(ti.minimumParticleLife=parseFloat(e),ii.minimumParticleLife=parseFloat(e),si)&&(si.minimumParticleLife=parseFloat(e))},maximumParticleLife:function(e){(ti.maximumParticleLife=parseFloat(e),ii.maximumParticleLife=parseFloat(e),si)&&(si.maximumParticleLife=parseFloat(e))},minimumSpeed:function(e){(ti.minimumSpeed=parseFloat(e),ii.minimumSpeed=parseFloat(e),si)&&(si.minimumSpeed=parseFloat(e))},maximumSpeed:function(e){(ti.maximumSpeed=parseFloat(e),ii.maximumSpeed=parseFloat(e),si)&&(si.maximumSpeed=parseFloat(e))},startScale:function(e){(ti.startScale=parseFloat(e),ii.startScale=parseFloat(e),si)&&(si.startScale=parseFloat(e))},endScale:function(e){(ti.endScale=parseFloat(e),ii.endScale=parseFloat(e),si)&&(si.endScale=parseFloat(e))},gravity:function(e){if(ti.gravity=parseFloat(e),ii.gravity=parseFloat(e),si);},particleSystemType:function(e){if(viewer.selectedEntity){var t=si;if(t)switch(e){case"圆形放射":t.emitter=new Cesium.CircleEmitter(2);break;case"球体放射":t.emitter=new Cesium.SphereEmitter(2.5);break;case"圆锥体放射":t.emitter=new Cesium.ConeEmitter(Cesium.Math.toRadians(45));break;case"盒状放射":t.emitter=new Cesium.BoxEmitter(new Cesium.Cartesian3(10,10,10))}}}}},ri={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.ParticleSystem,expression:"ParticleSystem"}],staticClass:"sm-function-module-content"},[i("label",{staticClass:"sm-function-module-sub-section-setting"},[e._v(e._s(e.Resource.symbolicLibrary))]),e._v(" "),i("div",{staticClass:"symbolicLibrary"},[i("div",{staticClass:"Thematicbox",class:{lightSelected:0===e.ParticleSystemSourceType},on:{click:function(t){return e.ParticleType(0)}}},[e._m(0),e._v(e._s(e.Resource.Fire)+"\n    ")]),e._v(" "),i("div",{staticClass:"Thematicbox",class:{lightSelected:1===e.ParticleSystemSourceType},on:{click:function(t){return e.ParticleType(1)}}},[e._m(1),e._v(e._s(e.Resource.Fountain)+"\n    ")])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.FireShow,expression:"FireShow"}],staticClass:"ParticleSystem"},[i("div",{staticClass:"sm-function-module-sub-section particle"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.emissionRate))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.emissionRate,expression:"emissionRate"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"0.0",max:"1000.0",step:"1",type:"range"},domProps:{value:e.emissionRate},on:{__r:function(t){e.emissionRate=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.emissionRate,expression:"emissionRate"}],staticClass:"min-solider",staticStyle:{width:"34%"},attrs:{min:"0.0",max:"1000.0",step:"1",type:"number"},domProps:{value:e.emissionRate},on:{input:function(t){t.target.composing||(e.emissionRate=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section particle"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.particleSize))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.particleSize,expression:"particleSize"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"0",max:"60.0",step:"0.1",type:"range"},domProps:{value:e.particleSize},on:{__r:function(t){e.particleSize=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.particleSize,expression:"particleSize"}],staticClass:"min-solider",staticStyle:{width:"34%"},attrs:{min:"0",max:"60.0",step:"0.1",type:"number"},domProps:{value:e.particleSize},on:{input:function(t){t.target.composing||(e.particleSize=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section particle"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.minimumParticleLife))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.minimumParticleLife,expression:"minimumParticleLife"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"0.1",max:"30.0",step:"1",type:"range"},domProps:{value:e.minimumParticleLife},on:{__r:function(t){e.minimumParticleLife=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.minimumParticleLife,expression:"minimumParticleLife"}],staticClass:"min-solider",staticStyle:{width:"34%"},attrs:{min:"0.1",max:"30.0",step:"1",type:"number"},domProps:{value:e.minimumParticleLife},on:{input:function(t){t.target.composing||(e.minimumParticleLife=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section particle"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.maximumParticleLife))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.maximumParticleLife,expression:"maximumParticleLife"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"0.1",max:"30.0",step:"1",type:"range"},domProps:{value:e.maximumParticleLife},on:{__r:function(t){e.maximumParticleLife=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.maximumParticleLife,expression:"maximumParticleLife"}],staticClass:"min-solider",staticStyle:{width:"34%"},attrs:{min:"0.1",max:"30.0",step:"1",type:"number"},domProps:{value:e.maximumParticleLife},on:{input:function(t){t.target.composing||(e.maximumParticleLife=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section particle"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.minimumSpeed))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.minimumSpeed,expression:"minimumSpeed"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"0.0",max:"30.0",step:"1",type:"range"},domProps:{value:e.minimumSpeed},on:{__r:function(t){e.minimumSpeed=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.minimumSpeed,expression:"minimumSpeed"}],staticClass:"min-solider",staticStyle:{width:"34%"},attrs:{min:"0.0",max:"30.0",step:"1",type:"number"},domProps:{value:e.minimumSpeed},on:{input:function(t){t.target.composing||(e.minimumSpeed=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section particle"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.maximumSpeed))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.maximumSpeed,expression:"maximumSpeed"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"0.0",max:"30.0",step:"1",type:"range"},domProps:{value:e.maximumSpeed},on:{__r:function(t){e.maximumSpeed=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.maximumSpeed,expression:"maximumSpeed"}],staticClass:"min-solider",staticStyle:{width:"34%"},attrs:{min:"0.0",max:"30.0",step:"1",type:"number"},domProps:{value:e.maximumSpeed},on:{input:function(t){t.target.composing||(e.maximumSpeed=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section particle"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.startScale))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.startScale,expression:"startScale"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"0.0",max:"10.0",step:"1",type:"range"},domProps:{value:e.startScale},on:{__r:function(t){e.startScale=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.startScale,expression:"startScale"}],staticClass:"min-solider",staticStyle:{width:"34%"},attrs:{min:"0.0",max:"10.0",step:"1",type:"number"},domProps:{value:e.startScale},on:{input:function(t){t.target.composing||(e.startScale=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section particle"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.endScale))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.endScale,expression:"endScale"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"0.0",max:"10.0",step:"1",type:"range"},domProps:{value:e.endScale},on:{__r:function(t){e.endScale=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.endScale,expression:"endScale"}],staticClass:"min-solider",staticStyle:{width:"34%"},attrs:{min:"0.0",max:"10.0",step:"1",type:"number"},domProps:{value:e.endScale},on:{input:function(t){t.target.composing||(e.endScale=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section particle"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.gravity))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.gravity,expression:"gravity"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"-10.0",max:"10.0",step:"1",type:"range"},domProps:{value:e.gravity},on:{__r:function(t){e.gravity=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.gravity,expression:"gravity"}],staticClass:"min-solider",staticStyle:{width:"34%"},attrs:{min:"-10.0",max:"10.0",step:"1",type:"number"},domProps:{value:e.gravity},on:{input:function(t){t.target.composing||(e.gravity=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.LaunchType))]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.particleSystemType,expression:"particleSystemType"}],staticClass:"sm-select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.particleSystemType=t.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"圆形放射"}},[e._v(e._s(e.Resource.CircularRadiation))]),e._v(" "),i("option",{attrs:{value:"球体放射"}},[e._v(e._s(e.Resource.SpheroidRadiation))]),e._v(" "),i("option",{attrs:{value:"圆锥体放射"}},[e._v(e._s(e.Resource.ConicalRadiation))]),e._v(" "),i("option",{attrs:{value:"盒状放射"}},[e._v(e._s(e.Resource.BoxedRadiation))])])])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.FountainShow,expression:"FountainShow"}],staticClass:"ParticleSystem"},[i("div",{staticClass:"sm-function-module-sub-section particle"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.emissionRate))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.emissionRate,expression:"emissionRate"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"0.0",max:"1000.0",step:"1",type:"range"},domProps:{value:e.emissionRate},on:{__r:function(t){e.emissionRate=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.emissionRate,expression:"emissionRate"}],staticClass:"min-solider",staticStyle:{width:"34%"},attrs:{min:"0.0",max:"1000.0",step:"1",type:"number"},domProps:{value:e.emissionRate},on:{input:function(t){t.target.composing||(e.emissionRate=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section particle"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.particleSize))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.particleSize,expression:"particleSize"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"0",max:"60.0",step:"0.1",type:"range"},domProps:{value:e.particleSize},on:{__r:function(t){e.particleSize=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.particleSize,expression:"particleSize"}],staticClass:"min-solider",staticStyle:{width:"34%"},attrs:{min:"0",max:"60.0",step:"0.1",type:"number"},domProps:{value:e.particleSize},on:{input:function(t){t.target.composing||(e.particleSize=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section particle"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.minimumParticleLife))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.minimumParticleLife,expression:"minimumParticleLife"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"0.1",max:"30.0",step:"1",type:"range"},domProps:{value:e.minimumParticleLife},on:{__r:function(t){e.minimumParticleLife=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.minimumParticleLife,expression:"minimumParticleLife"}],staticClass:"min-solider",staticStyle:{width:"34%"},attrs:{min:"0.1",max:"30.0",step:"1",type:"number"},domProps:{value:e.minimumParticleLife},on:{input:function(t){t.target.composing||(e.minimumParticleLife=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section particle"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.maximumParticleLife))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.maximumParticleLife,expression:"maximumParticleLife"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"0.1",max:"30.0",step:"1",type:"range"},domProps:{value:e.maximumParticleLife},on:{__r:function(t){e.maximumParticleLife=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.maximumParticleLife,expression:"maximumParticleLife"}],staticClass:"min-solider",staticStyle:{width:"34%"},attrs:{min:"0.1",max:"30.0",step:"1",type:"number"},domProps:{value:e.maximumParticleLife},on:{input:function(t){t.target.composing||(e.maximumParticleLife=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section particle"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.minimumSpeed))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.minimumSpeed,expression:"minimumSpeed"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"0.0",max:"30.0",step:"1",type:"range"},domProps:{value:e.minimumSpeed},on:{__r:function(t){e.minimumSpeed=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.minimumSpeed,expression:"minimumSpeed"}],staticClass:"min-solider",staticStyle:{width:"34%"},attrs:{min:"0.0",max:"30.0",step:"1",type:"number"},domProps:{value:e.minimumSpeed},on:{input:function(t){t.target.composing||(e.minimumSpeed=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section particle"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.maximumSpeed))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.maximumSpeed,expression:"maximumSpeed"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"0.0",max:"30.0",step:"1",type:"range"},domProps:{value:e.maximumSpeed},on:{__r:function(t){e.maximumSpeed=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.maximumSpeed,expression:"maximumSpeed"}],staticClass:"min-solider",staticStyle:{width:"34%"},attrs:{min:"0.0",max:"30.0",step:"1",type:"number"},domProps:{value:e.maximumSpeed},on:{input:function(t){t.target.composing||(e.maximumSpeed=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section particle"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.startScale))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.startScale,expression:"startScale"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"0.0",max:"10.0",step:"1",type:"range"},domProps:{value:e.startScale},on:{__r:function(t){e.startScale=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.startScale,expression:"startScale"}],staticClass:"min-solider",staticStyle:{width:"34%"},attrs:{min:"0.0",max:"10.0",step:"1",type:"number"},domProps:{value:e.startScale},on:{input:function(t){t.target.composing||(e.startScale=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section particle"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.endScale))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.endScale,expression:"endScale"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"0.0",max:"10.0",step:"1",type:"range"},domProps:{value:e.endScale},on:{__r:function(t){e.endScale=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.endScale,expression:"endScale"}],staticClass:"min-solider",staticStyle:{width:"34%"},attrs:{min:"0.0",max:"10.0",step:"1",type:"number"},domProps:{value:e.endScale},on:{input:function(t){t.target.composing||(e.endScale=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section particle"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.gravity))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.gravity,expression:"gravity"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"-10.0",max:"10.0",step:"1",type:"range"},domProps:{value:e.gravity},on:{__r:function(t){e.gravity=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.gravity,expression:"gravity"}],staticClass:"min-solider",staticStyle:{width:"34%"},attrs:{min:"-10.0",max:"10.0",step:"1",type:"number"},domProps:{value:e.gravity},on:{input:function(t){t.target.composing||(e.gravity=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section particle"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.LaunchType))]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.particleSystemType,expression:"particleSystemType"}],staticClass:"sm-select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.particleSystemType=t.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"圆形放射"}},[e._v(e._s(e.Resource.CircularRadiation))]),e._v(" "),i("option",{attrs:{value:"球体放射"}},[e._v(e._s(e.Resource.SpheroidRadiation))]),e._v(" "),i("option",{attrs:{value:"圆锥体放射"}},[e._v(e._s(e.Resource.ConicalRadiation))]),e._v(" "),i("option",{attrs:{value:"盒状放射"}},[e._v(e._s(e.Resource.BoxedRadiation))])])])]),e._v(" "),i("div",{staticClass:"boxchild"},[i("button",{staticClass:"tbtn tbn1",attrs:{type:"button"},on:{click:e.addParticleSystem}},[e._v(e._s(e.Resource.Add))]),e._v(" "),i("button",{staticClass:"tbtn right",attrs:{type:"button"},on:{click:e.clearParticleSystemSource}},[e._v(e._s(e.Resource.clear))])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"minbox",attrs:{id:"pointLight"}},[t("span",{staticClass:"iconfont iconICON_huoyan"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"minbox",attrs:{id:"spotLight"}},[t("span",{staticClass:"iconfont iconICON_penquan"})])}]};var li=i("VU/8")(ni,ri,!1,function(e){i("lUyW")},"data-v-155b5f12",null).exports,ci=void 0,di=void 0,ui={name:"sceneOtherOptions",data:function(){return{sharedState:store.state,isDestroyFlag:!0,viewMode:"3D",multiViewport:"NONE",openSceneFlood:!1,threshold:.6,bloomIntensity:2,useRoller:!1,useModelRoller:!1,lrtbRoller:"lrRoller",lrRoller:"leftRoller",tbRoller:"topRoller",scratchSwipeRegion:new Cesium.BoundingRectangle,scratchModelSwipeRegion:new Cesium.BoundingRectangle,tRMode:4,lrMode:1,rrMode:2,bRMode:8,modelRollerShutterConfig:{startX:.33,startY:.33,endX:.66,endY:.66,index:.66,mode:1}}},computed:{otherOptions:function(){return this.sharedState.sceneAtttribute[4]},SceneAtttributeShow:function(){return this.sharedState.toolBar[3]}},beforeDestroy:function(){},mounted:function(){this.SceneAtttributeShow&&this.otherOptions&&this.init()},methods:{init:function(){if(!ci){var e=document.body.clientWidth,t=document.body.clientHeight;if(ci={splitDirection:new Cesium.Cartesian2(Cesium.ImagerySplitDirection.RIGHT,Cesium.ImagerySplitDirection.NONE),verticalSplitPosition:e/2,horizontalSplitPosition:t/2,latestSplitDirection:null,imageryLayers:[]},!document.getElementById("vertical-slider-left")){var i=document.getElementById("cesiumContainer"),s=document.createElement("div"),a=document.createElement("div"),o=document.createElement("div"),n=document.createElement("div");s.id="verticalSlider",a.id="horizontalSlider",o.id="vertical-slider-left",n.id="horizontal-slider-top",s.style.display="none",a.style.display="none",o.style.display="none",n.style.display="none",i.appendChild(s),i.appendChild(a),i.appendChild(o),i.appendChild(n)}this.setImageRollerShutterSplit(),this.bindImagerySliderEvt(),this.setModelRollerShutterSplit(viewer.scene,this.modelRollerShutterConfig),this.bindModelSliderEvt(viewer.scene,this.modelRollerShutterConfig)}},setImageRollerShutterSplit:function(){var e=null;ci.splitDirection.equals(new Cesium.Cartesian2(Cesium.ImagerySplitDirection.LEFT,Cesium.ImagerySplitDirection.NONE))||ci.splitDirection.equals(new Cesium.Cartesian2(Cesium.ImagerySplitDirection.RIGHT,Cesium.ImagerySplitDirection.NONE))?e=ci.verticalSplitPosition:(ci.splitDirection.equals(new Cesium.Cartesian2(Cesium.ImagerySplitDirection.NONE,Cesium.ImagerySplitDirection.TOP))||ci.splitDirection.equals(new Cesium.Cartesian2(Cesium.ImagerySplitDirection.NONE,Cesium.ImagerySplitDirection.BOTTOM)))&&(e=ci.horizontalSplitPosition);var t=!0,i=!1,s=void 0;try{for(var a,o=ze()(ci.imageryLayers);!(t=(a=o.next()).done);t=!0){a.value.splitDirection=ci.splitDirection}}catch(e){i=!0,s=e}finally{try{!t&&o.return&&o.return()}finally{if(i)throw s}}e&&(ci.splitDirection.equals(new Cesium.Cartesian2(Cesium.ImagerySplitDirection.LEFT,Cesium.ImagerySplitDirection.NONE))||ci.splitDirection.equals(new Cesium.Cartesian2(Cesium.ImagerySplitDirection.RIGHT,Cesium.ImagerySplitDirection.NONE))?viewer.scene.imagerySplitPosition.x=e/document.body.clientWidth:(ci.splitDirection.equals(new Cesium.Cartesian2(Cesium.ImagerySplitDirection.NONE,Cesium.ImagerySplitDirection.TOP))||ci.splitDirection.equals(new Cesium.Cartesian2(Cesium.ImagerySplitDirection.NONE,Cesium.ImagerySplitDirection.BOTTOM)))&&(viewer.scene.imagerySplitPosition.y=e/document.body.clientHeight))},setImageryRollerMode:function(){var e=viewer.imageryLayers;if(this.useRoller)for(var t=0;t<e.length;t++){var i=e.get(t);switch(ci.splitDirection){case Cesium.SplitDirection.LEFT:i.splitDirection=new Cesium.Cartesian2(Cesium.ImagerySplitDirection.RIGHT,Cesium.ImagerySplitDirection.NONE);break;case Cesium.SplitDirection.RIGHT:i.splitDirection=new Cesium.Cartesian2(Cesium.ImagerySplitDirection.LEFT,Cesium.ImagerySplitDirection.NONE);break;case Cesium.SplitDirection.TOP:i.splitDirection=new Cesium.Cartesian2(Cesium.ImagerySplitDirection.NONE,Cesium.ImagerySplitDirection.BOTTOM);break;case Cesium.SplitDirection.BOTTOM:i.splitDirection=new Cesium.Cartesian2(Cesium.ImagerySplitDirection.NONE,Cesium.ImagerySplitDirection.TOP);break;default:i.splitDirection=new Cesium.Cartesian2(Cesium.ImagerySplitDirection.NONE,Cesium.ImagerySplitDirection.NONE)}}else for(var s=0;s<e._layers.length;s++){e.get(s).splitDirection=new Cesium.Cartesian2(Cesium.ImagerySplitDirection.NONE,Cesium.ImagerySplitDirection.NONE)}},bindImagerySliderEvt:function(){var e=document.getElementById("verticalSlider"),t=document.getElementById("horizontalSlider");e.addEventListener("mousedown",a,!1),t.addEventListener("mousedown",a,!1);var i=this,s=document.body.clientHeight;function a(e){document.addEventListener("mousemove",o,!1)}function o(a){if(a.preventDefault?a.preventDefault():a.returnValue=!1,ci.splitDirection.equals(new Cesium.Cartesian2(Cesium.ImagerySplitDirection.LEFT,Cesium.ImagerySplitDirection.NONE))||ci.splitDirection.equals(new Cesium.Cartesian2(Cesium.ImagerySplitDirection.RIGHT,Cesium.ImagerySplitDirection.NONE)))e.style.left=a.clientX+"px",ci.verticalSplitPosition=a.clientX;else if(ci.splitDirection.equals(new Cesium.Cartesian2(Cesium.ImagerySplitDirection.NONE,Cesium.ImagerySplitDirection.TOP))||ci.splitDirection.equals(new Cesium.Cartesian2(Cesium.ImagerySplitDirection.NONE,Cesium.ImagerySplitDirection.BOTTOM))){var o=a.clientY;o<0?o=0:o>s&&(o=s-document.getElementById("horizontalSlider").style.height),t.style.top=o+"px",ci.horizontalSplitPosition=s-o}i.setImageRollerShutterSplit()}document.addEventListener("mouseup",function(e){document.removeEventListener("mousemove",o,!1)},!1)},bindModelSliderEvt:function(e,t){var i=this,s=document.getElementById("vertical-slider-left"),a=document.getElementById("horizontal-slider-top");function o(e,i){t.index=i,document.addEventListener("mousemove",n,!1)}function n(o){switch(o.preventDefault?o.preventDefault():o.returnValue=!1,t.index){case 1:s.style.left=o.clientX+"px",t.startX=o.clientX/document.body.clientWidth;break;case 2:a.style.top=o.clientY+"px",t.startY=o.clientY/document.body.clientHeight}0==i.useRoller&&i.useModelRoller&&i.setModelRollerShutterSplit(e,t)}s.addEventListener("mousedown",function(e){o(e,1)},!1),a.onmousedown=function(e){o(e,2)},window.addEventListener("resize",function(){var e=document.body.clientWidth,i=document.body.clientHeight;s.style.left=t.startX*e+"px",a.style.top=t.startY*i+"px"}),document.addEventListener("mouseup",function(e){document.removeEventListener("mousemove",n,!1)},!1)},updateLrImageryRoller:function(){switch(this.lrRoller){case"leftRoller":ci.splitDirection=new Cesium.Cartesian2(Cesium.ImagerySplitDirection.RIGHT,Cesium.ImagerySplitDirection.NONE);break;case"rightRoller":ci.splitDirection=new Cesium.Cartesian2(Cesium.ImagerySplitDirection.LEFT,Cesium.ImagerySplitDirection.NONE)}this.setImageryRollerMode(),this.setImageRollerShutterSplit()},updateImageryTbRoller:function(){switch(this.tbRoller){case"topRoller":ci.splitDirection=new Cesium.Cartesian2(Cesium.ImagerySplitDirection.NONE,Cesium.ImagerySplitDirection.BOTTOM);break;case"bomRoller":ci.splitDirection=new Cesium.Cartesian2(Cesium.ImagerySplitDirection.NONE,Cesium.ImagerySplitDirection.TOP)}this.setImageryRollerMode(),this.setImageRollerShutterSplit()},updateModelTbRoller:function(){switch(this.tbRoller){case"topRoller":this.modelRollerShutterConfig.mode=this.bRMode;break;case"bomRoller":this.modelRollerShutterConfig.mode=this.tRMode}this.setModelRollerShutterSplit(viewer.scene,this.modelRollerShutterConfig)},updateModelrRoller:function(){switch(this.lrRoller){case"leftRoller":this.modelRollerShutterConfig.mode=this.lrMode;break;case"rightRoller":this.modelRollerShutterConfig.mode=this.rrMode}this.setModelRollerShutterSplit(viewer.scene,this.modelRollerShutterConfig)},updateCameraPosition:function(e){if(e)for(var t=viewer.imageryLayers._layers,i=0;i<t.length;i++)viewer.flyTo(t[i]);else for(var s=viewer.scene.layers.layerQueue,a=0;a<s.length;a++)viewer.flyTo(s[a])},enableSlider:function(e){var t=document.getElementById("vertical-slider-left"),i=document.getElementById("horizontal-slider-top");t.style.display="none",i.style.display="none",1&e&&(t.style.display="block"),4&e&&(i.style.display="block")},setModelRollerShutterSplit:function(e,t){var i=t.startX,s=t.startY,a=this.scratchModelSwipeRegion;switch(t.mode){case 1:Cesium.BoundingRectangle.unpack([i,0,1,1],0,a);break;case 2:Cesium.BoundingRectangle.unpack([0,0,i,1],0,a);break;case 4:Cesium.BoundingRectangle.unpack([0,0,1,s],0,a);break;case 8:Cesium.BoundingRectangle.unpack([0,s,1,1],0,a);break;default:Cesium.BoundingRectangle.unpack([0,0,1,1],0,a)}for(var o=e.layers.layerQueue,n=0,r=o.length;n<r;n++)this.useModelRoller?(o[n].swipeEnabled=!0,o[n].swipeRegion=a):o[n].swipeEnabled=!1},imageryState:function(){if(this.useRoller){var e=document.getElementById("verticalSlider"),t=document.getElementById("horizontalSlider");"lrRoller"==this.lrtbRoller?(e.style.display="block",t.style.display="none"):"tbRoller"==this.lrtbRoller&&(e.style.display="none",t.style.display="block")}},modelState:function(){if(this.useModelRoller){var e=document.getElementById("vertical-slider-left"),t=document.getElementById("horizontal-slider-top");"lrRoller"==this.lrtbRoller?(e.style.display="block",t.style.display="none"):"tbRoller"==this.lrtbRoller&&(e.style.display="none",t.style.display="block")}},ModelRoller:function(e){e?"lrRoller"==this.lrtbRoller?(this.modelRollerShutterConfig.mode=1,this.enableSlider(1)):"tbRoller"==this.lrtbRoller&&(this.modelRollerShutterConfig.mode=4,this.enableSlider(4)):this.useRoller&&0==e?(this.enableSlider(0),this.imageryState()):0==this.useRoller&&0==e&&this.enableSlider(0),this.setModelRollerShutterSplit(viewer.scene,this.modelRollerShutterConfig)},imageryRoller:function(e){var t=document.getElementById("verticalSlider"),i=document.getElementById("horizontalSlider");if(e){switch(di=viewer.imageryLayers.addImageryProvider(new Cesium.SingleTileImageryProvider({url:"@/../static/images/BlackMarble_2012.jpg"})),this.updateCameraPosition(this.useRoller),ci.imageryLayers=[di],this.lrtbRoller){case"lrRoller":t.style.display="block",i.style.display="none",this.updateLrImageryRoller();break;case"tbRoller":t.style.display="none",i.style.display="block",this.updateImageryTbRoller()}this.setImageryRollerMode(),this.setImageRollerShutterSplit()}else void 0!==di&&(di.alpha=0),ci.splitDirection=new Cesium.Cartesian2(Cesium.ImagerySplitDirection.NONE,Cesium.ImagerySplitDirection.NONE),t.style.display="none",i.style.display="none",this.setImageryRollerMode(),this.setImageRollerShutterSplit(),this.modelState()}},watch:{otherOptions:function(e){e&&this.init()},viewMode:function(e){"2D"===e?viewer.scene.mode=Cesium.SceneMode.SCENE2D:"3D"===e?viewer.scene.mode=Cesium.SceneMode.SCENE3D:"2.5D"===e&&(viewer.scene.mode=Cesium.SceneMode.COLUMBUS_VIEW)},multiViewport:function(e){scene.multiViewportMode=Cesium.MultiViewportMode[e]},openSceneFlood:function(e){viewer.scene.bloomEffect.show=e,viewer.scene.hdrEnabled=e,viewer.scene.toneMappingEnabled=e,viewer.scene.bloomEffect.threshold=Number(this.threshold),viewer.scene.bloomEffect.bloomIntensity=Number(this.bloomIntensity)},threshold:function(e){viewer.scene.bloomEffect.threshold=Number(e)},bloomIntensity:function(e){viewer.scene.bloomEffect.bloomIntensity=Number(e)},useRoller:function(e){var t=document.getElementById("verticalSlider"),i=document.getElementById("horizontalSlider");if(e){switch(this.useModelRoller=!1,this.ModelRoller(!1),di=viewer.imageryLayers.addImageryProvider(new Cesium.SingleTileImageryProvider({url:"@/../static/images/BlackMarble_2012.jpg"})),this.updateCameraPosition(this.useRoller),ci.imageryLayers=[di],this.lrtbRoller){case"lrRoller":t.style.display="block",i.style.display="none",this.updateLrImageryRoller();break;case"tbRoller":t.style.display="none",i.style.display="block",this.updateImageryTbRoller()}this.setImageryRollerMode(),this.setImageRollerShutterSplit()}else 0==this.useModelRoller&&0==e&&(di.alpha=0,ci.splitDirection=new Cesium.Cartesian2(Cesium.ImagerySplitDirection.NONE,Cesium.ImagerySplitDirection.NONE),t.style.display="none",i.style.display="none",this.setImageryRollerMode(),this.setImageRollerShutterSplit(),this.modelState())},useModelRoller:function(e){e?(this.useRoller=!1,this.updateCameraPosition(this.useRoller),this.imageryRoller(this.useRoller),"lrRoller"==this.lrtbRoller?(this.modelRollerShutterConfig.mode=1,this.enableSlider(1)):"tbRoller"==this.lrtbRoller&&(this.modelRollerShutterConfig.mode=4,this.enableSlider(4))):this.useRoller&&0==e?(this.enableSlider(0),this.imageryState()):0==this.useRoller&&0==e&&this.enableSlider(0),this.setModelRollerShutterSplit(viewer.scene,this.modelRollerShutterConfig)},lrtbRoller:function(e){var t=document.getElementById("verticalSlider"),i=document.getElementById("horizontalSlider");switch(e){case"lrRoller":this.useRoller&&0==this.useModelRoller?(t.style.display="block",i.style.display="none",this.updateLrImageryRoller()):this.useModelRoller&&0==this.useRoller&&(this.enableSlider(1),this.modelRollerShutterConfig.mode=this.lrMode,this.setModelRollerShutterSplit(viewer.scene,this.modelRollerShutterConfig));break;case"tbRoller":this.useRoller&&0==this.useModelRoller?(t.style.display="none",i.style.display="block",this.updateImageryTbRoller()):this.useModelRoller&&0==this.useRoller&&(this.enableSlider(4),this.modelRollerShutterConfig.mode=this.bRMode,this.setModelRollerShutterSplit(viewer.scene,this.modelRollerShutterConfig))}},lrRoller:function(){this.useRoller&&0==this.useModelRoller?this.updateLrImageryRoller():0==this.useRoller&&this.useModelRoller&&this.updateModelrRoller()},tbRoller:function(){this.useRoller&&0==this.useModelRoller?this.updateImageryTbRoller():0==this.useRoller&&this.useModelRoller&&this.updateModelTbRoller()}}},mi={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.otherOptions,expression:"otherOptions"}],staticClass:"sm-function-module-content"},[i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.viewMode))]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.viewMode,expression:"viewMode"}],staticClass:"sm-select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.viewMode=t.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"3D"}},[e._v("3D")]),e._v(" "),i("option",{attrs:{value:"2.5D"}},[e._v("2.5D")]),e._v(" "),i("option",{attrs:{value:"2D"}},[e._v("2D")])])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.multiViewport))]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.multiViewport,expression:"multiViewport"}],staticClass:"sm-select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.multiViewport=t.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"NONE"}},[e._v(e._s(e.Resource.onePort))]),e._v(" "),i("option",{attrs:{value:"HORIZONTAL"}},[e._v(e._s(e.Resource.horizontalSnap))]),e._v(" "),i("option",{attrs:{value:"VERTICAL"}},[e._v(e._s(e.Resource.verticalSnap))]),e._v(" "),i("option",{attrs:{value:"TRIPLE"}},[e._v(e._s(e.Resource.tripeSnap))]),e._v(" "),i("option",{attrs:{value:"QUAD"}},[e._v(e._s(e.Resource.quadSnap))])])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.sceneFlood))]),e._v(" "),i("br"),e._v(" "),i("div",{staticClass:"flexbox"},[i("label",{staticClass:"sm-viewshed-label-right"},[e._v(e._s(e.Resource.openSceneFlood))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.openSceneFlood,expression:"openSceneFlood"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.openSceneFlood)?e._i(e.openSceneFlood,null)>-1:e.openSceneFlood},on:{change:function(t){var i=e.openSceneFlood,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.openSceneFlood=i.concat([null])):o>-1&&(e.openSceneFlood=i.slice(0,o).concat(i.slice(o+1)))}else e.openSceneFlood=a}}}),e._v(" "),i("div",{staticStyle:{width:"45%"}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.threshold))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.threshold,expression:"threshold"}],staticClass:"sm-input-long",staticStyle:{width:"66%"},attrs:{min:"0",max:"1",step:"0.01",type:"number"},domProps:{value:e.threshold},on:{input:function(t){t.target.composing||(e.threshold=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.bloomIntensity))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.bloomIntensity,expression:"bloomIntensity"}],staticClass:"sm-input-long",staticStyle:{width:"66%"},attrs:{min:"0",max:"10",step:"0.5",type:"number"},domProps:{value:e.bloomIntensity},on:{input:function(t){t.target.composing||(e.bloomIntensity=t.target.value)}}})])]),e._v(" "),i("div",[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.split))])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section flexbox choose",staticStyle:{width:"41.5%"}},[i("label",{staticClass:"sm-viewshed-label-right"},[i("span",{staticStyle:{position:"relative",left:"4px"}},[e._v(e._s(e.Resource.useRoller))])]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.useRoller,expression:"useRoller"}],staticStyle:{position:"relative",bottom:"-2px",right:"1px"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.useRoller)?e._i(e.useRoller,null)>-1:e.useRoller},on:{change:function(t){var i=e.useRoller,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.useRoller=i.concat([null])):o>-1&&(e.useRoller=i.slice(0,o).concat(i.slice(o+1)))}else e.useRoller=a}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section flexbox choose",staticStyle:{width:"41%",position:"absolute",right:"2%",bottom:"22.5%"}},[i("label",{staticClass:"sm-viewshed-label-right"},[e._v(e._s(e.Resource.modelRoller))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.useModelRoller,expression:"useModelRoller"}],staticStyle:{position:"absolute",right:"14%",bottom:"10px"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.useModelRoller)?e._i(e.useModelRoller,null)>-1:e.useModelRoller},on:{change:function(t){var i=e.useModelRoller,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.useModelRoller=i.concat([null])):o>-1&&(e.useModelRoller=i.slice(0,o).concat(i.slice(o+1)))}else e.useModelRoller=a}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section flexbox choose"},[i("label",{staticClass:"radio",attrs:{for:"lrRoller"}},[i("span",{staticStyle:{position:"relative",left:"-21px"}},[e._v(e._s(e.Resource.lrRoller))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.lrtbRoller,expression:"lrtbRoller"}],attrs:{type:"radio",name:"lrtbRoller",id:"lrRoller",value:"lrRoller"},domProps:{checked:e._q(e.lrtbRoller,"lrRoller")},on:{change:function(t){e.lrtbRoller="lrRoller"}}}),e._v(" "),i("i",{staticStyle:{position:"absolute",left:"99px"}})]),e._v(" "),i("label",{staticClass:"radio",attrs:{for:"tbRoller"}},[i("span",{staticStyle:{position:"relative",left:"-68px"}},[e._v(e._s(e.Resource.tbRoller))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.lrtbRoller,expression:"lrtbRoller"}],attrs:{type:"radio",name:"lrtbRoller",id:"tbRoller",value:"tbRoller"},domProps:{checked:e._q(e.lrtbRoller,"tbRoller")},on:{change:function(t){e.lrtbRoller="tbRoller"}}}),e._v(" "),i("i",{staticStyle:{position:"absolute",left:"59px"}})])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"lrRoller"==e.lrtbRoller,expression:"lrtbRoller == 'lrRoller'"}],staticClass:"sm-function-module-sub-section flexbox choose"},[i("label",{staticClass:"radio",attrs:{for:"leftRoller"}},[i("span",{staticStyle:{position:"relative",left:"-21px"}},[e._v(e._s(e.Resource.leftRoller))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.lrRoller,expression:"lrRoller"}],attrs:{type:"radio",name:"lrRoller",id:"leftRoller",value:"leftRoller"},domProps:{checked:e._q(e.lrRoller,"leftRoller")},on:{change:function(t){e.lrRoller="leftRoller"}}}),e._v(" "),i("i",{staticStyle:{position:"absolute",left:"99px"}})]),e._v(" "),i("label",{staticClass:"radio",attrs:{for:"rightRoller"}},[i("span",{staticStyle:{position:"relative",left:"-67px"}},[e._v(e._s(e.Resource.rightRoller))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.lrRoller,expression:"lrRoller"}],attrs:{type:"radio",name:"lrRoller",id:"rightRoller",value:"rightRoller"},domProps:{checked:e._q(e.lrRoller,"rightRoller")},on:{change:function(t){e.lrRoller="rightRoller"}}}),e._v(" "),i("i",{staticStyle:{position:"absolute",left:"59px"}})])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"tbRoller"==e.lrtbRoller,expression:"lrtbRoller == 'tbRoller'"}],staticClass:"sm-function-module-sub-section flexbox choose"},[i("label",{staticClass:"radio",attrs:{for:"topRoller"}},[i("span",{staticStyle:{position:"relative",left:"-21px"}},[e._v(e._s(e.Resource.topRoller))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.tbRoller,expression:"tbRoller"}],attrs:{type:"radio",name:"tbRoller",id:"topRoller",value:"topRoller"},domProps:{checked:e._q(e.tbRoller,"topRoller")},on:{change:function(t){e.tbRoller="topRoller"}}}),e._v(" "),i("i",{staticStyle:{position:"absolute",left:"99px"}})]),e._v(" "),i("label",{staticClass:"radio",staticStyle:{"margin-left":"38px"}},[i("span",{staticStyle:{position:"relative",left:"-68px"}},[e._v(e._s(e.Resource.bottomRoller))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.tbRoller,expression:"tbRoller"}],attrs:{type:"radio",name:"tbRoller",id:"bomRoller",value:"bomRoller"},domProps:{checked:e._q(e.tbRoller,"bomRoller")},on:{change:function(t){e.tbRoller="bomRoller"}}}),e._v(" "),i("i",{staticStyle:{position:"absolute",left:"58px"}})])])])},staticRenderFns:[]};var pi=i("VU/8")(ui,mi,!1,function(e){i("QS+0")},null,null).exports,hi={name:"Sm3dClipBox",data:function(){return{sharedState:store.state,screenSpaceEventHandler:null,layers:null,clipLength:10,clipWidth:10,clipHeight:10,clipRotate:0,ClipModels:[{id:"0",name:Resource.CutInsideBoxNOFrame},{id:"1",name:Resource.CutOutBoxNOFrame},{id:"2",name:Resource.CutInsideBoxFrame},{id:"3",name:Resource.CutOutBoxFrame}],ClipModelSelected:null,clipModeOption:null,tooltip:null,boxEntity:null,hasClipLine:!1,moveY:0,moveX:0,moveZ:0}},computed:{clipBox:function(){return this.sharedState.clip[0]}},methods:{toggleVisibility:function(){this.show=!this.show},BoxClip:function(){var e=this;this.moveX=0,this.moveY=0,this.moveZ=0,viewer.entities.removeAll(),this.setAllLayersClipColor(),this.screenSpaceEventHandler=new Cesium.ScreenSpaceEventHandler(scene.canvas),this.screenSpaceEventHandler.setInputAction(function(t){e.tooltip.showAt(t.endPosition,"<p>"+Resource.ClickModelAddBox+"</p>")},Cesium.ScreenSpaceEventType.MOUSE_MOVE),this.screenSpaceEventHandler.setInputAction(function(t){var i=Number(e.clipLength),s=Number(e.clipWidth),a=Number(e.clipHeight);if(!(a<=0||s<=0||i<=0)){var o=parseFloat(e.clipRotate),n=e.clipModeOption,r=scene.pickPosition(t.position),l={dimensions:new Cesium.Cartesian3(i,s,a),position:r,clipMode:n,heading:o},c=new Cesium.HeadingPitchRoll(o,0,0),d=Cesium.Transforms.headingPitchRollQuaternion(r,c);e.boxEntity=viewer.entities.add({box:{dimensions:new Cesium.Cartesian3(i,s,a),material:Cesium.Color.fromRandom({alpha:.2})},position:r,orientation:d}),e.setAllLayersClipOptions(l),e.tooltip.setVisible(!1),e.screenSpaceEventHandler.removeInputAction(Cesium.ScreenSpaceEventType.MOUSE_MOVE),e.screenSpaceEventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK)}},Cesium.ScreenSpaceEventType.LEFT_CLICK)},clearBoxClip:function(){if(this.boxEntity){this.screenSpaceEventHandler&&this.screenSpaceEventHandler.destroy(),this.tooltip.setVisible(!1),viewer.entities.removeAll(),this.boxEntity=null;var e=!0,t=!1,i=void 0;try{for(var s,a=ze()(this.layers);!(e=(s=a.next()).done);e=!0){s.value.clearCustomClipBox()}}catch(e){t=!0,i=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw i}}}},setAllLayersClipOptions:function(e){var t=!0,i=!1,s=void 0;try{for(var a,o=ze()(this.layers);!(t=(a=o.next()).done);t=!0){var n=a.value;this.hasClipLine?n.clipLineColor=new Cesium.Color(1,1,1,1):n.clipLineColor=new Cesium.Color(1,1,1,0),n.setCustomClipBox(e)}}catch(e){i=!0,s=e}finally{try{!t&&o.return&&o.return()}finally{if(i)throw s}}},setAllLayersClipColor:function(){for(var e=0,t=this.layers.length;e<t;e++)this.layers[e].selectEnabled=!1,this.layers[e].clipLineColor=new Cesium.Color(1,1,1,.5)},setClipBox:function(){var e={dimensions:this.boxEntity.box.dimensions.getValue(),position:this.boxEntity.position.getValue(0),clipMode:this.clipModeOption,heading:Cesium.Math.toRadians(parseFloat(this.clipRotate))};this.setAllLayersClipOptions(e)},init:function(){this.layers||(this.ClipModelSelected=this.ClipModels[0].id,this.clipModeOption="clip_behind_all_plane",this.layers=scene.layers.layerQueue,this.tooltip=createTooltip(document.body))}},mounted:function(){this.init()},watch:{clipLength:function(e){if(this.boxEntity){var t=this.boxEntity.box.dimensions.getValue(),i=Number(e);this.boxEntity.box.dimensions=new Cesium.Cartesian3(i,t.y,t.z),this.setClipBox()}},clipWidth:function(e){if(this.boxEntity){var t=this.boxEntity.box.dimensions.getValue(),i=Number(e);this.boxEntity.box.dimensions=new Cesium.Cartesian3(t.x,i,t.z),this.setClipBox()}},clipHeight:function(e){if(this.boxEntity){var t=this.boxEntity.box.dimensions.getValue(),i=Number(e);this.boxEntity.box.dimensions=new Cesium.Cartesian3(t.x,t.y,i),this.setClipBox()}},clipRotate:function(e){if(this.boxEntity){var t=this.boxEntity.position.getValue(0),i=Number(e),s=Cesium.Math.toRadians(i),a=new Cesium.HeadingPitchRoll(s,0,0),o=Cesium.Transforms.headingPitchRollQuaternion(t,a);this.boxEntity.orientation=o,this.setClipBox()}},ClipModelSelected:function(e){if(this.boxEntity){switch(e){case"0":this.hasClipLine=!0,this.clipModeOption="clip_behind_all_plane";break;case"1":this.hasClipLine=!0,this.clipModeOption="clip_behind_any_plane";break;case"2":this.hasClipLine=!1,this.clipModeOption="clip_behind_all_plane";break;case"3":this.hasClipLine=!1,this.clipModeOption="clip_behind_any_plane"}this.setClipBox()}}}},vi={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.clipBox?i("div",[i("div",{staticClass:"sm-function-module-content"},[i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.length))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.clipLength,expression:"clipLength"}],staticClass:"min-solider",staticStyle:{width:"63%"},attrs:{min:"0",step:"1",type:"range"},domProps:{value:e.clipLength},on:{__r:function(t){e.clipLength=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.clipLength,expression:"clipLength"}],staticClass:"min-solider",staticStyle:{width:"34%",height:"25px"},attrs:{min:"0",step:"1",type:"number"},domProps:{value:e.clipLength},on:{input:function(t){t.target.composing||(e.clipLength=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.width))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.clipWidth,expression:"clipWidth"}],staticClass:"min-solider",staticStyle:{width:"63%"},attrs:{min:"0",step:"1",type:"range"},domProps:{value:e.clipWidth},on:{__r:function(t){e.clipWidth=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.clipWidth,expression:"clipWidth"}],staticClass:"min-solider",staticStyle:{width:"34%",height:"25px"},attrs:{min:"0",step:"1",type:"number"},domProps:{value:e.clipWidth},on:{input:function(t){t.target.composing||(e.clipWidth=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.height))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.clipHeight,expression:"clipHeight"}],staticClass:"min-solider",staticStyle:{width:"63%"},attrs:{min:"0",step:"1",type:"range"},domProps:{value:e.clipHeight},on:{__r:function(t){e.clipHeight=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.clipHeight,expression:"clipHeight"}],staticClass:"min-solider",staticStyle:{width:"34%",height:"25px"},attrs:{min:"0",step:"1",type:"number"},domProps:{value:e.clipHeight},on:{input:function(t){t.target.composing||(e.clipHeight=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.rotate))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.clipRotate,expression:"clipRotate"}],staticClass:"min-solider",staticStyle:{width:"63%"},attrs:{max:"180",min:"-180",step:"1",type:"range"},domProps:{value:e.clipRotate},on:{__r:function(t){e.clipRotate=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.clipRotate,expression:"clipRotate"}],staticClass:"min-solider",staticStyle:{width:"34%",height:"25px"},attrs:{max:"180",min:"-180",step:"1",type:"number"},domProps:{value:e.clipRotate},on:{input:function(t){t.target.composing||(e.clipRotate=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"sm-function-module-sub-section-caption"},[e._v(e._s(e.Resource.ClipModel))]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.ClipModelSelected,expression:"ClipModelSelected"}],staticClass:"sm-select sm-select-s",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.ClipModelSelected=t.target.multiple?i:i[0]}}},e._l(e.ClipModels,function(t){return i("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.name))])}),0)]),e._v(" "),i("div",{staticClass:"boxchild"},[i("button",{staticClass:"tbtn tbn1",attrs:{type:"button"},on:{click:e.BoxClip}},[e._v(e._s(e.Resource.clip))]),e._v(" "),i("button",{staticClass:"tbtn",staticStyle:{"margin-right":"0px"},attrs:{type:"button"},on:{click:e.clearBoxClip}},[e._v(e._s(e.Resource.clear))])])])]):e._e()},staticRenderFns:[]},gi=i("VU/8")(hi,vi,!1,null,null,null).exports,yi=void 0,fi=void 0,Ci=void 0,wi=void 0,bi={name:"Sm3dClipCross",data:function(){return{sharedState:store.state,clipWidth:5,clipHeight:5,heading:0,pitch:0,roll:0,extrude:1,startClip:!1,hasClipped:!1,boxPosition:null,position:null,isDestroyFlag:!0}},computed:{clipCross:function(){return this.sharedState.clip[2]},clipShow:function(){return this.sharedState.toolBar[4]}},methods:{toggleVisibility:function(){this.show=!this.show},start:function(){var e=this;this.isDestroyFlag=!1;var t=!0,i=!1,s=void 0;try{for(var a,o=ze()(wi);!(t=(a=o.next()).done);t=!0){a.value.selectEnabled=!1}}catch(e){i=!0,s=e}finally{try{!t&&o.return&&o.return()}finally{if(i)throw s}}this.boxPosition=Cesium.Cartesian3.fromDegrees(0,0,0),fi=new Cesium.Cartesian3(this.clipWidth,this.clipHeight,this.extrude),Ci=viewer.entities.add({id:"cross-clip-identify-box",position:this.boxPosition,show:!1,box:{dimensions:new Cesium.Cartesian3(this.clipWidth,this.clipHeight,.1),fill:!1,outline:!0,outlineColor:Cesium.Color.AQUA,outlineWidth:5}}),yi.setInputAction(function(t){if(e.startClip){e.boxPosition=scene.pickPosition(t.endPosition);var i=e.boxPosition;if(!i)return;Ci.position=i;var s=new Cesium.HeadingPitchRoll(Cesium.Math.toRadians(e.heading),Cesium.Math.toRadians(e.pitch),Cesium.Math.toRadians(e.roll)),a=Cesium.Transforms.headingPitchRollQuaternion(i,s);Ci.orientation=a}},Cesium.ScreenSpaceEventType.MOUSE_MOVE),yi.setInputAction(function(t){if(e.startClip){if(e.position=scene.pickPosition(t.position),!e.position)return;e.updateClip(),e.startClip=!1,e.hasClipped=!0,Ci.show=!1}},Cesium.ScreenSpaceEventType.LEFT_CLICK)},startCross:function(){if(this.start(),viewer){var e=!0,t=!1,i=void 0;try{for(var s,a=ze()(wi);!(e=(s=a.next()).done);e=!0){s.value.selectEnabled=!1}}catch(e){t=!0,i=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw i}}this.startClip=!0,Ci.show=!0}},clearCross:function(){this.isDestroyFlag=!0,this.hasClipped=!1,Ci&&viewer.entities.removeById("cross-clip-identify-box");var e=!0,t=!1,i=void 0;try{for(var s,a=ze()(wi);!(e=(s=a.next()).done);e=!0){s.value.clearCustomClipBox()}}catch(e){t=!0,i=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw i}}},updateClip:function(){var e=!0,t=!1,i=void 0;try{for(var s,a=ze()(wi);!(e=(s=a.next()).done);e=!0){s.value.setCustomClipCross({position:this.position,dimensions:fi,heading:this.heading,pitch:this.pitch,roll:this.roll,extrudeDistance:Number(this.extrude)})}}catch(e){t=!0,i=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw i}}},init:function(){yi||(yi=new Cesium.ScreenSpaceEventHandler(scene.canvas),wi=viewer.scene.layers.layerQueue)}},beforeDestroy:function(){this.isDestroyFlag&&wi&&(yi.destroy(),wi=void 0,Ci=void 0,yi=void 0,fi=void 0)},mounted:function(){this.clipShow&&this.clipCross&&this.init()},watch:{clipCross:function(e){e&&this.init()},clipShow:function(e){e&&this.clipCross&&this.init()},clipWidth:function(e){this.clipWidth=Number(e);var t=Number(e);t<=0||!Ci||(Ci.box.dimensions=new Cesium.Cartesian3(this.clipWidth,this.clipHeight,.1),fi=new Cesium.Cartesian3(t,this.clipHeight,this.extrude),this.hasClipped&&this.updateClip())},clipHeight:function(e){this.clipHeight=Number(e);var t=Number(e);t<=0||!Ci||(Ci.box.dimensions=new Cesium.Cartesian3(this.clipWidth,t,.1),fi=new Cesium.Cartesian3(this.clipWidth,t,this.extrude),this.hasClipped&&this.updateClip())},pitch:function(e){if(this.pitch=Number(e),""!==e&&Ci){var t=Number(e),i=new Cesium.HeadingPitchRoll(Cesium.Math.toRadians(this.heading),Cesium.Math.toRadians(t),Cesium.Math.toRadians(this.roll)),s=Cesium.Transforms.headingPitchRollQuaternion(this.boxPosition,i);Ci.orientation=s,this.hasClipped&&this.updateClip()}},roll:function(e){if(this.roll=Number(e),""!==e&&Ci){var t=Number(e),i=new Cesium.HeadingPitchRoll(Cesium.Math.toRadians(this.heading),Cesium.Math.toRadians(this.pitch),Cesium.Math.toRadians(t)),s=Cesium.Transforms.headingPitchRollQuaternion(this.boxPosition,i);Ci.orientation=s,this.hasClipped&&this.updateClip()}},heading:function(e){if(this.heading=Number(e),""!==e&&Ci){var t=Number(e),i=new Cesium.HeadingPitchRoll(Cesium.Math.toRadians(t),Cesium.Math.toRadians(this.pitch),Cesium.Math.toRadians(this.roll)),s=Cesium.Transforms.headingPitchRollQuaternion(this.boxPosition,i);Ci.orientation=s,this.hasClipped&&this.updateClip()}},extrude:function(e){this.extrude=Number(e),Number(e)<=0||this.hasClipped&&this.updateClip()}}},Si={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.clipCross,expression:"clipCross"}]},[i("div",{staticClass:"sm-function-module-content"},[i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.ClipWidth))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box",staticStyle:{width:"65%"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.clipWidth,expression:"clipWidth"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"0",step:"1",type:"range"},domProps:{value:e.clipWidth},on:{__r:function(t){e.clipWidth=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.clipWidth,expression:"clipWidth"}],staticClass:"min-solider",staticStyle:{width:"34%",height:"25px","border-radius":"3px"},attrs:{min:"0",step:"1",type:"number"},domProps:{value:e.clipWidth},on:{input:function(t){t.target.composing||(e.clipWidth=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.ClipHeight))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box",staticStyle:{width:"65%"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.clipHeight,expression:"clipHeight"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"0",step:"1",type:"range"},domProps:{value:e.clipHeight},on:{__r:function(t){e.clipHeight=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.clipHeight,expression:"clipHeight"}],staticClass:"min-solider",staticStyle:{width:"34%",height:"25px","border-radius":"3px"},attrs:{min:"0",step:"1",type:"number"},domProps:{value:e.clipHeight},on:{input:function(t){t.target.composing||(e.clipHeight=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.Xrotation))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box",staticStyle:{width:"65%"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.pitch,expression:"pitch"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"0",max:"360",step:"1",type:"range"},domProps:{value:e.pitch},on:{__r:function(t){e.pitch=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.pitch,expression:"pitch"}],staticClass:"min-solider",staticStyle:{width:"34%",height:"25px","border-radius":"3px"},attrs:{min:"0",max:"360",step:"1",type:"number"},domProps:{value:e.pitch},on:{input:function(t){t.target.composing||(e.pitch=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.Yrotation))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box",staticStyle:{width:"65%"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.roll,expression:"roll"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{max:"360",min:"0",step:"1",type:"range"},domProps:{value:e.roll},on:{__r:function(t){e.roll=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.roll,expression:"roll"}],staticClass:"min-solider",staticStyle:{width:"34%",height:"25px","border-radius":"3px"},attrs:{max:"360",min:"0",step:"1",type:"number"},domProps:{value:e.roll},on:{input:function(t){t.target.composing||(e.roll=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.Zrotation))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box",staticStyle:{width:"65%"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.heading,expression:"heading"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{max:"360",min:"0",step:"1",type:"range"},domProps:{value:e.heading},on:{__r:function(t){e.heading=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.heading,expression:"heading"}],staticClass:"min-solider",staticStyle:{width:"34%",height:"25px","border-radius":"3px"},attrs:{max:"360",min:"0",step:"1",type:"number"},domProps:{value:e.heading},on:{input:function(t){t.target.composing||(e.heading=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.extrude))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box",staticStyle:{width:"65%"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.extrude,expression:"extrude"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"0",step:"1",type:"range"},domProps:{value:e.extrude},on:{__r:function(t){e.extrude=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.extrude,expression:"extrude"}],staticClass:"min-solider",staticStyle:{width:"34%",height:"25px","border-radius":"3px"},attrs:{min:"0",step:"1",type:"number"},domProps:{value:e.extrude},on:{input:function(t){t.target.composing||(e.extrude=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"boxchild"},[i("button",{staticClass:"tbtn tbn1",attrs:{type:"button"},on:{click:e.startCross}},[e._v("\n        "+e._s(e.Resource.clip)+"\n      ")]),e._v(" "),i("button",{staticClass:"tbtn",staticStyle:{"margin-right":"2px"},attrs:{type:"button"},on:{click:e.clearCross}},[e._v("\n        "+e._s(e.Resource.eliminate)+"\n      ")])])])])},staticRenderFns:[]},_i=i("VU/8")(bi,Si,!1,null,null,null).exports,xi=void 0,Ei={name:"Sm3dClipPlane",data:function(){return{sharedState:store.state,position:[],planeClipPoint1:null,planeClipPoint2:null,planeClipPoint3:null,isDestroyFlag:!0}},computed:{clipPlane:function(){return this.sharedState.clip[1]},clipShow:function(){return this.sharedState.toolBar[4]}},methods:{toggleVisibility:function(){this.show=!this.show},clipPlaneStart:function(){var e=this;this.isDestroyFlag=!1,this.planeClipPoint1=null,this.planeClipPoint2=null,this.planeClipPoint3=null,this.position=[];var t=!0,i=!1,s=void 0;try{for(var a,o=ze()(xi);!(t=(a=o.next()).done);t=!0){var n=a.value;n.selectEnabled=!1,n.clipLineColor=new Cesium.Color(1,1,1,0)}}catch(e){i=!0,s=e}finally{try{!t&&o.return&&o.return()}finally{if(i)throw s}}common.handlerDrawing("Polygon",1).then(function(t){e.position=t.result.object.positions;var i=!0,s=!1,a=void 0;try{for(var o,n=ze()(xi);!(i=(o=n.next()).done);i=!0){o.value.setCustomClipPlane(e.position[0],e.position[1],e.position[2])}}catch(e){s=!0,a=e}finally{try{!i&&n.return&&n.return()}finally{if(s)throw a}}var r=Cesium.Cartographic.fromCartesian(e.position[0]),l=Cesium.Math.toDegrees(r.longitude).toFixed(6),c=Cesium.Math.toDegrees(r.latitude).toFixed(6),d=r.height.toFixed(2),u=Cesium.Cartographic.fromCartesian(e.position[1]),m=Cesium.Math.toDegrees(u.longitude).toFixed(6),p=Cesium.Math.toDegrees(u.latitude).toFixed(6),h=u.height.toFixed(2),v=Cesium.Cartographic.fromCartesian(e.position[2]),g=Cesium.Math.toDegrees(v.longitude).toFixed(6),y=Cesium.Math.toDegrees(v.latitude).toFixed(6),f=v.height.toFixed(2);e.planeClipPoint1=l+", "+c+", "+d,e.planeClipPoint2=m+", "+p+", "+h,e.planeClipPoint3=g+", "+y+", "+f,window.handlerPolygon.deactivate()},function(e){console.log(e)}),window.handlerPolygon.activate(),scene.pickPositionSupported||alert("不支持深度纹理,无法绘制多边形，裁剪功能无法使用！")},clearClipPlane:function(){if(this.isDestroyFlag=!0,this.planeClipPoint1=null,this.planeClipPoint2=null,this.planeClipPoint3=null,xi){this.position=[];var e=!0,t=!1,i=void 0;try{for(var s,a=ze()(xi);!(e=(s=a.next()).done);e=!0){s.value.clearCustomClipBox()}}catch(e){t=!0,i=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw i}}common.clearHandlerDrawing("Polygon")}},init:function(){xi||(xi=viewer.scene.layers.layerQueue)}},beforeDestroy:function(){this.isDestroyFlag&&xi&&(xi=void 0)},mounted:function(){this.clipShow&&this.clipPlane&&this.init()},watch:{clipPlane:function(e){e&&this.init()},clipShow:function(e){e&&this.clipPlane&&this.init()}}},Ri={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.clipPlane,expression:"clipPlane"}]},[i("div",{staticClass:"sm-function-module-content"},[i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.firstPoint)+":\n        "),i("label",[e._v(" "+e._s(e.Resource.Spacelongitude))]),e._v(" "),i("label",[e._v(" "+e._s(e.Resource.Spacelatitude))]),e._v(" "),i("label",[e._v(" "+e._s(e.Resource.Spacealtitude))])]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.planeClipPoint1,expression:"planeClipPoint1"}],staticClass:"middle-input",staticStyle:{width:"100%",color:"white"},attrs:{disabled:"",type:"text",min:"0"},domProps:{value:e.planeClipPoint1},on:{input:function(t){t.target.composing||(e.planeClipPoint1=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.secondPoint)+":\n        "),i("label",[e._v(" "+e._s(e.Resource.Spacelongitude))]),e._v(" "),i("label",[e._v(" "+e._s(e.Resource.Spacelatitude))]),e._v(" "),i("label",[e._v(" "+e._s(e.Resource.Spacealtitude))])]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.planeClipPoint2,expression:"planeClipPoint2"}],staticClass:"middle-input",staticStyle:{width:"100%",color:"white"},attrs:{disabled:"",type:"text",min:"0"},domProps:{value:e.planeClipPoint2},on:{input:function(t){t.target.composing||(e.planeClipPoint2=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.thirdPoint)+":\n        "),i("label",[e._v(" "+e._s(e.Resource.Spacelongitude))]),e._v(" "),i("label",[e._v(" "+e._s(e.Resource.Spacelatitude))]),e._v(" "),i("label",[e._v(" "+e._s(e.Resource.Spacealtitude))])]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.planeClipPoint3,expression:"planeClipPoint3"}],staticClass:"middle-input",staticStyle:{width:"100%",color:"white"},attrs:{disabled:"",type:"text",min:"0"},domProps:{value:e.planeClipPoint3},on:{input:function(t){t.target.composing||(e.planeClipPoint3=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"boxchild"},[i("button",{staticClass:"tbtn tbn1",attrs:{type:"button"},on:{click:e.clipPlaneStart}},[e._v("\n        "+e._s(e.Resource.clip)+"\n      ")]),e._v(" "),i("button",{staticClass:"tbtn",staticStyle:{"margin-right":"1px"},attrs:{type:"button"},on:{click:e.clearClipPlane}},[e._v("\n        "+e._s(e.Resource.eliminate)+"\n      ")])])])])},staticRenderFns:[]},Li=i("VU/8")(Ei,Ri,!1,null,null,null).exports,Ai=void 0,Pi={name:"Sm3dClipPolygon",data:function(){return{sharedState:store.state,ClipModels:[{id:"0",name:Resource.PolygonClipInside},{id:"1",name:Resource.PolygonClipOutside}],ClipModelSelected:"0",clipModeOption:null,position:[],isDestroyFlag:!0}},computed:{clipPolygon:function(){return this.sharedState.clip[3]},clipShow:function(){return this.sharedState.toolBar[4]}},methods:{clipPolygonStart:function(){var e=this;this.isDestroyFlag=!1,this.position=[];var t=!0,i=!1,s=void 0;try{for(var a,o=ze()(Ai);!(t=(a=o.next()).done);t=!0){var n=a.value;n.selectEnabled=!1,n.clipLineColor=new Cesium.Color(1,1,1,0)}}catch(e){i=!0,s=e}finally{try{!t&&o.return&&o.return()}finally{if(i)throw s}}common.handlerDrawing("Polygon").then(function(t){e.position.push(t.positions);var i=window.handlerPolygon,s=!0,a=!1,o=void 0;try{for(var n,r=ze()(Ai);!(s=(n=r.next()).done);s=!0){n.value.setModifyRegions(e.position,e.clipModeOption)}}catch(e){a=!0,o=e}finally{try{!s&&r.return&&r.return()}finally{if(a)throw o}}i.polygon.show=!1,i.polyline.show=!1,i.deactivate()},function(e){console.log(e)}),window.handlerPolygon.activate(),scene.pickPositionSupported||alert("不支持深度纹理,无法绘制多边形，裁剪功能无法使用！")},clearClipPolygon:function(){if(common.clearHandlerDrawing("Polygon"),Ai){this.position=[];var e=!0,t=!1,i=void 0;try{for(var s,a=ze()(Ai);!(e=(s=a.next()).done);e=!0){s.value.clearModifyRegions()}}catch(e){t=!0,i=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw i}}this.isDestroyFlag=!0}},init:function(){Ai||(this.clipModeOption=Cesium.ModifyRegionMode.CLIP_INSIDE,Ai=scene.layers.layerQueue)}},beforeDestroy:function(){this.isDestroyFlag&&Ai&&(Ai=void 0)},mounted:function(){this.clipShow&&this.clipPolygon&&this.init()},watch:{clipPolygon:function(e){e&&this.init()},clipShow:function(e){e&&this.clipPolygon&&this.init()},ClipModelSelected:function(e){if(Ai){switch(e){case"0":this.clipModeOption=Cesium.ModifyRegionMode.CLIP_INSIDE;break;case"1":this.clipModeOption=Cesium.ModifyRegionMode.CLIP_OUTSIDE}var t=!0,i=!1,s=void 0;try{for(var a,o=ze()(Ai);!(t=(a=o.next()).done);t=!0){a.value.setModifyRegions(this.position,this.clipModeOption)}}catch(e){i=!0,s=e}finally{try{!t&&o.return&&o.return()}finally{if(i)throw s}}}}}},Ti={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.clipPolygon,expression:"clipPolygon"}],staticClass:"com"},[i("div",{staticClass:"sm-function-module-content"},[i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"sm-function-module-sub-section-caption"},[e._v(e._s(e.Resource.polygonClipMode))]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.ClipModelSelected,expression:"ClipModelSelected"}],staticClass:"sm-select",staticStyle:{width:"100%"},attrs:{id:""},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.ClipModelSelected=t.target.multiple?i:i[0]}}},e._l(e.ClipModels,function(t){return i("option",{key:t.id,domProps:{value:t.id}},[e._v("\n          "+e._s(t.name)+"\n        ")])}),0)]),e._v(" "),i("div",{staticClass:"boxchild"},[i("button",{staticClass:"tbtn tbn1",attrs:{type:"button"},on:{click:e.clipPolygonStart}},[e._v("\n        "+e._s(e.Resource.clip)+"\n      ")]),e._v(" "),i("button",{staticClass:"tbtn",staticStyle:{"margin-right":"0px"},attrs:{type:"button"},on:{click:e.clearClipPolygon}},[e._v("\n        "+e._s(e.Resource.eliminate)+"\n      ")])])])])},staticRenderFns:[]},Mi=i("VU/8")(Pi,Ti,!1,null,null,null).exports,Di=void 0,ki=void 0,Ni=void 0,Bi=void 0,Ii=void 0,Fi={name:"Sm3dClipBoxByeditor",data:function(){return{ClipModels:[{id:"clip_behind_all_plane",name:Resource.PolygonClipInside},{id:"clip_behind_any_plane",name:Resource.PolygonClipOutside}],ClipModelSelected:"clip_behind_all_plane",isDestroyFlag:!0,sharedState:store.state}},computed:{clipBoxByedit:function(){return this.sharedState.clip[0]},clipShow:function(){return this.sharedState.toolBar[4]}},methods:{BoxClipByEitor:function(){var e=this;if(this.clearBoxClipByEitor(),this.isDestroyFlag=!1,viewer.scene.pickTranslucentDepth=!1,Di)Ni.activate();else{this.setAllLayersClipColor();var t=this.ClipModelSelected;Ni.movingEvt.addEventListener(function(e){Ni.isDrawing?Bi.showAt(e,"<p>点击鼠标左键结束矩形绘制，移动鼠标绘制box高度。</p><p>右键结束绘制.</p>"):Bi.showAt(e,"<p>点击鼠标左键，开始绘制矩形作为box底面</p>")}),Ni.drawEvt.addEventListener(function(i){var s={dimensions:(Ii=i.object).box.dimensions.getValue(),position:Ii.position.getValue(0),clipMode:t,heading:0};(Di=new Cesium.BoxEditor(viewer,Ii)).editEvt.addEventListener(function(t){Ii.box.dimensions=t.dimensions,Ii.position=t.position,Ii.orientation=t.orientation,e.setClipBox()}),Di.activate(),e.setAllLayersClipOptions(s),Bi.setVisible(!1),Ni.clear(),Ni.deactivate()}),Ni.activate()}},setClipBox:function(){var e=this.ClipModelSelected;if(void 0!==Ii){var t=Ii.box.dimensions.getValue(),i=Ii.position.getValue(0),s=0;if(void 0!==Ii.orientation){var a=Cesium.Matrix3.fromQuaternion(Ii.orientation._value,new Cesium.Matrix3),o=Cesium.Matrix4.fromRotationTranslation(a,Cesium.Cartesian3.ZERO,new Cesium.Matrix4),n=Cesium.Matrix4.inverse(Cesium.Transforms.eastNorthUpToFixedFrame(i),new Cesium.Matrix4),r=Cesium.Matrix4.multiply(n,o,new Cesium.Matrix4),l=Cesium.Matrix4.getMatrix3(r,new Cesium.Matrix3);s=Cesium.HeadingPitchRoll.fromQuaternion(Cesium.Quaternion.fromRotationMatrix(l)).heading}var c={dimensions:t,position:i,clipMode:e,heading:s};this.setAllLayersClipOptions(c)}},clearBoxClipByEitor:function(){if(this.isDestroyFlag=!0,Ni&&(Ni.deactivate(),Bi.setVisible(!1)),Ii){var e=!0,t=!1,i=void 0;try{for(var s,a=ze()(ki);!(e=(s=a.next()).done);e=!0){s.value.clearCustomClipBox()}}catch(e){t=!0,i=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw i}}Ii=void 0,Di.deactivate(),viewer.entities.removeAll(),Ni.clear(),viewer.scene.pickTranslucentDepth=!0}},setAllLayersClipOptions:function(e){for(var t=0,i=ki.length;t<i;t++)ki[t].setCustomClipBox(e)},setAllLayersClipColor:function(){for(var e=0,t=ki.length;e<t;e++)ki[e].selectEnabled=!1,ki[e].clipLineColor=new Cesium.Color(1,1,1,0)},init:function(){Ni||(ki=viewer.scene.layers.layerQueue,Bi=createTooltip(document.body),Ni=new Cesium.DrawHandler(viewer,Cesium.DrawMode.Box))}},beforeDestroy:function(){this.isDestroyFlag&&Ni&&(Di&&Di.destroy(),Di=void 0,ki=void 0,Ni=void 0,Bi=void 0,Ii=void 0)},mounted:function(){this.clipShow&&this.clipBoxByedit&&this.init()},watch:{clipBoxByedit:function(e){e&&this.init()},clipShow:function(e){e&&this.clipBoxByedit&&this.init()},ClipModelSelected:function(e){Ii&&this.setClipBox()}}},Oi={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.clipBoxByedit,expression:"clipBoxByedit"}]},[i("div",{staticClass:"sm-function-module-content"},[i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"sm-function-module-sub-section-caption"},[e._v(e._s(e.Resource.polygonClipMode))]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.ClipModelSelected,expression:"ClipModelSelected"}],staticClass:"sm-select",staticStyle:{width:"100%"},attrs:{id:"fillOptions"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.ClipModelSelected=t.target.multiple?i:i[0]}}},e._l(e.ClipModels,function(t){return i("option",{key:t.id,domProps:{value:t.id}},[e._v("\n          "+e._s(t.name)+"\n        ")])}),0)]),e._v(" "),i("div",{staticClass:"boxchild"},[i("button",{staticClass:"tbtn tbn1",attrs:{type:"button"},on:{click:e.BoxClipByEitor}},[e._v("\n        "+e._s(e.Resource.clip)+"\n      ")]),e._v(" "),i("button",{staticClass:"tbtn",staticStyle:{"margin-right":"0px"},attrs:{type:"button"},on:{click:e.clearBoxClipByEitor}},[e._v("\n        "+e._s(e.Resource.eliminate)+"\n      ")])])])])},staticRenderFns:[]},Hi=i("VU/8")(Fi,Oi,!1,null,null,null).exports,Ui={name:"Sm3dTerrainOperation",data:function(){return{depth:500,positions:[],positionM:[],isEditZ:!1,isEdit:!1,isTerrainModifyEdit:!1,EditPositions:[],operationType:0,sharedState:store.state,terrainChange:"terrainModify",terrain:"terrainModify",clearTerrainDig:!1,clearTerrainModify:!1}},computed:{terrainOperation:function(){return this.sharedState.terrain[0]}},methods:{dig:function(){var e=this;this.positions=[],this.operationType=0,viewer.terrainProvider.tablename?(common.handlerDrawing("Polygon").then(function(t){e.positions=t.positions;var i=window.handlerPolygon;e.EditUpdate(t.positions),i.polygon.show=!1,i.polyline.show=!1,i.deactivate(),e.isEdit&&common.Edit(e,e.EditUpdate,"Polygon")},function(e){console.log(e)}),window.handlerPolygon.activate(),scene.pickPositionSupported||alert("不支持深度纹理,无法绘制多边形，地形操作功能无法使用！")):console.log("请在地形里使用地形组件！")},EditUpdate:function(e){viewer.scene.globe.removeAllExcavationRegion(),viewer.scene.globe.addExcavationRegion({name:"ggg",position:e,height:this.depth,transparent:!1})},clearDig:function(){this.positions=[],viewer.scene.globe.removeAllExcavationRegion(),common.clearHandlerDrawing("Polygon"),common.clearEditHandler("Polygon")},modifyTerrain:function(){var e=this;this.positionM=[],this.operationType=1,viewer.terrainProvider.tablename&&(common.handlerDrawing("Polygon").then(function(t){e.positionM=t.positions;var i=window.handlerPolygon;e.EditUpdateMod(t.positions),i.polygon.show=!1,i.polyline.show=!1,e.isTerrainModifyEdit&&common.Edit(e,e.EditUpdateMod,"Polygon")},function(e){console.log(e)}),window.handlerPolygon.activate(),scene.pickPositionSupported||alert("不支持深度纹理,无法绘制多边形，地形修改功能无法使用！"))},clearModify:function(){viewer.scene.globe.removeAllModifyRegion(),common.clearHandlerDrawing("Polygon"),common.clearEditHandler("Polygon")},EditUpdateMod:function(e){scene.globe.removeAllModifyRegion(),scene.globe.addModifyRegion({name:"ggg",position:e})}},watch:{depth:function(e){0!=this.positions.length&&this.EditUpdate(this.positions)},terrainOperation:function(e){e&&this.isEdit?common.Edit(this,this.EditUpdate,"Polygon"):(window.handlerPolygon&&window.handlerPolygon.polygon&&(window.handlerPolygon.polygon.show=!1),common.clearEditHandler("Polygon"))},isEdit:function(e){e?0==this.operationType?common.Edit(this,this.EditUpdate,"Polygon"):common.Edit(this,this.EditUpdateMod,"Polygon"):(common.clearEditHandler("Polygon"),window.handlerPolygon.polygon&&(window.handlerPolygon.polygon.show=!1))},isEditZ:function(e){window.editHandler&&(window.editHandler.isEditZ=e)},isTerrainModifyEdit:function(e){e?0==this.operationType?common.Edit(this,this.EditUpdate,"Polygon"):common.Edit(this,this.EditUpdateMod,"Polygon"):(common.clearEditHandler("Polygon"),window.handlerPolygon.polygon&&(window.handlerPolygon.polygon.show=!1))},terrain:function(e){"terrainDig"===e?this.clearModify():this.clearDig(),this.terrainChange=e}}},zi={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.terrainOperation,expression:"terrainOperation"}]},[i("div",{staticClass:"function-content operation"},[i("div",{staticClass:"terrainDig"},[i("div",{staticClass:"choose"},[i("label",{staticClass:"radio"},[e._v(e._s(e.Resource.terrainModify)),i("input",{directives:[{name:"model",rawName:"v-model",value:e.terrain,expression:"terrain"}],attrs:{type:"radio",name:"terrainModify",id:"terrainModify",value:"terrainModify"},domProps:{checked:e._q(e.terrain,"terrainModify")},on:{change:function(t){e.terrain="terrainModify"}}}),i("i")]),e._v(" "),i("label",{staticClass:"radio",staticStyle:{"margin-left":"38px"}},[e._v(e._s(e.Resource.TerrainMining)),i("input",{directives:[{name:"model",rawName:"v-model",value:e.terrain,expression:"terrain"}],attrs:{type:"radio",name:"terrainDig",id:"terrainDig",value:"terrainDig"},domProps:{checked:e._q(e.terrain,"terrainDig")},on:{change:function(t){e.terrain="terrainDig"}}}),i("i")])])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"terrainModify"==e.terrainChange,expression:"terrainChange == 'terrainModify'"}]},[i("div",{staticClass:"editBox",staticStyle:{"margin-top":"35px","margin-bottom":"15px"}},[i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.isTerrainModifyEdit,expression:"isTerrainModifyEdit"}],staticStyle:{"margin-left":"30px"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isTerrainModifyEdit)?e._i(e.isTerrainModifyEdit,null)>-1:e.isTerrainModifyEdit},on:{change:function(t){var i=e.isTerrainModifyEdit,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.isTerrainModifyEdit=i.concat([null])):o>-1&&(e.isTerrainModifyEdit=i.slice(0,o).concat(i.slice(o+1)))}else e.isTerrainModifyEdit=a}}}),e._v("  \n          "),i("label",[e._v(e._s(e.Resource.edit))])]),e._v(" "),i("div",{staticStyle:{position:"absolute",left:"118px"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.isEditZ,expression:"isEditZ"}],staticStyle:{"margin-left":"5px"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isEditZ)?e._i(e.isEditZ,null)>-1:e.isEditZ},on:{change:function(t){var i=e.isEditZ,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.isEditZ=i.concat([null])):o>-1&&(e.isEditZ=i.slice(0,o).concat(i.slice(o+1)))}else e.isEditZ=a}}}),e._v(" "),i("label",{staticStyle:{"margin-left":"5px"}},[e._v(e._s(e.Resource.Zdrection))])])]),e._v(" "),i("div",{staticClass:"boxchild"},[i("button",{staticClass:"tbtn tbn1",attrs:{type:"button"},on:{click:e.modifyTerrain}},[e._v("\n          "+e._s(e.Resource.operation)+"\n        ")]),e._v(" "),i("button",{staticClass:"tbtn",attrs:{type:"button"},on:{click:e.clearModify}},[e._v("\n          "+e._s(e.Resource.clear)+"\n        ")])])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"terrainDig"==e.terrainChange,expression:"terrainChange == 'terrainDig'"}]},[i("div",{staticClass:"sm-function-module-sub-section",staticStyle:{"margin-left":"20px","margin-top":"35px",width:"175px"}},[i("label",{staticClass:"span-box2"},[e._v(e._s(e.Resource.TerrainMiningDepth))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.depth,expression:"depth"}],staticClass:"sm-input-long",staticStyle:{width:"43%","border-radius":"4px","margin-top":"11px"},attrs:{min:"0",type:"number"},domProps:{value:e.depth},on:{input:function(t){t.target.composing||(e.depth=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"editBox",staticStyle:{"margin-left":"22px","margin-top":"10px"}},[i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.isEdit,expression:"isEdit"}],staticStyle:{"margin-left":"5px"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isEdit)?e._i(e.isEdit,null)>-1:e.isEdit},on:{change:function(t){var i=e.isEdit,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.isEdit=i.concat([null])):o>-1&&(e.isEdit=i.slice(0,o).concat(i.slice(o+1)))}else e.isEdit=a}}}),e._v("  \n          "),i("label",[e._v(e._s(e.Resource.edit))])])]),e._v(" "),i("div",{staticClass:"boxchild"},[i("button",{staticClass:"tbtn tbn1",attrs:{type:"button"},on:{click:e.dig,touchstart:e.dig}},[e._v("\n          "+e._s(e.Resource.operation)+"\n        ")]),e._v(" "),i("button",{staticClass:"tbtn",attrs:{type:"button"},on:{click:e.clearDig}},[e._v("\n          "+e._s(e.Resource.clear)+"\n        ")])])])])])},staticRenderFns:[]};var Vi=i("VU/8")(Ui,zi,!1,function(e){i("VG02")},"data-v-72bec347",null).exports,Gi=void 0,ji=void 0,Wi=void 0,Zi={name:"Sm3dTerrainFlood",data:function(){return{colorSelect:!1,bntColor:1,bands:[{id:"1",name:"band1"},{id:"2",name:"band2"},{id:"3",name:"band3"},{id:"4",name:"band4"},{id:"5",name:"band5"}],DisplayModeFlood:Number,MaxHeight:9e3,MinHeight:1e3,transFlood:.8,speedElevation:0,speed:1e3,sharedState:store.state,isDestroyFlag:!0}},computed:{flood:function(){return this.sharedState.terrain[1]},terrainShow:function(){return this.sharedState.toolBar[5]}},methods:{showColor:function(){this.colorSelect=!this.colorSelect},changeColor:function(e){this.colorSelect=!1,this.bntColor=e.target.id},hypSetting:function(){Gi.DisplayMode=this.DisplayModeFlood,Gi._lineColor=new Cesium.Color(1,0,0,1),Gi.MinVisibleValue=this.MinHeight,Gi.ColorTableMinKey=1,Gi.ColorTableMaxKey=9e3,Gi.ColorTable=ji,Gi.Opacity=this.transFlood,Gi.LineInterval=200},floodBegin:function(){var e=this;this.isDestroyFlag=!1,Gi?this.hypSetting():(this.init(),this.hypSetting()),this.positions=[],common.handlerDrawing("Polygon").then(function(t){var i=window.handlerPolygon;e.floodStart(t.positions),i.polygon.show=!1,i.deactivate()},function(e){console.log(e)}),window.handlerPolygon.activate(),scene.pickPositionSupported||alert("不支持深度纹理,无法绘制多边形，淹没分析功能无法使用！")},floodStart:function(e){var t=this,i=0;Wi=setInterval("flood()",100),Gi.MinVisibleValue=this.MinHeight,i=parseFloat(this.MinHeight),window.flood=function(){if(i<=t.MaxHeight&&(t.speedElevation=parseInt(i)),i>t.MaxHeight)return clearInterval(Wi),void(Wi=void 0);Gi.MaxVisibleValue=i,Gi.CoverageArea=e,i+=parseFloat(t.speed)/10,viewer.scene.globe.HypsometricSetting={hypsometricSetting:Gi,analysisMode:Cesium.HypsometricSettingEnum.AnalysisRegionMode.ARM_REGION}}},floodClear:function(){this.isDestroyFlag=!0,this.positions=[],Gi=void 0,viewer.scene.globe.HypsometricSetting={hypsometricSetting:Gi,analysisMode:Cesium.HypsometricSettingEnum.AnalysisRegionMode.ARM_NONE},clearInterval(Wi),Wi=void 0,common.clearHandlerDrawing("Polygon")},init:function(){Gi||(Gi=new Cesium.HypsometricSetting,this.DisplayModeFlood=Cesium.HypsometricSettingEnum.DisplayMode.FACE,ji||((ji=new Cesium.ColorTable).insert(9e3,new Cesium.Color(0,39/255,148/255)),ji.insert(0,new Cesium.Color(149/255,232/255,249/255))))}},beforeDestroy:function(){this.isDestroyFlag&&Gi&&(Gi.destroy(),ji.destroy(),Gi=void 0,ji=void 0)},mounted:function(){this.terrainShow&&this.flood&&this.init()},watch:{flood:function(e){e&&this.init()},terrainShow:function(e){e&&this.flood&&this.init()},bntColor:function(e){switch(ji=new Cesium.ColorTable,e){case"1":ji.insert(9e3,new Cesium.Color(0,39/255,148/255)),ji.insert(0,new Cesium.Color(149/255,232/255,249/255));break;case"2":ji.insert(9e3,new Cesium.Color(162/255,251/255,194/255)),ji.insert(0,new Cesium.Color(1,103/255,103/255));break;case"3":ji.insert(9e3,new Cesium.Color(230/255,198/255,1)),ji.insert(0,new Cesium.Color(157/255,0,1));break;case"4":ji.insert(9e3,new Cesium.Color(210/255,15/255,15/255)),ji.insert(6e3,new Cesium.Color(221/255,224/255,7/255)),ji.insert(5e3,new Cesium.Color(20/255,187/255,18/255)),ji.insert(4e3,new Cesium.Color(0,161/255,1)),ji.insert(0,new Cesium.Color(9/255,9/255,212/255));break;case"5":ji.insert(9e3,new Cesium.Color(186/255,1,229/255)),ji.insert(0,new Cesium.Color(26/255,185/255,156/255))}Wi&&(Gi.ColorTable=ji,viewer.scene.globe.HypsometricSetting={hypsometricSetting:Gi,analysisMode:Cesium.HypsometricSettingEnum.AnalysisRegionMode.ARM_REGION})},transFlood:function(e){Gi.Opacity=e,viewer.scene.globe.HypsometricSetting={hypsometricSetting:Gi,analysisMode:Cesium.HypsometricSettingEnum.AnalysisRegionMode.ARM_REGION}}}},qi={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.flood,expression:"flood"}]},[i("div",{staticClass:"function-content floodConent"},[i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.MaximumVisibleElevation))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.MaxHeight,expression:"MaxHeight"}],staticClass:"sm-input-long",staticStyle:{width:"60%"},attrs:{type:"number",min:"0"},domProps:{value:e.MaxHeight},on:{input:function(t){t.target.composing||(e.MaxHeight=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.MinimumVisibleElevation))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.MinHeight,expression:"MinHeight"}],staticClass:"sm-input-long",staticStyle:{width:"60%"},attrs:{type:"number",min:"0"},domProps:{value:e.MinHeight},on:{input:function(t){t.target.composing||(e.MinHeight=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.TheCurrentLevel))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.speedElevation,expression:"speedElevation"}],staticClass:"sm-input-long",staticStyle:{width:"60%"},attrs:{disabled:"",type:"number",min:"0"},domProps:{value:e.speedElevation},on:{input:function(t){t.target.composing||(e.speedElevation=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.colorSetting))]),e._v(" "),i("button",{staticClass:"sm-select sm-select-color",staticStyle:{width:"64%"},on:{click:e.showColor}},[i("span",{staticClass:"label2",class:"band"+e.bntColor},[e._v(" ")])]),e._v(" "),e.colorSelect?i("div",{staticClass:"terrainSelect-select"},e._l(e.bands,function(t){return i("span",{key:t.id,staticClass:"terrainLabel ban",class:t.name,attrs:{id:t.id},on:{click:e.changeColor}},[e._v(" ")])}),0):e._e()]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.transparency))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box",staticStyle:{width:"63%"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.transFlood,expression:"transFlood"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{type:"range",min:"0",max:"1",step:"0.01"},domProps:{value:e.transFlood},on:{__r:function(t){e.transFlood=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.transFlood,expression:"transFlood"}],staticClass:"min-solider",staticStyle:{width:"34%",height:"25px","border-radius":"3px"},attrs:{type:"number",min:"0",max:"1",step:"0.01"},domProps:{value:e.transFlood},on:{input:function(t){t.target.composing||(e.transFlood=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.FloodSpeed))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box",staticStyle:{width:"63%"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.speed,expression:"speed"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{type:"range",min:"0",max:"1000",step:"1"},domProps:{value:e.speed},on:{__r:function(t){e.speed=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.speed,expression:"speed"}],staticClass:"min-solider",staticStyle:{width:"34%",height:"25px","border-radius":"3px"},attrs:{type:"number",min:"0",max:"1000",step:"1"},domProps:{value:e.speed},on:{input:function(t){t.target.composing||(e.speed=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"boxchild"},[i("button",{staticClass:"tbtn tbn1",attrs:{type:"button"},on:{click:e.floodBegin}},[e._v("\n        "+e._s(e.Resource.analyze)+"\n      ")]),e._v(" "),i("button",{staticClass:"tbtn right",attrs:{type:"button"},on:{click:e.floodClear}},[e._v("\n        "+e._s(e.Resource.eliminate)+"\n      ")])])])])},staticRenderFns:[]};var Qi=i("VU/8")(Zi,qi,!1,function(e){i("Zyzp")},"data-v-3c7fefa6",null).exports,Yi=void 0,Xi=void 0,Ji={name:"Sm3dTerrainSlope",data:function(){return{sharedState:store.state,showMode:[{id:"0",name:Resource.SpecifyPolygon},{id:"1",name:Resource.AllRegionsAnalysis},{id:"2",name:Resource.AllRegionsNOAnalysis}],calMode:[{id:"0",name:Resource.ShowFillColor},{id:"1",name:Resource.ShowSlopeArrow},{id:"2",name:Resource.ShowColorArrow}],showModeIndex:0,calModeIndex:0,wide:Number,DisplayMode:Number,wideMaxR:78,wideMinR:0,trans:1,positions:[],isEditZ:!1,isEdit:!1,EditPositions:[],isDestroyFlag:!0}},computed:{slopeShow:function(){return this.sharedState.terrain[2]},terrainShow:function(){return this.sharedState.toolBar[5]}},methods:{startSlope:function(){var e=this;this.isDestroyFlag=!1;this.wide;Yi.DisplayMode=this.DisplayMode,Yi.MaxVisibleValue=this.wideMaxR,Yi.MinVisibleValue=this.wideMinR,Yi.ColorTable=Xi,Yi.Opacity=this.trans,viewer.terrainProvider.tablename&&(common.handlerDrawing("Polygon").then(function(t){e.positions=t.positions,e.updateSlop(e.positions);var i=window.handlerPolygon;i.polygon.show=!1,i.polyline.show=!1,i.deactivate(),e.isEdit&&common.Edit(e,e.updateSlop,"Polygon")},function(e){console.log(e)}),handlerPolygon.activate(),scene.pickPositionSupported||alert("不支持深度纹理,无法绘制多边形，坡度坡向功能无法使用！"))},updateSlop:function(e){e&&(Yi.CoverageArea=e),viewer.scene.globe.SlopeSetting={slopeSetting:Yi,analysisMode:this.wide}},clearSlope:function(){this.positions=[],viewer.scene.globe.SlopeSetting={analysisMode:Cesium.HypsometricSettingEnum.AnalysisRegionMode.ARM_NONE},common.clearHandlerDrawing("Polygon"),common.clearEditHandler("Polygon"),this.isDestroyFlag=!0},init:function(){Yi||(Yi=new Cesium.SlopeSetting,this.wide=Cesium.HypsometricSettingEnum.AnalysisRegionMode.ARM_REGION,this.DisplayMode=Cesium.SlopeSettingEnum.DisplayMode.FACE,(Xi=new Cesium.ColorTable).insert(80,new Cesium.Color(1,0,0)),Xi.insert(50,new Cesium.Color(221/255,224/255,7/255)),Xi.insert(30,new Cesium.Color(20/255,187/255,18/255)),Xi.insert(20,new Cesium.Color(0,161/255,1)),Xi.insert(0,new Cesium.Color(9/255,9/255,1)))}},beforeDestroy:function(){this.isDestroyFlag&&Yi&&(Yi.destroy(),Xi.destroy(),Yi=void 0,Xi=void 0)},mounted:function(){this.terrainShow&&this.slopeShow&&this.init()},watch:{slopeShow:function(e){e&&this.init(),e&&this.isEdit?common.Edit(this,this.updateSlop,"Polygon"):(window.handlerPolygon&&window.handlerPolygon.polygon&&(window.handlerPolygon.polygon.show=!1),common.clearEditHandler("Polygon"))},terrainShow:function(e){e&&this.slopeShow&&this.init()},isEdit:function(e){e?common.Edit(this,this.updateSlop,"Polygon"):(common.clearEditHandler("Polygon"),window.handlerPolygon.polygon&&(window.handlerPolygon.polygon.show=!1))},wideMaxR:function(e){Yi.MaxVisibleValue=parseFloat(e),0!=this.positions.length&&(viewer.scene.globe.SlopeSetting={slopeSetting:Yi,analysisMode:this.wide})},wideMinR:function(e){Yi.MinVisibleValue=parseFloat(e),0!=this.positions.length&&(viewer.scene.globe.SlopeSetting={slopeSetting:Yi,analysisMode:this.wide})},showModeIndex:function(e){switch(e){case"0":Yi.DisplayMode=Cesium.SlopeSettingEnum.DisplayMode.FACE,this.DisplayMode=Cesium.SlopeSettingEnum.DisplayMode.FACE;break;case"1":Yi.DisplayMode=Cesium.SlopeSettingEnum.DisplayMode.ARROW,this.DisplayMode=Cesium.SlopeSettingEnum.DisplayMode.ARROW;break;case"2":Yi.DisplayMode=Cesium.SlopeSettingEnum.DisplayMode.FACE_AND_ARROW,this.DisplayMode=Cesium.SlopeSettingEnum.DisplayMode.FACE_AND_ARROW}0!=this.positions.length&&(viewer.scene.globe.SlopeSetting={slopeSetting:Yi,analysisMode:this.wide})},calModeIndex:function(e){switch(e){case"0":this.wide=Cesium.HypsometricSettingEnum.AnalysisRegionMode.ARM_REGION;break;case"1":this.wide=Cesium.HypsometricSettingEnum.AnalysisRegionMode.ARM_ALL;break;case"2":this.wide=Cesium.HypsometricSettingEnum.AnalysisRegionMode.ARM_NONE}0!=this.positions.length&&(viewer.scene.globe.SlopeSetting={slopeSetting:Yi,analysisMode:this.wide})},trans:function(e){Yi.Opacity=e,0!=this.positions.length&&(viewer.scene.globe.SlopeSetting={slopeSetting:Yi,analysisMode:this.wide})}}},$i={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.slopeShow,expression:"slopeShow"}]},[i("div",{staticClass:"function-content floodSlope"},[i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.analysisArea))]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.calModeIndex,expression:"calModeIndex"}],staticClass:"sm-select sm-select-s",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.calModeIndex=t.target.multiple?i:i[0]}}},e._l(e.showMode,function(t){return i("option",{key:t.id,domProps:{value:t.id}},[e._v("\n          "+e._s(t.name)+"\n        ")])}),0)]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.minimumGrade))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.wideMinR,expression:"wideMinR"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{max:"90",min:"0",type:"range"},domProps:{value:e.wideMinR},on:{__r:function(t){e.wideMinR=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.wideMinR,expression:"wideMinR"}],staticClass:"min-solider",staticStyle:{width:"34%",height:"25px","border-radius":"3px"},attrs:{max:"90",min:"0",step:"1",type:"number"},domProps:{value:e.wideMinR},on:{input:function(t){t.target.composing||(e.wideMinR=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.maximumGrade))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.wideMaxR,expression:"wideMaxR"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{max:"90",min:"0",type:"range"},domProps:{value:e.wideMaxR},on:{__r:function(t){e.wideMaxR=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.wideMaxR,expression:"wideMaxR"}],staticClass:"min-solider",staticStyle:{width:"34%",height:"25px","border-radius":"3px"},attrs:{max:"90",min:"0",step:"1",type:"number"},domProps:{value:e.wideMaxR},on:{input:function(t){t.target.composing||(e.wideMaxR=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.displayMode))]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.showModeIndex,expression:"showModeIndex"}],staticClass:"sm-select sm-select-s",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.showModeIndex=t.target.multiple?i:i[0]}}},e._l(e.calMode,function(t){return i("option",{key:t.id,domProps:{value:t.id}},[e._v("\n          "+e._s(t.name)+"\n        ")])}),0)]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.transparency))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.trans,expression:"trans"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{max:"1",min:"0",step:"0.01",type:"range"},domProps:{value:e.trans},on:{__r:function(t){e.trans=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.trans,expression:"trans"}],staticClass:"min-solider",staticStyle:{width:"34%",height:"25px","border-radius":"3px"},attrs:{max:"1",min:"0",step:"0.01",type:"number"},domProps:{value:e.trans},on:{input:function(t){t.target.composing||(e.trans=t.target.value)}}})])]),e._v(" "),i("label",{staticClass:"sm-viewshed-label-right"},[e._v(e._s(e.Resource.edit))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.isEdit,expression:"isEdit"}],staticStyle:{"margin-left":"10px"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isEdit)?e._i(e.isEdit,null)>-1:e.isEdit},on:{change:function(t){var i=e.isEdit,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.isEdit=i.concat([null])):o>-1&&(e.isEdit=i.slice(0,o).concat(i.slice(o+1)))}else e.isEdit=a}}}),e._v(" "),i("label",{staticClass:"sm-solider-input-box media-hidden",staticStyle:{"font-size":"12px"}},[e._v(e._s(e.Resource.SlopeExplain))]),e._v(" "),i("div",{staticClass:"boxchild"},[i("button",{staticClass:"tbtn tbn1",attrs:{type:"button"},on:{click:e.startSlope}},[e._v("\n        "+e._s(e.Resource.analyze)+"\n      ")]),e._v(" "),i("button",{staticClass:"tbtn right",attrs:{type:"button"},on:{click:e.clearSlope}},[e._v("\n        "+e._s(e.Resource.eliminate)+"\n      ")])])])])},staticRenderFns:[]};var Ki=i("VU/8")(Ji,$i,!1,function(e){i("oRN7")},"data-v-394c8758",null).exports,es=void 0,ts=void 0,is={name:"Sm3dTerrainIsoline",data:function(){return{sharedState:store.state,fillOptions:[{id:"Line",name:Resource.ContourFilling},{id:"Region",name:Resource.panelFilling},{id:"Line_Region",name:Resource.ContourPanelFilling},{id:"None",name:Resource.noColorTable}],fillMaxHeight:9e3,fillMinHeight:0,equivalentIsoline:100,fillOptionsSelected:"",color:"#ff8040",DisplayModeHyp:Number,isEditZ:!1,isEdit:!1,EditPositions:[],isDestroyFlag:!0}},computed:{isoline:function(){return this.sharedState.terrain[3]},terrainShow:function(){return this.sharedState.toolBar[5]}},methods:{isoLine:function(){var e=this;this.isDestroyFlag=!1,es.DisplayMode=this.DisplayModeHyp,es._lineColor=Cesium.Color.fromCssColorString(this.color),es.LineInterval=parseFloat(this.equivalentIsoline),es.MaxVisibleValue=parseFloat(this.fillMaxHeight),es.MinVisibleValue=parseFloat(this.fillMinHeight),es.ColorTableMinKey=2736.88110351563,es.ColorTableMaxKey=5597.06640625,es.ColorTable=ts,es.Opacity=.4,this.positions=[],common.handlerDrawing("Polygon").then(function(t){e.positions=t.positions;var i=window.handlerPolygon;es.CoverageArea=t.positions,viewer.scene.globe.HypsometricSetting={hypsometricSetting:es,analysisMode:Cesium.HypsometricSettingEnum.AnalysisRegionMode.ARM_REGION},i.polygon.show=!1,i.polyline.show=!1,i.deactivate(),e.isEdit&&common.Edit(e,e.judge,"Polygon")},function(e){console.log(e)}),window.handlerPolygon.activate(),scene.pickPositionSupported||alert("不支持深度纹理,无法绘制多边形，等值线功能无法使用！")},clearIsoLine:function(){this.positions=[],viewer.scene.globe.HypsometricSetting=void 0,es&&(es.MaxVisibleValue=-1e3),es&&(es.MinVisibleValue=-1e3),common.clearHandlerDrawing("Polygon"),common.clearEditHandler("Polygon"),this.isDestroyFlag=!0},judge:function(e){if(this.positions){if(0==this.positions.length)return;e&&(es.CoverageArea=e),viewer.scene.globe.HypsometricSetting={hypsometricSetting:es,analysisMode:Cesium.HypsometricSettingEnum.AnalysisRegionMode.ARM_REGION}}},init:function(){if(!es){es=new Cesium.HypsometricSetting,ts=new Cesium.ColorTable,this.fillOptionsSelected=this.fillOptions[0].id,this.DisplayModeHyp=Cesium.HypsometricSettingEnum.DisplayMode.LINE;var e=ts;e.insert(5597.06640625,new Cesium.Color(0,0,1)),e.insert(5406.387386067709,new Cesium.Color(0,.2,1)),e.insert(5215.708365885417,new Cesium.Color(0,.4,1)),e.insert(5025.029345703126,new Cesium.Color(0,.6,1)),e.insert(4834.350325520834,new Cesium.Color(0,.8,1)),e.insert(4643.671305338543,new Cesium.Color(0,1,1)),e.insert(4452.992285156252,new Cesium.Color(.2,1,.8)),e.insert(4262.313264973961,new Cesium.Color(.4,1,.6)),e.insert(4071.6342447916695,new Cesium.Color(.6,1,.4)),e.insert(3880.955224609378,new Cesium.Color(.8,1,.2)),e.insert(3690.2762044270867,new Cesium.Color(1,1,0)),e.insert(3499.5971842447952,new Cesium.Color(1,.8,0)),e.insert(3308.918164062504,new Cesium.Color(1,.6,0)),e.insert(3118.239143880213,new Cesium.Color(1,.4,0)),e.insert(2927.5601236979214,new Cesium.Color(1,.2,0)),e.insert(2736.88110351563,new Cesium.Color(1,0,0))}}},beforeDestroy:function(){this.isDestroyFlag&&es&&(es.destroy(),ts.destroy(),es=void 0,ts=void 0)},mounted:function(){this.terrainShow&&this.isoline&&this.init()},watch:{isoline:function(e){e&&this.init(),e&&this.isEdit?common.Edit(this,this.judge,this.positions,"Polygon"):(window.handlerPolygon&&window.handlerPolygon.polygon&&(window.handlerPolygon.polygon.show=!1),window.editHandler&&window.editHandler.deactivate(),window.selectHandler&&(window.selectHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_UP),window.selectHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK)))},terrainShow:function(e){e&&this.isoline&&this.init()},isEdit:function(e){e?common.Edit(this,this.judge,"Polygon"):(common.clearEditHandler("Polygon"),window.handlerPolygon.polygon&&(window.handlerPolygon.polygon.show=!1))},fillMaxHeight:function(e){es.MaxVisibleValue=parseFloat(e),this.judge()},fillMinHeight:function(e){es.MinVisibleValue=parseFloat(e),this.judge()},equivalentIsoline:function(e){es.LineInterval=parseFloat(e),this.judge()},color:function(e){this.color=e,es._lineColor=Cesium.Color.fromCssColorString(this.color),this.judge()},fillOptionsSelected:function(e){switch(this.fillOptionsSelected=e,this.fillOptionsSelected){case"None":viewer.scene.globe.HypsometricSetting=void 0,this.DisplayModeHyp=void 0;break;case"Line":this.DisplayModeHyp=Cesium.HypsometricSettingEnum.DisplayMode.LINE;break;case"Region":this.DisplayModeHyp=Cesium.HypsometricSettingEnum.DisplayMode.FACE;break;case"Line_Region":this.DisplayModeHyp=Cesium.HypsometricSettingEnum.DisplayMode.FACE_AND_LINE}es.DisplayMode=this.DisplayModeHyp,this.judge()}}},ss={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.isoline,expression:"isoline"}]},[i("div",{staticClass:"function-content IsolineConent"},[i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.MaximumVisibleElevation))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.fillMaxHeight,expression:"fillMaxHeight"}],staticClass:"sm-input-long",attrs:{min:"0",type:"number"},domProps:{value:e.fillMaxHeight},on:{input:function(t){t.target.composing||(e.fillMaxHeight=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.MinimumVisibleElevation))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.fillMinHeight,expression:"fillMinHeight"}],staticClass:"sm-input-long",attrs:{min:"0",type:"number"},domProps:{value:e.fillMinHeight},on:{input:function(t){t.target.composing||(e.fillMinHeight=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.isolineInterval))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.equivalentIsoline,expression:"equivalentIsoline"}],staticClass:"sm-input-long",attrs:{min:"0",type:"number"},domProps:{value:e.equivalentIsoline},on:{input:function(t){t.target.composing||(e.equivalentIsoline=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.LineColorSetting))]),e._v(" "),i("ColorPicker",{staticClass:"sm-colorpicker",attrs:{editable:""},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.displayMode))]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.fillOptionsSelected,expression:"fillOptionsSelected"}],staticClass:"sm-select",attrs:{id:"fillOptions"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.fillOptionsSelected=t.target.multiple?i:i[0]}}},e._l(e.fillOptions,function(t){return i("option",{key:t.id,domProps:{value:t.id}},[e._v("\n          "+e._s(t.name)+"\n        ")])}),0)]),e._v(" "),i("label",{staticClass:"sm-viewshed-label-right"},[e._v(e._s(e.Resource.edit))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.isEdit,expression:"isEdit"}],staticStyle:{"margin-left":"10px"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isEdit)?e._i(e.isEdit,null)>-1:e.isEdit},on:{change:function(t){var i=e.isEdit,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.isEdit=i.concat([null])):o>-1&&(e.isEdit=i.slice(0,o).concat(i.slice(o+1)))}else e.isEdit=a}}}),e._v(" "),i("div",{staticClass:"boxchild"},[i("button",{staticClass:"tbtn tbn1",attrs:{type:"button"},on:{click:e.isoLine}},[e._v("\n        "+e._s(e.Resource.analyze)+"\n      ")]),e._v(" "),i("button",{staticClass:"tbtn right",attrs:{type:"button"},on:{click:e.clearIsoLine}},[e._v("\n        "+e._s(e.Resource.eliminate)+"\n      ")])])])])},staticRenderFns:[]};var as=i("VU/8")(is,ss,!1,function(e){i("dM7A")},"data-v-630d4dbc",null).exports,os=i("Uhn+"),ns=i.n(os),rs=void 0,ls="",cs={name:"addPoint",data:function(){return{sharedState:store.state,divData:ns.a.s3mModels,pointColor:"#FFFFFF",pitch:0,roll:0,heading:0,scale:1,defaultUrl:null,isDestroyFlag:!0,positionX:0,positionY:0,positionZ:0,clientX:0,clientY:0,distX:0,distY:0,active:!1,dom:null,dragPosition:new Cesium.Cartesian2}},directives:{stopdrag:{inserted:function(e,t){e.onmousedown=function(e){e.stopPropagation()}}}},computed:{addPoint:function(){return this.sharedState.onlineEdit[0]},onlineEditShow:function(){return this.sharedState.toolBar[8]}},mounted:function(){this.onlineEditShow&&this.addPoint&&this.init()},methods:{init:function(){rs||(window.handlerPoint||common.initHandler("Point"),rs=new Cesium.S3MInstanceCollection(scene._context),viewer.scene.primitives.add(rs))},pointSelectType:function(e,t){var i=this;this.defaultUrl=null,this.defaultUrl=t.path,this.heading=0,this.pitch=0,this.roll=0,this.scale=1,this.positionX=0,this.positionY=0,this.positionZ=0,this.isDestroyFlag=!1,common.handlerDrawing("Point").then(function(e){var t=i;rs.add(t.defaultUrl,{position:e.result.object.position,hpr:new Cesium.HeadingPitchRoll(parseFloat(t.heading),parseFloat(t.pitch),parseFloat(t.roll)),scale:new Cesium.Cartesian3(parseFloat(t.scale),parseFloat(t.scale),parseFloat(t.scale))}),window.handlerPoint.deactivate()}),window.handlerPoint&&window.handlerPoint.activate()},clearPolygon:function(){if(viewer.selectedEntity){var e=viewer.selectedEntity.primitive,t=viewer.selectedEntity.index;e.updateScale(new Cesium.Cartesian3(0,0,0),t)}common.clearHandlerDrawing("Point")},updatePointMarkerRotation:function(){if(""!==this.heading&&""!==this.pitch&&""!==this.roll){var e=Cesium.Math.toRadians(this.heading),t=Cesium.Math.toRadians(this.pitch),i=Cesium.Math.toRadians(this.roll);if(viewer.selectedEntity){var s=viewer.selectedEntity.primitive,a=viewer.selectedEntity.index;s.updateRotation(new Cesium.HeadingPitchRoll(e,t,i),a)}}},dragPointSelectType:function(e,t){this.defaultUrl=t.path,this.dragPosition.x=e.clientX,this.dragPosition.y=e.clientY;var i=viewer.scene.pickPosition(this.dragPosition);rs.add(this.defaultUrl,{position:i,hpr:new Cesium.HeadingPitchRoll(parseFloat(this.heading),parseFloat(this.pitch),parseFloat(this.roll)),scale:new Cesium.Cartesian3(parseFloat(this.scale),parseFloat(this.scale),parseFloat(this.scale))})},move:function(e,t,i){e.preventDefault(),this.dom=this.$refs["dom"+t][0],this.active=!0,this.clientX=e.clientX,this.clientY=e.clientY,this.targetX=this.dom.getBoundingClientRect().x,this.targetY=this.dom.getBoundingClientRect().y,this.distX=this.clientX-this.targetX,this.distY=this.clientY-this.targetY,this.dom.style.position="fixed",this.dom.style.left=this.clientX+"px",this.dom.style.top=this.clientX+"px",this.divData.splice(t,0,i),ls=(new Date).getTime();var s=this;document.onmousemove=function(e){if(s.active){var t=e.clientX-s.distX,i=e.clientY-s.distY;s.dom.className="Thematicbox",s.dom.style.position="fixed",s.dom.style.left=t+"px",s.dom.style.top=i+"px"}},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null,s.dom.style.display="none",s.active=!1,(new Date).getTime()-ls<200?s.pointSelectType(t,i):s.dragPointSelectType(e,i)}}},watch:{addPoint:function(e){e&&this.init()},onlineEditShow:function(e){e&&this.addPoint&&this.init()},pointColor:function(e){var t=Cesium.Color.fromCssColorString(e);if(viewer.selectedEntity&&"Instanced_Object"===viewer.selectedEntity.primitive.type){var i=viewer.selectedEntity.primitive,s=viewer.selectedEntity.id;i.updateColor(t,s)}},pitch:function(e){""==e&&Number(e)<=0||this.updatePointMarkerRotation()},roll:function(e){""==e&&Number(e)<=0||this.updatePointMarkerRotation()},heading:function(e){""==e&&Number(e)<=0||this.updatePointMarkerRotation()},scale:function(e){if(!(""==e&&Number(e)<=0)){var t=Number(e);if(viewer.selectedEntity){var i=viewer.selectedEntity.primitive,s=viewer.selectedEntity.index;i.updateScale(new Cesium.Cartesian3(t,t,t),s)}}},positionX:function(e,t){if(""!=e&&viewer.selectedEntity){var i=viewer.selectedEntity.primitive,s=Number(e)-Number(t),a=Cesium.Transforms.eastNorthUpToFixedFrame(i.position,Cesium.Ellipsoid.WGS84,new Cesium.Matrix4),o=new Cesium.Cartesian3(s,0,0),n=Cesium.Matrix4.multiplyByPoint(a,o,new Cesium.Cartesian3);i.updatePosition(n)}},positionY:function(e,t){if(""!=e&&viewer.selectedEntity){var i=viewer.selectedEntity.primitive,s=Number(e)-Number(t),a=Cesium.Transforms.eastNorthUpToFixedFrame(i.position,Cesium.Ellipsoid.WGS84,new Cesium.Matrix4),o=new Cesium.Cartesian3(0,s,0),n=Cesium.Matrix4.multiplyByPoint(a,o,new Cesium.Cartesian3);i.updatePosition(n)}},positionZ:function(e,t){if(""!=e&&viewer.selectedEntity){var i=viewer.selectedEntity.primitive,s=Number(e)-Number(t),a=Cesium.Transforms.eastNorthUpToFixedFrame(i.position,Cesium.Ellipsoid.WGS84,new Cesium.Matrix4),o=new Cesium.Cartesian3(0,0,s),n=Cesium.Matrix4.multiplyByPoint(a,o,new Cesium.Cartesian3);i.updatePosition(n)}}}},ds={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.addPoint,expression:"addPoint"}],staticClass:"sm-function-module-content"},[i("label",{staticClass:"sm-function-module-sub-section-setting"},[e._v(e._s(e.Resource.symbolicLibrary))]),e._v(" "),i("div",{staticClass:"symbolicLibrary"},e._l(e.divData,function(t,s){return i("div",{key:t.id,ref:"dom"+s,refInFor:!0,staticClass:"Thematicbox",attrs:{title:t.name},on:{mousedown:function(i){return i.stopPropagation(),e.move(i,s,t)}}},[i("img",{attrs:{src:t.thumbnail,alt:""}})])}),0),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.pointSymbolColor))]),e._v(" "),i("ColorPicker",{directives:[{name:"stopdrag",rawName:"v-stopdrag"}],staticClass:"sm-colorpicker",attrs:{editable:""},model:{value:e.pointColor,callback:function(t){e.pointColor=t},expression:"pointColor"}})],1),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.Xrotation))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.pitch,expression:"pitch"}],staticClass:"sm-input-long",attrs:{min:"-180",max:"180",step:"1.0",type:"number"},domProps:{value:e.pitch},on:{input:function(t){t.target.composing||(e.pitch=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.Yrotation))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.roll,expression:"roll"}],staticClass:"sm-input-long",attrs:{min:"-180",max:"180",step:"1.0",type:"number"},domProps:{value:e.roll},on:{input:function(t){t.target.composing||(e.roll=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.Zrotation))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.heading,expression:"heading"}],staticClass:"sm-input-long",attrs:{min:"-180",max:"180",step:"1.0",type:"number"},domProps:{value:e.heading},on:{input:function(t){t.target.composing||(e.heading=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.zoom))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.scale,expression:"scale"}],staticClass:"sm-input-long",attrs:{step:"0.1",min:"0.1",type:"number"},domProps:{value:e.scale},on:{input:function(t){t.target.composing||(e.scale=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.Xmobile))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.positionX,expression:"positionX"}],staticClass:"sm-input-long",attrs:{type:"number",step:"0.2"},domProps:{value:e.positionX},on:{input:function(t){t.target.composing||(e.positionX=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.Ymobile))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.positionY,expression:"positionY"}],staticClass:"sm-input-long",attrs:{type:"number",step:"0.2"},domProps:{value:e.positionY},on:{input:function(t){t.target.composing||(e.positionY=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.Zmobile))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.positionZ,expression:"positionZ"}],staticClass:"sm-input-long",attrs:{type:"number",step:"0.2"},domProps:{value:e.positionZ},on:{input:function(t){t.target.composing||(e.positionZ=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"boxchild",staticStyle:{"padding-left":"0"}},[i("span",{staticClass:"media-hidden",staticStyle:{"font-size":"12px",width:"100%"}},[e._v(e._s(e.Resource.EditingTips)+"\n    ")]),e._v(" "),i("button",{staticClass:"tbtn",attrs:{type:"button"},on:{click:e.clearPolygon}},[e._v("\n      "+e._s(e.Resource.eliminate)+"\n    ")])])])},staticRenderFns:[]};var us=i("VU/8")(cs,ds,!1,function(e){i("9ClR")},"data-v-d7b66c9c",null).exports,ms={name:"addPolyline",data:function(){return{sharedState:store.state,polylineType:0,isDestroyFlag:!0,fullLineColor:"#C8910A",fullLineWidth:5,dottedLineColor:"#C8910A",dottedLineWidth:5,dottedLineGapColor:"#0AC848",dottedLineDashLenght:16,oLineColor:"#C8910A",oLineWidth:5,outLineColor:"#1754E3",outLineWidth:2,arrowLineColor:"#C8910A",arrowLineWidth:5,glowLineColor:"#C8910A",glowLineWidth:5,glowLineStrength:.5,TrailLineColor:"#C8910A",TrailLineWidth:5,TrailLinePercentage:.3,TrailLinePeriod:2,isEdit:!1,isEditZ:!1,EditPositions:[],drawModle:"0",clampToGround:void 0,classificationType:void 0,height:void 0}},directives:{stopdrag:{inserted:function(e,t){e.onmousedown=function(e){e.stopPropagation()}}}},computed:{addpolyline:function(){return this.sharedState.onlineEdit[1]},onlineEditShow:function(){return this.sharedState.toolBar[8]},getIsEdit:function(){return this.sharedState.isEdit},getIsEditZ:function(){return this.sharedState.isEditZ}},mounted:function(){this.onlineEditShow&&this.addpolyline&&this.init()},methods:{init:function(){window.handlerPolyline||common.initHandler("Polyline")},polylineSelectType:function(e){this.polylineType=e},drawPolyline:function(){var e=this;this.isDestroyFlag=!1,window.handlerPolyline||this.init(),common.handlerDrawing("Polyline",2).then(function(t){e.positions=t.positions;var i=window.handlerPolyline;e.DrawPolylineUpdate(t.positions),i.polyline.show=!1,window.polylineTransparent.show=!1,i.deactivate(),e.isEdit&&common.Edit(e)},function(e){console.log(e)}),window.handlerPolyline.activate()},clearPolyline:function(){this.isDestroyFlag=!0,window.editHandler?window.editHandler._editObject&&0===window.editHandler._editObject.id.indexOf("polyline-symbol")&&viewer.entities.removeById(window.editHandler._editObject.id):viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("polyline-symbol")&&viewer.entities.removeById(viewer.selectedEntity.id),common.clearHandlerDrawing("Polyline")},DrawPolylineUpdate:function(e){switch(this.polylineType){case 0:var t=Cesium.Color.fromCssColorString(this.fullLineColor),i=Number(this.fullLineWidth);viewer.entities.add({id:"polyline-symbol-full-"+(new Date).getTime(),polyline:{positions:Cesium.Cartesian3.fromDegreesArrayHeights(e),width:i,material:t,height:this.height,clampToGround:this.clampToGround,classificationType:this.classificationType}});break;case 1:var s=Cesium.Color.fromCssColorString(this.dottedLineColor),a=Cesium.Color.fromCssColorString(this.dottedLineGapColor),o=Number(this.dottedLineWidth),n=Number(this.dottedLineDashLenght);viewer.entities.add({id:"polyline-symbol-dash-"+(new Date).getTime(),polyline:{positions:Cesium.Cartesian3.fromDegreesArrayHeights(e),width:o,material:new Cesium.PolylineDashMaterialProperty({color:s,gapColor:a,dashLength:n}),height:this.height,clampToGround:this.clampToGround,classificationType:this.classificationType}});break;case 2:var r=Cesium.Color.fromCssColorString(this.oLineColor),l=Cesium.Color.fromCssColorString(this.outLineColor),c=Number(this.oLineWidth),d=Number(this.outLineWidth);viewer.entities.add({id:"polyline-symbol-outline-"+(new Date).getTime(),polyline:{positions:Cesium.Cartesian3.fromDegreesArrayHeights(e),width:c,material:new Cesium.PolylineOutlineMaterialProperty({color:r,outlineWidth:d,outlineColor:l}),height:this.height,clampToGround:this.clampToGround,classificationType:this.classificationType}});break;case 3:var u=Cesium.Color.fromCssColorString(this.arrowLineColor),m=Number(this.arrowLineWidth);viewer.entities.add({id:"polyline-symbol-arrow-"+(new Date).getTime(),polyline:{positions:Cesium.Cartesian3.fromDegreesArrayHeights(e),width:m,followSurface:!1,material:new Cesium.PolylineArrowMaterialProperty(u),height:this.height,clampToGround:this.clampToGround,classificationType:this.classificationType}});break;case 4:var p=Cesium.Color.fromCssColorString(this.glowLineColor),h=Number(this.glowLineWidth),v=Number(this.glowLineStrength);viewer.entities.add({id:"polyline-symbol-glow-"+(new Date).getTime(),polyline:{positions:Cesium.Cartesian3.fromDegreesArrayHeights(e),width:h,material:new Cesium.PolylineGlowMaterialProperty({glowPower:v,color:p}),height:this.height,clampToGround:this.clampToGround,classificationType:this.classificationType}});break;case 5:var g=Cesium.Color.fromCssColorString(this.TrailLineColor),y=Number(this.TrailLineWidth),f=Number(this.TrailLinePercentage),C=Number(this.TrailLinePeriod);viewer.entities.add({id:"polyline-symbol-trail-"+(new Date).getTime(),polyline:{positions:Cesium.Cartesian3.fromDegreesArrayHeights(e),width:y,material:new Cesium.PolylineTrailMaterialProperty({color:g,trailLength:f,period:C}),height:this.height,clampToGround:this.clampToGround,classificationType:this.classificationType}})}},changeModle:function(e,t,i){window.editHandler?window.editHandler._editObject&&0===window.editHandler._editObject.id.indexOf("polyline-symbol")&&(window.editHandler._editObject.polyline.clampToGround=e,window.editHandler._editObject.polyline.height=t,window.editHandler._editObject.polyline.classificationType=i):viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("polyline-symbol")&&(viewer.selectedEntity.polyline.clampToGround=e,viewer.selectedEntity.polyline.height=t,viewer.selectedEntity.polyline.classificationType=i)}},watch:{getIsEdit:function(e){this.isEdit=e},getIsEditZ:function(e){this.isEditZ=e},isEdit:function(e){this.addpolyline&&(e?common.Edit(this):common.clearEditHandler(),store.setIsEdit(e))},isEditZ:function(e){this.addpolyline&&(window.editHandler&&(window.editHandler.isEditZ=e),store.setIsEditZ(e))},addpolyline:function(e){e&&this.init()},onlineEditShow:function(e){e&&this.addpolyline&&this.init()},fullLineColor:function(e){var t=Cesium.Color.fromCssColorString(e);viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("polyline-symbol-full")&&(viewer.selectedEntity.polyline.material=t)},fullLineWidth:function(e){""==e&&Number(e)<=0||viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("polyline-symbol-full")&&(viewer.selectedEntity.polyline.width=Number(e))},dottedLineColor:function(e){var t=Cesium.Color.fromCssColorString(e);viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("polyline-symbol-dash")&&(viewer.selectedEntity.polyline.material.color=t)},dottedLineWidth:function(e){""==e&&Number(e)<=0||viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("polyline-symbol-dash")&&(viewer.selectedEntity.polyline.width=Number(e))},dottedLineGapColor:function(e){var t=Cesium.Color.fromCssColorString(e);viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("polyline-symbol-dash")&&(viewer.selectedEntity.polyline.material.gapColor=t)},dottedLineDashLenght:function(e){""==e&&Number(e)<=0||viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("polyline-symbol-dash")&&(viewer.selectedEntity.polyline.material.dashLength=Number(e))},oLineColor:function(e){var t=Cesium.Color.fromCssColorString(e);viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("polyline-symbol-outline")&&(viewer.selectedEntity.polyline.material.color=t)},oLineWidth:function(e){""==e&&Number(e)<=0||viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("polyline-symbol-outline")&&(viewer.selectedEntity.polyline.width=Number(e))},outLineColor:function(e){var t=Cesium.Color.fromCssColorString(e);viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("polyline-symbol-outline")&&(viewer.selectedEntity.polyline.material.outlineColor=t)},outLineWidth:function(e){""==e&&Number(e)<=0||viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("polyline-symbol-outline")&&(viewer.selectedEntity.polyline.material.outlineWidth=Number(e))},arrowLineColor:function(e){var t=Cesium.Color.fromCssColorString(e);viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("polyline-symbol-arrow")&&(viewer.selectedEntity.polyline.material.color=t)},arrowLineWidth:function(e){""==e&&Number(e)<=0||viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("polyline-symbol-arrow")&&(viewer.selectedEntity.polyline.width=Number(e))},glowLineColor:function(e){var t=Cesium.Color.fromCssColorString(e);viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("polyline-symbol-glow")&&(viewer.selectedEntity.polyline.material.color=t)},glowLineWidth:function(e){""==e&&Number(e)<=0||viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("polyline-symbol-glow")&&(viewer.selectedEntity.polyline.width=Number(e))},glowLineStrength:function(e){""==e&&Number(e)<=0||viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("polyline-symbol-glow")&&(viewer.selectedEntity.polyline.material.glowPower=Number(e))},TrailLineColor:function(e){var t=Cesium.Color.fromCssColorString(e);viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("polyline-symbol-trail")&&(viewer.selectedEntity.polyline.material.color=t)},TrailLineWidth:function(e){""==e&&Number(e)<=0||viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("polyline-symbol-trail")&&(viewer.selectedEntity.polyline.width=Number(e))},TrailLinePercentage:function(e){""==e&&Number(e)<=0||viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("polyline-symbol-trail")&&(viewer.selectedEntity.polyline.material.trailLength=Number(e))},drawModle:function(e){switch(e){case"0":this.clampToGround=void 0,this.classificationType=void 0,this.height=void 0,this.changeModle(void 0,this.height,void 0);break;case"1":this.clampToGround=!0,this.height=0,this.classificationType=Cesium.ClassificationType.TERRAIN,this.changeModle(!0,this.height,Cesium.ClassificationType.TERRAIN);break;case"2":this.clampToGround=!0,this.height=void 0,this.classificationType=Cesium.ClassificationType.S3M_TILE,this.changeModle(!0,this.height,Cesium.ClassificationType.S3M_TILE);break;default:this.clampToGround=void 0,this.classificationType=void 0,this.height=void 0,this.changeModle(void 0,this.height,void 0)}}}},ps={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.addpolyline,expression:"addpolyline"}],staticClass:"sm-function-module-content"},[i("label",{staticClass:"sm-function-module-sub-section-setting"},[e._v(e._s(e.Resource.symbolicLibrary))]),e._v(" "),i("div",{staticClass:"symbolicLibrary"},[i("div",{staticClass:"Thematicbox",class:{lightSelected:0===e.polylineType},on:{click:function(t){return e.polylineSelectType(0)}}},[e._m(0),e._v("\n      "+e._s(e.Resource.fulline)+"\n    ")]),e._v(" "),i("div",{staticClass:"Thematicbox",class:{lightSelected:1===e.polylineType},on:{click:function(t){return e.polylineSelectType(1)}}},[e._m(1),e._v("\n      "+e._s(e.Resource.Virtuallinear)+"\n    ")]),e._v(" "),i("div",{staticClass:"Thematicbox",class:{lightSelected:2===e.polylineType},on:{click:function(t){return e.polylineSelectType(2)}}},[e._m(2),e._v("\n      "+e._s(e.Resource.contourline)+"\n    ")]),e._v(" "),i("div",{staticClass:"Thematicbox",class:{lightSelected:3===e.polylineType},on:{click:function(t){return e.polylineSelectType(3)}}},[e._m(3),e._v("\n      "+e._s(e.Resource.arrowline)+"\n    ")]),e._v(" "),i("div",{staticClass:"Thematicbox",class:{lightSelected:4===e.polylineType},on:{click:function(t){return e.polylineSelectType(4)}}},[e._m(4),e._v("\n      "+e._s(e.Resource.Haloline)+"\n    ")]),e._v(" "),i("div",{staticClass:"Thematicbox",class:{lightSelected:5===e.polylineType},on:{click:function(t){return e.polylineSelectType(5)}}},[e._m(5),e._v("\n      "+e._s(e.Resource.Wakeline)+"\n    ")])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:0===e.polylineType,expression:"polylineType === 0"}]},[i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.polylineSymbolLineColor))]),e._v(" "),i("ColorPicker",{directives:[{name:"stopdrag",rawName:"v-stopdrag"}],staticClass:"sm-colorpicker",attrs:{editable:""},model:{value:e.fullLineColor,callback:function(t){e.fullLineColor=t},expression:"fullLineColor"}})],1),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.LineWidthPixel))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.fullLineWidth,expression:"fullLineWidth"}],staticClass:"sm-input-long",attrs:{min:"1",step:"1.0",type:"number"},domProps:{value:e.fullLineWidth},on:{input:function(t){t.target.composing||(e.fullLineWidth=t.target.value)}}})])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1===e.polylineType,expression:"polylineType === 1"}]},[i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.polylineSymbolLineColor))]),e._v(" "),i("ColorPicker",{directives:[{name:"stopdrag",rawName:"v-stopdrag"}],staticClass:"sm-colorpicker",attrs:{editable:""},model:{value:e.dottedLineColor,callback:function(t){e.dottedLineColor=t},expression:"dottedLineColor"}})],1),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.LineWidthPixel))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.dottedLineWidth,expression:"dottedLineWidth"}],staticClass:"sm-input-long",attrs:{min:"1",step:"1.0",type:"number"},domProps:{value:e.dottedLineWidth},on:{input:function(t){t.target.composing||(e.dottedLineWidth=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.polylineSymbolGapColor))]),e._v(" "),i("ColorPicker",{directives:[{name:"stopdrag",rawName:"v-stopdrag"}],staticClass:"sm-colorpicker",attrs:{editable:""},model:{value:e.dottedLineGapColor,callback:function(t){e.dottedLineGapColor=t},expression:"dottedLineGapColor"}})],1),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.polylineDashSectionLength))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.dottedLineDashLenght,expression:"dottedLineDashLenght"}],staticClass:"sm-input-long",attrs:{min:"1",step:"1.0",type:"number"},domProps:{value:e.dottedLineDashLenght},on:{input:function(t){t.target.composing||(e.dottedLineDashLenght=t.target.value)}}})])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:2===e.polylineType,expression:"polylineType === 2"}]},[i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.polylineSymbolLineColor))]),e._v(" "),i("ColorPicker",{directives:[{name:"stopdrag",rawName:"v-stopdrag"}],staticClass:"sm-colorpicker",attrs:{editable:""},model:{value:e.oLineColor,callback:function(t){e.oLineColor=t},expression:"oLineColor"}})],1),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.LineWidthPixel))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.oLineWidth,expression:"oLineWidth"}],staticClass:"sm-input-long",attrs:{min:"1",step:"1.0",type:"number"},domProps:{value:e.oLineWidth},on:{input:function(t){t.target.composing||(e.oLineWidth=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.polylineSymbolOutlineColor))]),e._v(" "),i("ColorPicker",{directives:[{name:"stopdrag",rawName:"v-stopdrag"}],staticClass:"sm-colorpicker",attrs:{editable:""},model:{value:e.outLineColor,callback:function(t){e.outLineColor=t},expression:"outLineColor"}})],1),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.polylineSymbolOutlineWdith))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.outLineWidth,expression:"outLineWidth"}],staticClass:"sm-input-long",attrs:{min:"1",step:"1.0",type:"number"},domProps:{value:e.outLineWidth},on:{input:function(t){t.target.composing||(e.outLineWidth=t.target.value)}}})])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:3===e.polylineType,expression:"polylineType === 3"}]},[i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.polylineSymbolLineColor))]),e._v(" "),i("ColorPicker",{directives:[{name:"stopdrag",rawName:"v-stopdrag"}],staticClass:"sm-colorpicker",attrs:{editable:""},model:{value:e.arrowLineColor,callback:function(t){e.arrowLineColor=t},expression:"arrowLineColor"}})],1),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.LineWidthPixel))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.arrowLineWidth,expression:"arrowLineWidth"}],staticClass:"sm-input-long",attrs:{min:"1",step:"1.0",type:"number"},domProps:{value:e.arrowLineWidth},on:{input:function(t){t.target.composing||(e.arrowLineWidth=t.target.value)}}})])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:4===e.polylineType,expression:"polylineType === 4"}]},[i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.polylineSymbolLineColor))]),e._v(" "),i("ColorPicker",{directives:[{name:"stopdrag",rawName:"v-stopdrag"}],staticClass:"sm-colorpicker",attrs:{editable:""},model:{value:e.glowLineColor,callback:function(t){e.glowLineColor=t},expression:"glowLineColor"}})],1),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.LineWidthPixel))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.glowLineWidth,expression:"glowLineWidth"}],staticClass:"sm-input-long",attrs:{min:"1",step:"1.0",type:"number"},domProps:{value:e.glowLineWidth},on:{input:function(t){t.target.composing||(e.glowLineWidth=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.polylineSymbolGlowPower))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.glowLineStrength,expression:"glowLineStrength"}],staticClass:"sm-input-long",attrs:{min:"0.05",max:"1",step:"0.05",type:"number"},domProps:{value:e.glowLineStrength},on:{input:function(t){t.target.composing||(e.glowLineStrength=t.target.value)}}})])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:5===e.polylineType,expression:"polylineType === 5"}]},[i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.polylineSymbolLineColor))]),e._v(" "),i("ColorPicker",{directives:[{name:"stopdrag",rawName:"v-stopdrag"}],staticClass:"sm-colorpicker",attrs:{editable:""},model:{value:e.TrailLineColor,callback:function(t){e.TrailLineColor=t},expression:"TrailLineColor"}})],1),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.LineWidthPixel))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.TrailLineWidth,expression:"TrailLineWidth"}],staticClass:"sm-input-long",attrs:{min:"1",step:"1",type:"number"},domProps:{value:e.TrailLineWidth},on:{input:function(t){t.target.composing||(e.TrailLineWidth=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.polylineTrailPercent))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.TrailLinePercentage,expression:"TrailLinePercentage"}],staticClass:"sm-input-long",attrs:{min:"0.1",max:"1",step:"0.1",type:"number"},domProps:{value:e.TrailLinePercentage},on:{input:function(t){t.target.composing||(e.TrailLinePercentage=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.pattern))]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.drawModle,expression:"drawModle"}],staticClass:"sm-select sm-select-s",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.drawModle=t.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"0"}},[e._v(e._s(e.Resource.Space))]),e._v(" "),i("option",{attrs:{value:"1"}},[e._v(e._s(e.Resource.Stick))]),e._v(" "),i("option",{attrs:{value:"2"}},[e._v(e._s(e.Resource.PostObject))])])]),e._v(" "),i("div",{staticClass:"flexbox"},[i("label",{staticClass:"sm-viewshed-label-right"},[e._v(e._s(e.Resource.edit))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.isEdit,expression:"isEdit"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isEdit)?e._i(e.isEdit,null)>-1:e.isEdit},on:{change:function(t){var i=e.isEdit,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.isEdit=i.concat([null])):o>-1&&(e.isEdit=i.slice(0,o).concat(i.slice(o+1)))}else e.isEdit=a}}}),e._v(" "),i("label",{staticClass:"sm-viewshed-label-right"},[e._v(e._s(e.Resource.editZ))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.isEditZ,expression:"isEditZ"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isEditZ)?e._i(e.isEditZ,null)>-1:e.isEditZ},on:{change:function(t){var i=e.isEditZ,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.isEditZ=i.concat([null])):o>-1&&(e.isEditZ=i.slice(0,o).concat(i.slice(o+1)))}else e.isEditZ=a}}})]),e._v(" "),i("span",{staticClass:"media-hidden",staticStyle:{"font-size":"12px",width:"100%"}},[e._v(e._s(e.Resource.EditingTips))]),e._v(" "),i("div",{staticClass:"boxchild"},[i("button",{staticClass:"tbtn tbn1",attrs:{type:"button"},on:{click:e.drawPolyline}},[e._v("\n      "+e._s(e.Resource.draw)+"\n    ")]),e._v(" "),i("button",{staticClass:"tbtn",attrs:{type:"button"},on:{click:e.clearPolyline}},[e._v("\n      "+e._s(e.Resource.eliminate)+"\n    ")])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"minbox",attrs:{id:"pointLight"}},[t("span",{staticClass:"iconfont iconshixian"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"minbox",attrs:{id:"spotLight"}},[t("span",{staticClass:"iconfont iconxuxian"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"minbox",attrs:{id:"directionalLight"}},[t("span",{staticClass:"iconfont iconlunkuoxian"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"minbox",attrs:{id:"spotLight"}},[t("span",{staticClass:"iconfont iconjiantouxian"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"minbox",attrs:{id:"directionalLight"}},[t("span",{staticClass:"iconfont iconguangyunxian"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"minbox",attrs:{id:"spotLight"}},[t("span",{staticClass:"iconfont iconweijixian"})])}]};var hs=i("VU/8")(ms,ps,!1,function(e){i("OqnT")},"data-v-2a4b65c6",null).exports,vs={name:"addPolygon",data:function(){return{sharedState:store.state,polygonType:0,isDestroyFlag:!0,SolidColor:"#C8910A",gridColor:"#C8910A",gridWidth:1,gridCount:8,gridCellAlpha:.1,StripeEvenColor:"#C8910A",StripeOddColor:"#0A15C8",StripeRepeat:12,StripeOffset:0,StripeOrientation:"0",isEdit:!1,isEditZ:!1,EditPositions:[],drawModle:"0",perPositionHeight:!0,height:void 0,classificationType:Cesium.ClassificationType.S3M_TILE}},directives:{stopdrag:{inserted:function(e,t){e.onmousedown=function(e){e.stopPropagation()}}}},computed:{addpolygon:function(){return this.sharedState.onlineEdit[2]},onlineEditShow:function(){return this.sharedState.toolBar[8]},getIsEdit:function(){return this.sharedState.isEdit},getIsEditZ:function(){return this.sharedState.isEditZ}},mounted:function(){},methods:{polygonSelectType:function(e){this.polygonType=e},drawPolygon:function(){var e=this;this.isDestroyFlag=!1,window.handlerPolygon||common.initHandler("Polygon"),common.handlerDrawing("Polygon",2).then(function(t){e.positions=t.positions;var i=window.handlerPolygon;e.DrawPolygonUpdate(t.positions),i.polygon.show=!1,i.polyline.show=!1,window.polylineTransparent.show=!1,i.deactivate(),e.isEdit&&common.Edit(e)},function(e){console.log(e)}),window.handlerPolygon.activate()},DrawPolygonUpdate:function(e){switch(this.polygonType){case 0:var t=Cesium.Color.fromCssColorString(this.SolidColor);viewer.entities.add({id:"polygon-symbol-pure-"+(new Date).getTime(),polygon:{hierarchy:{positions:Cesium.Cartesian3.fromDegreesArrayHeights(e)},material:t,perPositionHeight:this.perPositionHeight,height:this.height},classificationType:this.classificationType});break;case 1:var i=Cesium.Color.fromCssColorString(this.gridColor),s=Number(this.gridCellAlpha),a=Number(this.gridCount),o=Number(this.gridWidth),n=Number(this.gridCellAlpha);viewer.entities.add({id:"polygon-symbol-grid-"+(new Date).getTime(),polygon:{hierarchy:{positions:Cesium.Cartesian3.fromDegreesArrayHeights(e)},material:new Cesium.GridMaterialProperty({color:i,cellAlpha:s,lineCount:new Cesium.Cartesian2(a,a),lineThickness:new Cesium.Cartesian2(o,o),lineOffset:new Cesium.Cartesian2(n,n)}),perPositionHeight:this.perPositionHeight,height:this.height},classificationType:this.classificationType});break;case 2:var r=Cesium.Color.fromCssColorString(this.StripeEvenColor),l=Cesium.Color.fromCssColorString(this.StripeOddColor),c=Number(this.StripeRepeat),d=Number(this.StripeOffset),u=Number(this.StripeOrientation);viewer.entities.add({id:"polygon-symbol-stripe-"+(new Date).getTime(),polygon:{hierarchy:{positions:Cesium.Cartesian3.fromDegreesArrayHeights(e)},material:new Cesium.StripeMaterialProperty({evenColor:r,oddColor:l,repeat:c,offset:d,orientation:u}),perPositionHeight:this.perPositionHeight,height:this.height},classificationType:this.classificationType})}},clearPolygon:function(){window.editHandler?window.editHandler._editObject&&0===window.editHandler._editObject.id.indexOf("polygon-symbol")&&viewer.entities.removeById(window.editHandler._editObject.id):viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("polygon-symbol")&&viewer.entities.removeById(viewer.selectedEntity.id),common.clearHandlerDrawing()},changeModle:function(e,t,i){window.editHandler?window.editHandler._editObject&&0===window.editHandler._editObject.id.indexOf("polygon-symbol")&&(window.editHandler._editObject.polygon.perPositionHeight=e,window.editHandler._editObject.polygon.height=t,window.editHandler._editObject.classificationType=i):viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("polygon-symbol")&&(viewer.selectedEntity.polygon.perPositionHeight=e,viewer.selectedEntity.polygon.height=t,viewer.selectedEntity.classificationType=i)}},watch:{getIsEdit:function(e){this.isEdit=e},getIsEditZ:function(e){this.isEditZ=e},isEdit:function(e){this.addpolygon&&(e?common.Edit(this):common.clearEditHandler(),store.setIsEdit(e))},isEditZ:function(e){this.addpolygon&&(window.editHandler&&(window.editHandler.isEditZ=e),store.setIsEditZ(e))},SolidColor:function(e){var t=Cesium.Color.fromCssColorString(e);viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("polygon-symbol-pure")&&(viewer.selectedEntity.polygon.material=t)},gridColor:function(e){var t=Cesium.Color.fromCssColorString(e);viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("polygon-symbol-grid")&&(viewer.selectedEntity.polygon.material.color=t)},StripeEvenColor:function(e){var t=Cesium.Color.fromCssColorString(e);viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("polygon-symbol-stripe")&&(viewer.selectedEntity.polygon.material.evenColor=t)},StripeOddColor:function(e){var t=Cesium.Color.fromCssColorString(e);viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("polygon-symbol-stripe")&&(viewer.selectedEntity.polygon.material.oddColor=t)},gridWidth:function(e){""==e&&Number(e)<=0||viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("polygon-symbol-grid")&&(viewer.selectedEntity.polygon.material.lineThickness=new Cesium.Cartesian2(Number(e),Number(e)))},gridCount:function(e){""==e&&Number(e)<=0||viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("polygon-symbol-grid")&&(viewer.selectedEntity.polygon.material.lineCount=new Cesium.Cartesian2(Number(e),Number(e)))},gridCellAlpha:function(e){""==e&&Number(e)<=0||viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("polygon-symbol-grid")&&(viewer.selectedEntity.polygon.material.cellAlpha=Number(e))},StripeRepeat:function(e){""==e&&Number(e)<=0||viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("polygon-symbol-stripe")&&(viewer.selectedEntity.polygon.material.repeat=Number(e))},StripeOffset:function(e){""==e&&Number(e)<=0||viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("polygon-symbol-stripe")&&(viewer.selectedEntity.polygon.material.offset=Number(e))},StripeOrientation:function(e){viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("polygon-symbol-stripe")&&(viewer.selectedEntity.polygon.material.orientation=Number(e))},drawModle:function(e){switch(e){case"0":this.perPositionHeight=!0,this.height=void 0,this.classificationType=void 0,this.changeModle(!0,this.height,void 0);break;case"1":this.perPositionHeight=!1,this.height=2,this.classificationType=Cesium.ClassificationType.TERRAIN,this.changeModle(!1,this.height,Cesium.ClassificationType.TERRAIN);break;case"2":this.perPositionHeight=!1,this.height=void 0,this.classificationType=Cesium.ClassificationType.S3M_TILE,this.changeModle(void 0,this.height,Cesium.ClassificationType.S3M_TILE);break;default:this.perPositionHeight=!0,this.height=void 0,this.classificationType=void 0,this.changeModle(!0,this.height,void 0)}}}},gs={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.addpolygon,expression:"addpolygon"}],staticClass:"sm-function-module-content"},[i("label",{staticClass:"sm-function-module-sub-section-setting"},[e._v(e._s(e.Resource.symbolicLibrary))]),e._v(" "),i("div",{staticClass:"symbolicLibrary"},[i("div",{staticClass:"Thematicbox",class:{lightSelected:0===e.polygonType},on:{click:function(t){return e.polygonSelectType(0)}}},[e._m(0),e._v("\n      "+e._s(e.Resource.pureColor)+"\n    ")]),e._v(" "),i("div",{staticClass:"Thematicbox",class:{lightSelected:1===e.polygonType},on:{click:function(t){return e.polygonSelectType(1)}}},[e._m(1),e._v("\n      "+e._s(e.Resource.gridding)+"\n    ")]),e._v(" "),i("div",{staticClass:"Thematicbox",class:{lightSelected:2===e.polygonType},on:{click:function(t){return e.polygonSelectType(2)}}},[e._m(2),e._v("\n      "+e._s(e.Resource.stripe)+"\n    ")])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:0===e.polygonType,expression:"polygonType === 0"}]},[i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.polygonSymbolColor))]),e._v(" "),i("ColorPicker",{directives:[{name:"stopdrag",rawName:"v-stopdrag"}],staticClass:"sm-colorpicker",attrs:{editable:""},model:{value:e.SolidColor,callback:function(t){e.SolidColor=t},expression:"SolidColor"}})],1)]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1===e.polygonType,expression:"polygonType === 1"}]},[i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.polygonSymbolColor))]),e._v(" "),i("ColorPicker",{directives:[{name:"stopdrag",rawName:"v-stopdrag"}],staticClass:"sm-colorpicker",attrs:{editable:""},model:{value:e.gridColor,callback:function(t){e.gridColor=t},expression:"gridColor"}})],1),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.polygonSymbolGridLineThickness))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.gridWidth,expression:"gridWidth"}],staticClass:"sm-input-long",attrs:{min:"1",step:"1.0",type:"number"},domProps:{value:e.gridWidth},on:{input:function(t){t.target.composing||(e.gridWidth=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.polygonSymbolGridLineCount))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.gridCount,expression:"gridCount"}],staticClass:"sm-input-long",attrs:{min:"2",step:"1.0",type:"number"},domProps:{value:e.gridCount},on:{input:function(t){t.target.composing||(e.gridCount=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.polygonSymbolGridCellAlpha))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.gridCellAlpha,expression:"gridCellAlpha"}],staticClass:"sm-input-long",attrs:{min:"0.1",max:"1",step:"0.1",type:"number"},domProps:{value:e.gridCellAlpha},on:{input:function(t){t.target.composing||(e.gridCellAlpha=t.target.value)}}})])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:2===e.polygonType,expression:"polygonType === 2"}]},[i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.polygonSymbolStripeEvenColor))]),e._v(" "),i("ColorPicker",{directives:[{name:"stopdrag",rawName:"v-stopdrag"}],staticClass:"sm-colorpicker",attrs:{editable:""},model:{value:e.StripeEvenColor,callback:function(t){e.StripeEvenColor=t},expression:"StripeEvenColor"}})],1),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.polygonSymbolStripeOddColor))]),e._v(" "),i("ColorPicker",{directives:[{name:"stopdrag",rawName:"v-stopdrag"}],staticClass:"sm-colorpicker",attrs:{editable:""},model:{value:e.StripeOddColor,callback:function(t){e.StripeOddColor=t},expression:"StripeOddColor"}})],1),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.polygonSymbolStripeRepeat))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.StripeRepeat,expression:"StripeRepeat"}],staticClass:"sm-input-long",attrs:{min:"1",step:"1.0",type:"number"},domProps:{value:e.StripeRepeat},on:{input:function(t){t.target.composing||(e.StripeRepeat=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.polygonSymbolStripeOffset))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.StripeOffset,expression:"StripeOffset"}],staticClass:"sm-input-long",attrs:{min:"0",step:"1.0",type:"number"},domProps:{value:e.StripeOffset},on:{input:function(t){t.target.composing||(e.StripeOffset=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.polygonSymbolStripeOrientation))]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.StripeOrientation,expression:"StripeOrientation"}],staticClass:"sm-select",attrs:{id:"stopList"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.StripeOrientation=t.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"0"}},[e._v(e._s(e.Resource.horizontal))]),e._v(" "),i("option",{attrs:{value:"1"}},[e._v(e._s(e.Resource.vertical))])])])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.pattern))]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.drawModle,expression:"drawModle"}],staticClass:"sm-select sm-select-s",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.drawModle=t.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"0"}},[e._v(e._s(e.Resource.Space))]),e._v(" "),i("option",{attrs:{value:"1"}},[e._v(e._s(e.Resource.Stick))]),e._v(" "),i("option",{attrs:{value:"2"}},[e._v(e._s(e.Resource.PostObject))])])]),e._v(" "),i("div",{staticClass:"flexbox"},[i("label",{staticClass:"sm-viewshed-label-right"},[e._v(e._s(e.Resource.edit))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.isEdit,expression:"isEdit"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isEdit)?e._i(e.isEdit,null)>-1:e.isEdit},on:{change:function(t){var i=e.isEdit,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.isEdit=i.concat([null])):o>-1&&(e.isEdit=i.slice(0,o).concat(i.slice(o+1)))}else e.isEdit=a}}}),e._v(" "),i("label",{staticClass:"sm-viewshed-label-right"},[e._v(e._s(e.Resource.editZ))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.isEditZ,expression:"isEditZ"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isEditZ)?e._i(e.isEditZ,null)>-1:e.isEditZ},on:{change:function(t){var i=e.isEditZ,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.isEditZ=i.concat([null])):o>-1&&(e.isEditZ=i.slice(0,o).concat(i.slice(o+1)))}else e.isEditZ=a}}})]),e._v(" "),i("span",{staticClass:"media-hidden",staticStyle:{"font-size":"12px",width:"100%"}},[e._v(e._s(e.Resource.EditingTips))]),e._v(" "),i("div",{staticClass:"boxchild"},[i("button",{staticClass:"tbtn tbn1",attrs:{type:"button"},on:{click:e.drawPolygon}},[e._v("\n      "+e._s(e.Resource.draw)+"\n    ")]),e._v(" "),i("button",{staticClass:"tbtn",attrs:{type:"button"},on:{click:e.clearPolygon}},[e._v("\n      "+e._s(e.Resource.eliminate)+"\n    ")])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"minbox",attrs:{id:"pointLight"}},[t("span",{staticClass:"iconfont iconchunse"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"minbox",attrs:{id:"spotLight"}},[t("span",{staticClass:"iconfont iconwangge"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"minbox",attrs:{id:"directionalLight"}},[t("span",{staticClass:"iconfont icontiaowen"})])}]};var ys=i("VU/8")(vs,gs,!1,function(e){i("LfC/")},"data-v-0924b0b4",null).exports,fs={name:"AddGeometry",data:function(){return{sharedState:store.state,GeometryType:0,isDestroyFlag:!0,semiMinorAxis:10,semiMajorAxis:10,extrudedHeight:50,granularity:1,rotation:0,cylinderColor:"#c8910a",boxLength:20,boxWidth:20,boxHeight:20,boxColor:"#120AC8",xRadii:20,yRadii:20,zRadii:20,ballColor:"#c80a46",cylinderLength:40,bottomRadius:20,coneColor:"#0AC8AE",drawModle:"0",fill:!0,outline:!1,index:null}},directives:{stopdrag:{inserted:function(e,t){e.onmousedown=function(e){e.stopPropagation()}}}},computed:{addGeometry:function(){return this.sharedState.onlineEdit[3]},onlineEditShow:function(){return this.sharedState.toolBar[8]}},mounted:function(){this.onlineEditShow&&this.addGeometry&&this.init()},methods:{GeometrySelectType:function(e){this.GeometryType=e},init:function(){window.handlerPoint||common.initHandler("Point")},drawGeometry:function(){var e=this;this.isDestroyFlag=!1,common.handlerDrawing("Point").then(function(t){e.DrawUpdate(t.result.object._position),window.handlerPoint.deactivate()}),window.handlerPoint&&window.handlerPoint.activate()},DrawUpdate:function(e){switch(this.GeometryType){case 0:var t=Cesium.Color.fromCssColorString(this.cylinderColor);viewer.entities.add({id:"Geometry-symbol-Cylinder-"+(new Date).getTime(),position:e,ellipse:{semiMinorAxis:this.semiMinorAxis,semiMajorAxis:this.semiMajorAxis,height:0,extrudedHeight:this.extrudedHeight,material:t,granularity:parseFloat(this.granularity*Cesium.Math.RADIANS_PER_DEGREE),rotation:this.rotation,fill:this.fill,outline:this.outline,outlineColor:Cesium.Color.BLACK,outlineWidth:4}});break;case 1:var i=Cesium.Color.fromCssColorString(this.boxColor),s=parseFloat(this.boxLength),a=parseFloat(this.boxWidth),o=parseFloat(this.boxHeight);viewer.entities.add({id:"Geometry-symbol-Box-"+(new Date).getTime(),position:e,box:{dimensions:new Cesium.Cartesian3(s,a,o),material:i,fill:this.fill,outline:this.outline,outlineColor:Cesium.Color.BLACK,outlineWidth:4}});break;case 2:var n=Cesium.Color.fromCssColorString(this.ballColor),r=Number(this.xRadii),l=Number(this.yRadii),c=Number(this.zRadii),d=Cesium.Cartographic.fromCartesian(e);d.height+=c;var u=Cesium.Cartesian3.fromRadians(d.longitude,d.latitude,d.height);viewer.entities.add({id:"Geometry-symbol-Ellipsoid-"+(new Date).getTime(),position:u,ellipsoid:{radii:new Cesium.Cartesian3(r,l,c),material:n,fill:this.fill,outline:this.outline,outlineColor:Cesium.Color.BLACK,outlineWidth:4}});break;case 3:var m=Cesium.Color.fromCssColorString(this.coneColor),p=Number(this.cylinderLength),h=Number(this.bottomRadius);viewer.entities.add({id:"Geometry-symbol-Cone-"+(new Date).getTime(),position:e,cylinder:{length:p,topRadius:0,bottomRadius:h,material:m,fill:this.fill,outline:this.outline,outlineColor:Cesium.Color.BLACK,outlineWidth:4}})}},clearGeometry:function(){viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("Geometry-symbol")&&viewer.entities.removeById(viewer.selectedEntity.id),common.clearHandlerDrawing("Point")},changeModle:function(e,t){if(viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("Geometry-symbol")){var i=void 0;switch(this.GeometryType){case 0:i="ellipse";break;case 1:i="box";break;case 2:i="ellipsoid";break;case 3:i="cylinder";break;default:i="ellipse"}viewer.selectedEntity[i].fill=e,viewer.selectedEntity[i].outline=t}}},watch:{onlineEditShow:function(e){e&&this.addGeometry&&this.init()},addGeometry:function(e){e&&this.onlineEditShow&&this.init()},cylinderColor:function(e){var t=Cesium.Color.fromCssColorString(e);viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("Geometry-symbol-Cylinder")&&(viewer.selectedEntity.ellipse.material=t)},boxColor:function(e){var t=Cesium.Color.fromCssColorString(e);viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("Geometry-symbol-Box")&&(viewer.selectedEntity.box.material=t)},ballColor:function(e){var t=Cesium.Color.fromCssColorString(e);viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("Geometry-symbol-Ellipsoid")&&(viewer.selectedEntity.ellipsoid.material=t)},coneColor:function(e){var t=Cesium.Color.fromCssColorString(e);viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("Geometry-symbol-Cone")&&(viewer.selectedEntity.cylinder.material=t)},semiMinorAxis:function(e){""==e&&Number(e)<=0||viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("Geometry-symbol-Cylinder")&&(Number(e)<=Number(this.semiMajorAxis)?viewer.selectedEntity.ellipse.semiMinorAxis=parseFloat(e):this.semiMajorAxis<100&&Number(e)>Number(this.semiMajorAxis)&&(this.semiMinorAxis=this.semiMajorAxis))},semiMajorAxis:function(e){""==e&&Number(e)<=0||viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("Geometry-symbol-Cylinder")&&(Number(e)>=Number(this.semiMajorAxis)?viewer.selectedEntity.ellipse.semiMajorAxis=parseFloat(e):this.semiMajorAxis=this.semiMinorAxis)},extrudedHeight:function(e){""==e&&Number(e)<=0||viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("Geometry-symbol-Cylinder")&&(viewer.selectedEntity.ellipse.extrudedHeight=parseFloat(e))},granularity:function(e){""==e&&Number(e)<=0||viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("Geometry-symbol-Cylinder")&&(viewer.selectedEntity.ellipse.granularity=parseFloat(e)*Cesium.Math.RADIANS_PER_DEGREE)},rotation:function(e){""==e&&Number(e)<=0||viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("Geometry-symbol-Cylinder")&&(viewer.selectedEntity.ellipse.rotation=parseFloat(e))},boxLength:function(e){""==e&&Number(e)<=0||viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("Geometry-symbol-Box")&&(viewer.selectedEntity.box.dimensions=new Cesium.Cartesian3(parseFloat(e),parseFloat(this.boxWidth),parseFloat(this.boxHeight)))},boxWidth:function(e){""==e&&Number(e)<=0||viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("Geometry-symbol-Box")&&(viewer.selectedEntity.box.dimensions=new Cesium.Cartesian3(parseFloat(this.boxLength),parseFloat(e),parseFloat(this.boxHeight)))},boxHeight:function(e){""==e&&Number(e)<=0||viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("Geometry-symbol-Box")&&(viewer.selectedEntity.box.dimensions=new Cesium.Cartesian3(parseFloat(this.boxLength),parseFloat(this.boxWidth),parseFloat(e)))},xRadii:function(e){""==e&&Number(e)<=0||viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("Geometry-symbol-Ellipsoid")&&(viewer.selectedEntity.ellipsoid.radii=new Cesium.Cartesian3(parseFloat(e),parseFloat(this.yRadii),parseFloat(this.zRadii)))},yRadii:function(e){""==e&&Number(e)<=0||viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("Geometry-symbol-Ellipsoid")&&(viewer.selectedEntity.ellipsoid.radii=new Cesium.Cartesian3(parseFloat(this.xRadii),parseFloat(e),parseFloat(this.zRadii)))},zRadii:function(e){""==e&&Number(e)<=0||viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("Geometry-symbol-Ellipsoid")&&(viewer.selectedEntity.ellipsoid.radii=new Cesium.Cartesian3(parseFloat(this.xRadii),parseFloat(this.yRadii),parseFloat(e)))},cylinderLength:function(e){""==e&&Number(e)<=0||viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("Geometry-symbol-Cone")&&(viewer.selectedEntity.cylinder.length=parseFloat(e))},bottomRadius:function(e){""==e&&Number(e)<=0||viewer.selectedEntity&&viewer.selectedEntity.id&&0===viewer.selectedEntity.id.indexOf("Geometry-symbol-Cone")&&(viewer.selectedEntity.cylinder.bottomRadius=parseFloat(e))},drawModle:function(e){switch(e){case"0":this.fill=!0,this.outline=!1,this.changeModle(!0,!1);break;case"1":this.fill=!1,this.outline=!0,this.changeModle(!1,!0);break;case"2":this.fill=!0,this.outline=!0,this.changeModle(!0,!0)}}}},Cs={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.addGeometry,expression:"addGeometry"}],staticClass:"sm-function-module-content"},[i("label",{staticClass:"sm-function-module-sub-section-setting"},[e._v(e._s(e.Resource.symbolicLibrary))]),e._v(" "),i("div",{staticClass:"symbolicLibrary"},[i("div",{staticClass:"Thematicbox",class:{lightSelected:0===e.GeometryType},on:{click:function(t){return e.GeometrySelectType(0)}}},[e._m(0),e._v("\n      "+e._s(e.Resource.Cylinder)+"\n    ")]),e._v(" "),i("div",{staticClass:"Thematicbox",class:{lightSelected:1===e.GeometryType},on:{click:function(t){return e.GeometrySelectType(1)}}},[e._m(1),e._v("\n      "+e._s(e.Resource.Cuboid)+"\n    ")]),e._v(" "),i("div",{staticClass:"Thematicbox",class:{lightSelected:2===e.GeometryType},on:{click:function(t){return e.GeometrySelectType(2)}}},[e._m(2),e._v("\n      "+e._s(e.Resource.Ball)+"\n    ")]),e._v(" "),i("div",{staticClass:"Thematicbox",class:{lightSelected:3===e.GeometryType},on:{click:function(t){return e.GeometrySelectType(3)}}},[e._m(3),e._v("\n      "+e._s(e.Resource.Cone)+"\n    ")])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:0===e.GeometryType,expression:"GeometryType === 0"}]},[i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.ShortHalfShaft))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.semiMinorAxis,expression:"semiMinorAxis"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{type:"range",min:"10",max:"100",step:"1"},domProps:{value:e.semiMinorAxis},on:{__r:function(t){e.semiMinorAxis=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.semiMinorAxis,expression:"semiMinorAxis"}],staticClass:"min-solider",staticStyle:{width:"34%",height:"25px","border-radius":"3px"},attrs:{type:"number",min:"10",max:"100",step:"1"},domProps:{value:e.semiMinorAxis},on:{input:function(t){t.target.composing||(e.semiMinorAxis=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.LongHalfShaft))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.semiMajorAxis,expression:"semiMajorAxis"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{type:"range",min:"10",max:"200",step:"1"},domProps:{value:e.semiMajorAxis},on:{__r:function(t){e.semiMajorAxis=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.semiMajorAxis,expression:"semiMajorAxis"}],staticClass:"min-solider",staticStyle:{width:"34%",height:"25px","border-radius":"3px"},attrs:{type:"number",min:"10",max:"200",step:"1"},domProps:{value:e.semiMajorAxis},on:{input:function(t){t.target.composing||(e.semiMajorAxis=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.StretchingHeight))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.extrudedHeight,expression:"extrudedHeight"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{type:"range",min:"10",max:"100",step:"10"},domProps:{value:e.extrudedHeight},on:{__r:function(t){e.extrudedHeight=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.extrudedHeight,expression:"extrudedHeight"}],staticClass:"min-solider",staticStyle:{width:"34%",height:"25px","border-radius":"3px"},attrs:{type:"number",min:"10",max:"100",step:"10"},domProps:{value:e.extrudedHeight},on:{input:function(t){t.target.composing||(e.extrudedHeight=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.Granularity))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.granularity,expression:"granularity"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{type:"range",min:"0.5",max:"2",step:"0.1"},domProps:{value:e.granularity},on:{__r:function(t){e.granularity=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.granularity,expression:"granularity"}],staticClass:"min-solider",staticStyle:{width:"34%",height:"25px","border-radius":"3px"},attrs:{type:"number",min:"0.5",max:"2",step:"0.1"},domProps:{value:e.granularity},on:{input:function(t){t.target.composing||(e.granularity=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.Spin))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.rotation,expression:"rotation"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{type:"range",min:"0",max:"90",step:"0.1"},domProps:{value:e.rotation},on:{__r:function(t){e.rotation=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.rotation,expression:"rotation"}],staticClass:"min-solider",staticStyle:{width:"34%",height:"25px","border-radius":"3px"},attrs:{type:"number",min:"0",max:"90",step:"0.1"},domProps:{value:e.rotation},on:{input:function(t){t.target.composing||(e.rotation=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.ThematicmapColor))]),e._v(" "),i("ColorPicker",{directives:[{name:"stopdrag",rawName:"v-stopdrag"}],staticClass:"sm-colorpicker half_color",attrs:{editable:""},model:{value:e.cylinderColor,callback:function(t){e.cylinderColor=t},expression:"cylinderColor"}})],1)]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1===e.GeometryType,expression:"GeometryType === 1"}]},[i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.length))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.boxLength,expression:"boxLength"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{type:"range",min:"10",max:"100",step:"1"},domProps:{value:e.boxLength},on:{__r:function(t){e.boxLength=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.boxLength,expression:"boxLength"}],staticClass:"min-solider",staticStyle:{width:"34%",height:"25px","border-radius":"3px"},attrs:{type:"number",min:"10",max:"100",step:"1"},domProps:{value:e.boxLength},on:{input:function(t){t.target.composing||(e.boxLength=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.width))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.boxWidth,expression:"boxWidth"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{type:"range",min:"10",max:"100",step:"1"},domProps:{value:e.boxWidth},on:{__r:function(t){e.boxWidth=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.boxWidth,expression:"boxWidth"}],staticClass:"min-solider",staticStyle:{width:"34%",height:"25px","border-radius":"3px"},attrs:{type:"number",min:"10",max:"100",step:"1"},domProps:{value:e.boxWidth},on:{input:function(t){t.target.composing||(e.boxWidth=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.height))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.boxHeight,expression:"boxHeight"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{type:"range",min:"10",max:"100",step:"1"},domProps:{value:e.boxHeight},on:{__r:function(t){e.boxHeight=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.boxHeight,expression:"boxHeight"}],staticClass:"min-solider",staticStyle:{width:"34%",height:"25px","border-radius":"3px"},attrs:{type:"number",min:"10",max:"100",step:"1"},domProps:{value:e.boxHeight},on:{input:function(t){t.target.composing||(e.boxHeight=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.ThematicmapColor))]),e._v(" "),i("ColorPicker",{directives:[{name:"stopdrag",rawName:"v-stopdrag"}],staticClass:"sm-colorpicker half_color",attrs:{editable:""},model:{value:e.boxColor,callback:function(t){e.boxColor=t},expression:"boxColor"}})],1)]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:2===e.GeometryType,expression:"GeometryType === 2"}]},[i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.Xradius))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.xRadii,expression:"xRadii"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{type:"range",min:"10",max:"100",step:"1"},domProps:{value:e.xRadii},on:{__r:function(t){e.xRadii=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.xRadii,expression:"xRadii"}],staticClass:"min-solider",staticStyle:{width:"34%",height:"25px","border-radius":"3px"},attrs:{type:"number",min:"10",max:"100",step:"1"},domProps:{value:e.xRadii},on:{input:function(t){t.target.composing||(e.xRadii=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.Yradius))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.yRadii,expression:"yRadii"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{type:"range",min:"10",max:"100",step:"1"},domProps:{value:e.yRadii},on:{__r:function(t){e.yRadii=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.yRadii,expression:"yRadii"}],staticClass:"min-solider",staticStyle:{width:"34%",height:"25px","border-radius":"3px"},attrs:{type:"number",min:"10",max:"100",step:"1"},domProps:{value:e.yRadii},on:{input:function(t){t.target.composing||(e.yRadii=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.Zradius))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.zRadii,expression:"zRadii"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{type:"range",min:"10",max:"100",step:"1"},domProps:{value:e.zRadii},on:{__r:function(t){e.zRadii=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.zRadii,expression:"zRadii"}],staticClass:"min-solider",staticStyle:{width:"34%",height:"25px","border-radius":"3px"},attrs:{type:"number",min:"10",max:"100",step:"1"},domProps:{value:e.zRadii},on:{input:function(t){t.target.composing||(e.zRadii=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.ThematicmapColor))]),e._v(" "),i("ColorPicker",{directives:[{name:"stopdrag",rawName:"v-stopdrag"}],staticClass:"sm-colorpicker half_color",attrs:{editable:""},model:{value:e.ballColor,callback:function(t){e.ballColor=t},expression:"ballColor"}})],1)]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:3===e.GeometryType,expression:"GeometryType === 3"}]},[i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.length))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.cylinderLength,expression:"cylinderLength"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{type:"range",min:"10",max:"100",step:"1"},domProps:{value:e.cylinderLength},on:{__r:function(t){e.cylinderLength=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.cylinderLength,expression:"cylinderLength"}],staticClass:"min-solider",staticStyle:{width:"34%",height:"25px","border-radius":"3px"},attrs:{type:"number",min:"10",max:"100",step:"1"},domProps:{value:e.cylinderLength},on:{input:function(t){t.target.composing||(e.cylinderLength=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.BottomRadius))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.bottomRadius,expression:"bottomRadius"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{type:"range",min:"10",max:"100",step:"1"},domProps:{value:e.bottomRadius},on:{__r:function(t){e.bottomRadius=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.bottomRadius,expression:"bottomRadius"}],staticClass:"min-solider",staticStyle:{width:"34%",height:"25px","border-radius":"3px"},attrs:{type:"number",min:"10",max:"100",step:"1"},domProps:{value:e.bottomRadius},on:{input:function(t){t.target.composing||(e.bottomRadius=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.ThematicmapColor))]),e._v(" "),i("ColorPicker",{directives:[{name:"stopdrag",rawName:"v-stopdrag"}],staticClass:"sm-colorpicker half_color",attrs:{editable:""},model:{value:e.coneColor,callback:function(t){e.coneColor=t},expression:"coneColor"}})],1)]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.pattern))]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.drawModle,expression:"drawModle"}],staticClass:"sm-select half_color",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.drawModle=t.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"0"}},[e._v(e._s(e.Resource.LayerFillMode))]),e._v(" "),i("option",{attrs:{value:"1"}},[e._v(e._s(e.Resource.LayerWireframeMode))]),e._v(" "),i("option",{attrs:{value:"2"}},[e._v(e._s(e.Resource.LayerFillAndWireframeMode))])])]),e._v(" "),i("span",{staticClass:"media-hidden",staticStyle:{"font-size":"12px",width:"100%"}},[e._v(e._s(e.Resource.EditingTips))]),e._v(" "),i("div",{staticClass:"boxchild"},[i("button",{staticClass:"tbtn tbn1",attrs:{type:"button"},on:{click:e.drawGeometry}},[e._v("\n      "+e._s(e.Resource.draw)+"\n    ")]),e._v(" "),i("button",{staticClass:"tbtn",attrs:{type:"button"},on:{click:e.clearGeometry}},[e._v("\n      "+e._s(e.Resource.eliminate)+"\n    ")])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"minbox"},[t("span",{staticClass:"iconfont icontianjiazhuti"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"minbox",attrs:{id:"spotLight"}},[t("span",{staticClass:"iconfont icontianjiachangfangti"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"minbox",attrs:{id:"directionalLight"}},[t("span",{staticClass:"iconfont icontianjiaqiuti"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"minbox",attrs:{id:"spotLight"}},[t("span",{staticClass:"iconfont icontianjiazhuiti"})])}]};var ws=i("VU/8")(fs,Cs,!1,function(e){i("/XtK")},"data-v-1f10e7bb",null).exports,bs=i("Zrlr"),Ss=i.n(bs),_s=i("wxAW"),xs=i.n(_s),Es=new Cesium.Cartesian2,Rs=new Cesium.Cartesian3,Ls=new Cesium.Cartesian3,As=new Cesium.Cartesian3,Ps=new Cesium.Cartesian3,Ts=new Cesium.Cartesian3,Ms=new Cesium.Cartesian3,Ds=new Cesium.Cartesian3,ks=new Cesium.Matrix4,Ns=new Cesium.Matrix4,Bs=new Cesium.Cartesian3,Is=new Cesium.Cartesian3,Fs=new Cesium.Ray,Os=void 0;function Hs(e,t){var i=e.viewer.scene,s=i.camera,a=i.canvas;Es.x=a.clientWidth/2,Es.y=a.clientHeight/2;var o=function(e,t){var i=e.viewer.scene,s=i.globe,a=i.camera;if(!Cesium.defined(s))return;var o=void 0;i.pickPositionSupported&&(o=i.pickPositionWorldCoordinates(t,Bs));var n=a.getPickRay(t,Fs),r=s.pick(n,i,Is),l=Cesium.defined(o)?Cesium.Cartesian3(o,a.positionWC):Number.POSITIVE_INFINITY,c=Cesium.defined(r)?Cesium.Cartesian3(r,a.positionWC):Number.POSITIVE_INFINITY;return l<c?o:r}(e,Es);if(Cesium.defined(o)){var n=Cesium.Cartesian3.distance(s.position,o),r=.0618*t*.2,l=n*(r=n>300?r:2*r);Cesium.Cartesian3.subtract(o,s.position,Rs);var c=Cesium.Cartesian3.dot(Rs,s.right);Cesium.Cartesian3.multiplyByScalar(s.right,c,Ls),Cesium.Cartesian3.subtract(Rs,Ls,As),Cesium.Cartesian3.normalize(As,Ps),s.move(Ps,l),Cesium.Cartesian3.normalize(o,Ts);var d=Cesium.Cartesian3.magnitude(o),u=Cesium.Ellipsoid.fromCartesian3(d);if(s.pickEllipsoid(Es,u,Ms),Cesium.defined(Ms)&&!isNaN(Ms.x)&&!isNaN(Ms.y)&&!isNaN(Ms.z)&&(Cesium.Cartesian3.normalize(Ms,Ms),!(s._positionCartographic.height<0))){var m=Cesium.Cartesian3.angleBetween(Ts,Ms);Cesium.CesiumMath.equalsEpsilon(m,0,Cesium.CesiumMath.EPSILON10)||(Cesium.Cartesian3.cross(Ts,Ms,Ds),s.rotate(Ds,m))}}}var Us=function(){function e(t){Ss()(this,e),this.viewer=t.viewer,this.scene=t.scene,this.heading=t.scene.camera.heading,this.defaultCameraPosition=new Cesium.Cartesian3.fromDegrees(110.60396458865515,34.54408834959379,30644793.325518917),this.viewerId=t.viewerId,this.viewerChanged=!0,this._unsubcribeFromPostRender=void 0;var i=this;this.zoomInTickFunction=function(){i.viewer.scene.mode===Cesium.SceneMode.COLUMBUS_VIEW?i.viewer.scene.camera.zoomIn():Hs(i,1)},this.zoomOutTickFunction=function(){i.viewer.scene.mode===Cesium.SceneMode.COLUMBUS_VIEW?i.viewer.scene.camera.zoomOut():Hs(i,-1)},this.zoomInMouseUpFunction=function(){Cesium.defined(i.zoomInTickFunction)&&(i.viewer.clock.onTick.removeEventListener(i.zoomInTickFunction),document.removeEventListener("mouseup",i.zoomInMouseUpFunction))},this.zoomOutMouseUpFunction=function(){Cesium.defined(i.zoomOutTickFunction)&&(i.viewer.clock.onTick.removeEventListener(i.zoomOutTickFunction),document.removeEventListener("mouseup",i.zoomOutMouseUpFunction))}}return xs()(e,[{key:"handleZoomInMouseDown",value:function(){Cesium.defined(this.zoomInTickFunction)&&(this.viewer.clock.onTick.removeEventListener(this.zoomInTickFunction),document.addEventListener("mouseup",this.zoomInMouseUpFunction)),this.viewer.clock.onTick.addEventListener(this.zoomInTickFunction),document.addEventListener("mouseup",this.zoomInMouseUpFunction)}},{key:"handleZoomOutMouseDown",value:function(){Cesium.defined(this.zoomOutTickFunction)&&(this.viewer.clock.onTick.removeEventListener(this.zoomOutTickFunction),document.addEventListener("mouseup",this.zoomOutMouseUpFunction)),this.viewer.clock.onTick.addEventListener(this.zoomOutTickFunction),document.addEventListener("mouseup",this.zoomOutMouseUpFunction)}},{key:"resetCameraPosition",value:function(){var e=this;this.viewer.camera.flyTo({destination:this.defaultCameraPosition});this.viewerChanged=!0,this.handleViewerChange(),this.viewer.clock.onTick.addEventListener(function t(){360===Cesium.Math.toDegrees(scene.camera.heading)&&(e.viewerChanged=!1,e.handleViewerChange(),e.viewer.clock.onTick.removeEventListener(t))})}},{key:"compassPointingNorth",value:function(){var e=this,t=this.scene;Es.x=t.canvas.clientWidth/2,Es.y=t.canvas.clientHeight/2;var i=viewer.scene.pickPosition(Es);if(i&&void 0===Os){var s=Cesium.Transforms.eastNorthUpToFixedFrame(i,t.globe.ellipsoid,ks),a=void 0;Os=setInterval(function(){var t=Cesium.Math.toDegrees(viewer.scene.camera.heading),i=Cesium.Matrix4.clone(viewer.scene.camera.transform,Ns);viewer.scene.camera.lookAtTransform(s),t>180&&t<360?(a=Cesium.Math.toRadians(360-t)/3,viewer.scene.camera.rotateLeft(a),viewer.scene.camera.lookAtTransform(i),360-t<1&&(e.viewerChanged=!1,e.handleViewerChange(),clearInterval(Os),Os=void 0)):(a=Cesium.Math.toRadians(t)/3,viewer.scene.camera.rotateRight(a),viewer.scene.camera.lookAtTransform(i),1-t>0&&(e.viewerChanged=!1,e.handleViewerChange(),clearInterval(Os),Os=void 0))},50),this.viewerChanged=!0,this.handleViewerChange()}}},{key:"handleViewerChange",value:function(){var e=this;Cesium.defined(this._unsubcribeFromPostRender)&&(this._unsubcribeFromPostRender(),this._unsubcribeFromPostRender=void 0),this.viewerChanged&&(this._unsubcribeFromPostRender=this.scene.postRender.addEventListener(function(){var t=Math.abs(e.scene.camera.heading-e.heading);if((t<Cesium.Math.PI_OVER_TWO||t>3*Cesium.Math.PI_OVER_TWO)&&(e.heading=e.scene.camera.heading,Cesium.defined(e.heading))){var i="rotate("+-Cesium.Math.toDegrees(e.heading)+"deg)";document.getElementById(e.viewerId).style.transform=i}}))}}]),e}(),zs={},Vs={name:"compass",data:function(){return{sharedState:store.state,isfull:!1}},computed:{isInitViewer:function(){return this.sharedState.isInitViewer},compassShow:function(){return this.sharedState.compass}},methods:{initCompass:function(){var e=new Cesium.ScreenSpaceEventHandler(viewer.scene.canvas);zs=new Us({viewer:viewer,scene:scene,viewerId:"compass"}),e.setInputAction(function(){zs.viewerChanged=!0,zs.handleViewerChange()},Cesium.ScreenSpaceEventType.MIDDLE_DOWN),e.setInputAction(function(){zs.viewerChanged=!1,zs.handleViewerChange()},Cesium.ScreenSpaceEventType.MIDDLE_UP),e.setInputAction(function(){zs.viewerChanged=!1,zs.handleViewerChange()},Cesium.ScreenSpaceEventType.LEFT_UP),e.setInputAction(function(){zs.viewerChanged=!0,zs.handleViewerChange()},Cesium.ScreenSpaceEventType.LEFT_DOWN)},reduceCompass:function(){zs.compassPointingNorth()},reset:function(){var e=new Cesium.Cartesian3.fromDegrees(110.60396458865515,34.54408834959379,30644793.325518917);zs.defaultCameraPosition=e,zs.resetCameraPosition()},fullscreenchange:function(){document.fullscreenElement?(this.isfull=!1,this.exitFullscreen()):(this.isfull=!0,this.launchFullscreen(document.documentElement))},zoomIn:function(){zs.handleZoomInMouseDown()},zoomOut:function(){zs.handleZoomOutMouseDown()},launchFullscreen:function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen?e.msRequestFullscreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()},exitFullscreen:function(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}},watch:{isInitViewer:function(e){e&&this.initCompass()}}},Gs={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.compassShow,expression:"compassShow"}],staticClass:"compass"},[i("div",{staticClass:"btnCompass",attrs:{title:e.Resource.compass},on:{click:e.reduceCompass}},[i("span",{staticClass:"iconfont iconiEarth-zhibeizhen-01 compasstb",staticStyle:{transform:"rotate(0deg)",display:"inline-block"},attrs:{id:"compass"}})]),e._v(" "),i("div",{staticClass:"btnCompass",attrs:{title:e.Resource.home},on:{click:e.reset}},[i("span",{staticClass:"iconfont iconzhongzhi compasstb"})]),e._v(" "),i("div",{staticClass:"btnCompass",attrs:{id:"zoomIn"},on:{mousedown:e.zoomIn}},[i("span",{staticClass:"iconfont iconfangda compasstb"})]),e._v(" "),i("div",{staticClass:"btnCompass",attrs:{id:"zoomOut"},on:{mousedown:e.zoomOut}},[i("span",{staticClass:"iconfont iconsuoxiao compasstb"})]),e._v(" "),i("div",{staticClass:"btnCompass",attrs:{title:e.Resource.fullScreen},on:{click:e.fullscreenchange}},[i("span",{staticClass:"iconfont compasstb",class:e.isfull?"iconICON_tuichuquanping":"iconquanping"})])])},staticRenderFns:[]};var js=i("VU/8")(Vs,Gs,!1,function(e){i("7hdx")},"data-v-9d070e52",null).exports,Ws=void 0,Zs={name:"airLinesTrailLines",data:function(){return{sharedState:store.state,bloomShow:!0,openHDR:!0,threshold:.01,intensity:.5,trailLineColor:"#0F7AF4",airlineOptions:"American Airlines"}},computed:{isInitViewer:function(){return this.sharedState.isInitViewer},trailLineShow:function(){return this.sharedState.specialEffects[0]}},methods:{init:function(){var e=this;viewer.imageryLayers.addImageryProvider(new Cesium.SingleTileImageryProvider({url:"static/images/ParticleSystem/BlackMarble_2016.jpg"}));var t=viewer.scene;t.camera.setView({destination:new Cesium.Cartesian3(-1027827.1490632605,-16765160.375307877,10382141.027765635),orientation:{heading:6.076454193121397,pitch:-1.5670024568705059,roll:0}}),t.bloomEffect.show=!0,t.bloomEffect.threshold=Number(this.threshold),t.bloomEffect.bloomIntensity=Number(this.intensity),t.hdrEnabled=!0,Cesium.loadJson("static/data/effectJson/flights.json").then(function(t){function i(e){return Cesium.Cartesian3.fromDegrees(t.airports[e][3],t.airports[e][4])}Ws={},t.routes.forEach(function(e){var s=t.airlines[e[0]][0];Ws[s]||(Ws[s]=[]);var a=i(e[1]),o=i(e[2]);Ws[s].push([a,o])}),e.drawLines("American Airlines",e.trailLineColor)})},drawLines:function(e,t){var i=Cesium.Color.fromCssColorString(t);viewer.entities.removeAll();var s=!0,a=!1,o=void 0;try{for(var n,r=ze()(Ws[e]);!(s=(n=r.next()).done);s=!0){var l=n.value;viewer.entities.add({polyline:{positions:[l[0],l[1]],width:.5,material:Cesium.Color.fromCssColorString("rgba(118, 233, 241, 0.1)")}}),viewer.entities.add({polyline:{positions:[l[0],l[1]],width:4,material:new Cesium.PolylineTrailMaterialProperty({color:i,trailLength:.2,period:5})}})}}catch(e){a=!0,o=e}finally{try{!s&&r.return&&r.return()}finally{if(a)throw o}}},clear:function(){viewer.entities.removeAll();var e=viewer.imageryLayers._layers[1];viewer.imageryLayers.remove(e),store.setImgLayerManage(viewer.imageryLayers._layers.length),scene.bloomEffect.show=!1,scene.hdrEnabled=!1,store.setSpecialEffects(0,0),this.reset(),Ws=null},reset:function(){viewer.camera.flyTo({destination:new Cesium.Cartesian3.fromDegrees(110.60396458865515,34.54408834959379,30644793.325518917)})}},watch:{trailLineShow:function(e){e&&this.init()},bloomShow:function(e){viewer.scene.bloomEffect.show=e,viewer.scene.bloomEffect.threshold=Number(this.threshold),viewer.scene.bloomEffect.bloomIntensity=Number(this.intensity)},threshold:function(e){viewer.scene.bloomEffect.threshold=Number(this.threshold)},intensity:function(e){viewer.scene.bloomEffect.bloomIntensity=Number(this.intensity)},openHDR:function(e){scene.hdrEnabled=e},airlineOptions:function(e){switch(e){case"Air China":case"China Eastern Airlines":case"China Southern Airlines":scene.camera.flyTo({destination:new Cesium.Cartesian3(-4511826.162646529,16838364.473915376,10064576.385825634),orientation:{heading:6.283185307179586,pitch:-1.5707963267948966,roll:0}});break;case"American Airlines":case"Southwest Airlines":case"Delta Air Lines":case"US Airways":case"United Airlines":scene.camera.flyTo({destination:new Cesium.Cartesian3(-1027827.1490632605,-16765160.375307877,10382141.027765635),orientation:{heading:6.076454193121397,pitch:-1.5670024568705059,roll:0}});break;case"easyJet":case"Ryanair":scene.camera.flyTo({destination:new Cesium.Cartesian3(14446265.13308438,1417618.1947955855,13386996.143159749),orientation:{heading:5.944835562437463,pitch:-1.5670024568705059,roll:0}})}this.drawLines(e,this.trailLineColor)},trailLineColor:function(e){this.drawLines(this.airlineOptions,e)}}},qs={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.trailLineShow?i("div",{directives:[{name:"drag",rawName:"v-drag"}],staticClass:"sm-panel"},[i("div",{staticClass:"sm-content"},[i("div",{staticClass:"sm-panel-header"},[i("span",{staticClass:"title-txt"},[e._v(e._s(e.Resource.FloodlightTrail))]),e._v(" "),i("span",{staticClass:"closeBtn",on:{click:e.clear}},[e._v("×")])]),e._v(" "),i("div",{staticClass:"sm-function-module-content"},[i("div",{staticClass:"flexbox"},[i("label",{staticClass:"sm-viewshed-label-right"},[e._v(e._s(e.Resource.openSceneFlood))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.bloomShow,expression:"bloomShow"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.bloomShow)?e._i(e.bloomShow,null)>-1:e.bloomShow},on:{change:function(t){var i=e.bloomShow,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.bloomShow=i.concat([null])):o>-1&&(e.bloomShow=i.slice(0,o).concat(i.slice(o+1)))}else e.bloomShow=a}}}),e._v(" "),i("label",{staticClass:"sm-viewshed-label-right"},[e._v(e._s(e.Resource.hdr))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.openHDR,expression:"openHDR"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.openHDR)?e._i(e.openHDR,null)>-1:e.openHDR},on:{change:function(t){var i=e.openHDR,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.openHDR=i.concat([null])):o>-1&&(e.openHDR=i.slice(0,o).concat(i.slice(o+1)))}else e.openHDR=a}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.threshold))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.threshold,expression:"threshold"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{type:"range",min:"0",max:"1",step:"0.01"},domProps:{value:e.threshold},on:{__r:function(t){e.threshold=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.threshold,expression:"threshold"}],staticClass:"min-solider",staticStyle:{width:"34%",height:"25px","border-radius":"3px"},attrs:{type:"number",min:"0",max:"1",step:"0.01"},domProps:{value:e.threshold},on:{input:function(t){t.target.composing||(e.threshold=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.bloomIntensity))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.intensity,expression:"intensity"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{type:"range",min:"0",max:"5",step:"0.02"},domProps:{value:e.intensity},on:{__r:function(t){e.intensity=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.intensity,expression:"intensity"}],staticClass:"min-solider",staticStyle:{width:"34%",height:"25px","border-radius":"3px"},attrs:{type:"number",min:"0",max:"5",step:"0.02"},domProps:{value:e.intensity},on:{input:function(t){t.target.composing||(e.intensity=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.WakelineColor))]),e._v(" "),i("ColorPicker",{staticClass:"sm-colorpicker",attrs:{editable:""},model:{value:e.trailLineColor,callback:function(t){e.trailLineColor=t},expression:"trailLineColor"}})],1),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.airline))]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.airlineOptions,expression:"airlineOptions"}],staticClass:"sm-select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.airlineOptions=t.target.multiple?i:i[0]}}},[i("option",{attrs:{selected:"",value:"Air China"}},[e._v("中国国际航空（Air China）")]),e._v(" "),i("option",{attrs:{value:"China Eastern Airlines"}},[e._v("中国东方航空（China Eastern Airlines）")]),e._v(" "),i("option",{attrs:{value:"China Southern Airlines"}},[e._v("中国南方航空（China Southern Airlines）")]),e._v(" "),i("option",{attrs:{value:"American Airlines",selected:""}},[e._v("美国航空公司（American Airlines）")]),e._v(" "),i("option",{attrs:{value:"Southwest Airlines"}},[e._v("美国西南航空（Southwest Airlines）")]),e._v(" "),i("option",{attrs:{value:"Delta Air Lines"}},[e._v("美国达美航空（Delta Air Lines）")]),e._v(" "),i("option",{attrs:{value:"US Airways"}},[e._v("美国全美航空（US Airways）")]),e._v(" "),i("option",{attrs:{value:"United Airlines"}},[e._v("美国联合航空（United Airlines）")]),e._v(" "),i("option",{attrs:{value:"easyJet"}},[e._v("英国易捷航空（easyJet）")]),e._v(" "),i("option",{attrs:{value:"Ryanair"}},[e._v("爱尔兰瑞安航空（Ryanair）")])])])])])]):e._e()},staticRenderFns:[]};var Qs=i("VU/8")(Zs,qs,!1,function(e){i("Suee")},"data-v-7a7994e6",null).exports,Ys="",Xs=void 0,Js={name:"scanEffect",data:function(){return{sharedState:store.state,scanShow:!1,scanMode:"lineMode",scanColor:"#0F7AF4",lineScanTexture:"none-texture",circleScanTexture:"none-texture",bloomShow:!1,openHDR:!1,threshold:.01,intensity:.5,handlerActive:!1}},computed:{isInitViewer:function(){return this.sharedState.isInitViewer},scanEffectShow:function(){return this.sharedState.specialEffects[1]}},methods:{init:function(){var e=this;viewer.imageryLayers.addImageryProvider(new Cesium.SingleTileImageryProvider({url:"static/images/ParticleSystem/BlackMarble_2016.jpg"}));var t=viewer.scene;t.lightSource.ambientLightColor=new Cesium.Color(.4,.4,.4,.4);var i=t.addS3MTilesLayerByScp(URL_CONFIG.SCENE_CHONGQING_TX);Cesium.when(i,function(i){var s=0;i.style3D.emissionColor=new Cesium.Color(1,1,1,1),t.camera.setView({destination:new Cesium.Cartesian3(-1578215.006323633,5319974.660135051,3148880.1479047216),orientation:{heading:3.452606245673759,pitch:-.39978283229794354,roll:6.283185307175318}});var a=Cesium.Color.fromCssColorString(e.scanColor);viewer.scene.scanEffect.color=a,viewer.scene.scanEffect.period=3,(Xs=new Cesium.ScreenSpaceEventHandler(t.canvas)).setInputAction(function(i){if(e.handlerActive){s++;var a=i.position,o=t.pickPosition(a);if(o)if("lineMode"===e.scanMode){if(1==s)viewer.scene.scanEffect.centerPostion=o,Ys=Resource.ClickSetScanDirection;else if(2==s){var n=new Cesium.Cartesian3;Cesium.Cartesian3.subtract(o,viewer.scene.scanEffect.centerPostion,n),viewer.scene.scanEffect.lineMoveDirection=n,s=0,e.handlerActive=!1,tooltip.setVisible(!1)}}else viewer.scene.scanEffect.centerPostion=o,s=0,e.handlerActive=!1,tooltip.setVisible(!1);else Ys="<p>"+Resource.CurrentPointCannotBeSet+"</p><p>"+Resource.ReSetScanCenter+"</p>"}},Cesium.ScreenSpaceEventType.LEFT_CLICK),Xs.setInputAction(function(t){e.handlerActive&&tooltip.showAt(t.endPosition,Ys)},Cesium.ScreenSpaceEventType.MOUSE_MOVE)}),Cesium.GeoJsonDataSource.load("static/data/effectJson/lineback_1.json").then(function(e){viewer.dataSources.add(e);for(var t=e.entities.values,i=0;i<t.length;i++){var s=t[i];s.polyline.material=new Cesium.PolylineGlowMaterialProperty({glowPower:.005,color:Cesium.Color.ORANGERED.withAlpha(.9)}),s.polyline.width=12}}).otherwise(function(e){window.alert(e)}),Cesium.GeoJsonDataSource.load("static/data/effectJson/lineback2_1.json").then(function(e){viewer.dataSources.add(e);for(var t=e.entities.values,i=0;i<t.length;i++){var s=t[i];s.polyline.material=new Cesium.PolylineGlowMaterialProperty({glowPower:.005,color:Cesium.Color.ORANGERED.withAlpha(.9)}),s.polyline.width=12}}).otherwise(function(e){window.alert(e)}),Cesium.GeoJsonDataSource.load("static/data/effectJson/lineback3_1.json").then(function(e){viewer.dataSources.add(e);for(var t=e.entities.values,i=0;i<t.length;i++){var s=t[i];s.polyline.material=new Cesium.PolylineGlowMaterialProperty({glowPower:.005,color:Cesium.Color.ORANGERED.withAlpha(.9)}),s.polyline.width=12}}).otherwise(function(e){window.alert(e)})},setScanCenter:function(){this.handlerActive=!0,tooltip.setVisible(!0),Ys=Resource.ClickSetScanCenter},clear:function(){viewer.scene.scanEffect.show=!1,viewer.dataSources.removeAll(),Ys="",viewer.scene.layers.remove("CQmodel");var e=viewer.imageryLayers._layers[1];viewer.imageryLayers.remove(e),viewer.scene.hdrEnabled=!1,store.setSpecialEffects(1,0),viewer.scene.colorCorrection.saturation=1,viewer.scene.colorCorrection.brightness=1,viewer.scene.colorCorrection.contrast=1,viewer.scene.colorCorrection.hue=0,viewer.scene.colorCorrection.show=!1,this.reset(),Xs&&Xs.destroy(),Xs=void 0,tooltip.setVisible(!1)},reset:function(){viewer.camera.flyTo({destination:new Cesium.Cartesian3.fromDegrees(110.60396458865515,34.54408834959379,30644793.325518917)})}},watch:{scanEffectShow:function(e){e&&this.init()},scanShow:function(e){viewer.scene.scanEffect.show=e;var t=new Cesium.Cartesian3.fromDegrees(106.50296584992466,29.51555839072486,2);viewer.scene.scanEffect.centerPostion=t},scanColor:function(e){var t=Cesium.Color.fromCssColorString(e);viewer.scene.scanEffect.color=t},bloomShow:function(e){viewer.scene.bloomEffect.show=e,viewer.scene.bloomEffect.threshold=Number(this.threshold),viewer.scene.bloomEffect.bloomIntensity=Number(this.intensity)},threshold:function(e){viewer.scene.bloomEffect.threshold=Number(this.threshold)},intensity:function(e){viewer.scene.bloomEffect.bloomIntensity=Number(this.intensity)},openHDR:function(e){viewer.scene.hdrEnabled=e},scanMode:function(e){switch(e){case"lineMode":if(viewer.scene.scanEffect.mode=Cesium.ScanEffectMode.LINE,"none-texture"===this.lineScanTexture)return void(viewer.scene.scanEffect.textureUrl="");viewer.scene.scanEffect.textureUrl=this.lineScanTexture;break;case"ringMode":if(viewer.scene.scanEffect.mode=Cesium.ScanEffectMode.CIRCLE,"none-texture"===this.circleScanTexture)return void(viewer.scene.scanEffect.textureUrl="");viewer.scene.scanEffect.textureUrl=this.circleScanTexture}},lineScanTexture:function(e){viewer.scene.scanEffect.textureUrl="none-texture"!==e?e:""},circleScanTexture:function(e){viewer.scene.scanEffect.textureUrl="none-texture"!==e?e:""}}},$s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.scanEffectShow?i("div",{directives:[{name:"drag",rawName:"v-drag"}],staticClass:"sm-panel"},[i("div",{staticClass:"sm-content"},[i("div",{staticClass:"sm-panel-header"},[i("span",{staticClass:"title-txt"},[e._v(e._s(e.Resource.FloodlightScanLine))]),e._v(" "),i("span",{staticClass:"closeBtn",on:{click:e.clear}},[e._v("×")])]),e._v(" "),i("div",{staticClass:"sm-function-module-content"},[i("div",{staticClass:"flexbox"},[i("label",{staticClass:"sm-viewshed-label-right"},[e._v(e._s(e.Resource.OpenScan))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.scanShow,expression:"scanShow"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.scanShow)?e._i(e.scanShow,null)>-1:e.scanShow},on:{change:function(t){var i=e.scanShow,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.scanShow=i.concat([null])):o>-1&&(e.scanShow=i.slice(0,o).concat(i.slice(o+1)))}else e.scanShow=a}}}),e._v(" "),"lineMode"==e.scanMode?i("button",{staticClass:"tbtn tbn1 directionBtn",on:{click:e.setScanCenter}},[e._v(e._s(e.Resource.CustomScanDirection))]):e._e(),e._v(" "),"ringMode"==e.scanMode?i("button",{staticClass:"tbtn tbn1 directionBtn",on:{click:e.setScanCenter}},[e._v(e._s(e.Resource.CustomScanCenter))]):e._e()]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section flexbox"},[i("label",{staticClass:"sm-viewshed-label-right"},[e._v(e._s(e.Resource.ScanMode))]),e._v(" "),i("div",{staticStyle:{width:"8%"}}),e._v(" "),i("label",{staticClass:"label-container",attrs:{for:"line-scan-mode"}},[e._v(e._s(e.Resource.LineScan))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.scanMode,expression:"scanMode"}],attrs:{type:"radio",name:"scanMode",id:"line-scan-mode",value:"lineMode"},domProps:{checked:e._q(e.scanMode,"lineMode")},on:{change:function(t){e.scanMode="lineMode"}}}),e._v(" "),i("label",{staticClass:"label-container",attrs:{for:"ring-scan-mode"}},[e._v(e._s(e.Resource.CircularScan))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.scanMode,expression:"scanMode"}],attrs:{type:"radio",name:"scanMode",id:"ring-scan-mode",value:"ringMode"},domProps:{checked:e._q(e.scanMode,"ringMode")},on:{change:function(t){e.scanMode="ringMode"}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.ScanColor))]),e._v(" "),i("ColorPicker",{staticClass:"sm-colorpicker",attrs:{editable:""},model:{value:e.scanColor,callback:function(t){e.scanColor=t},expression:"scanColor"}})],1),e._v(" "),"lineMode"==e.scanMode?i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.ScanTexture))]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.lineScanTexture,expression:"lineScanTexture"}],staticClass:"sm-select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.lineScanTexture=t.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"none-texture"}},[e._v(e._s(e.No))]),e._v(" "),i("option",{attrs:{value:"static/images/ParticleSystem/linearScanTexture1.jpg"}},[e._v(e._s(e.Resource.LinearTexture1))]),e._v(" "),i("option",{attrs:{value:"static/images/ParticleSystem/linearScanTexture2.jpg"}},[e._v(e._s(e.Resource.LinearTexture2))])])]):e._e(),e._v(" "),"ringMode"==e.scanMode?i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.ScanTexture))]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.circleScanTexture,expression:"circleScanTexture"}],staticClass:"sm-select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.circleScanTexture=t.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"none-texture"}},[e._v(e._s(e.No))]),e._v(" "),i("option",{attrs:{value:"static/images/ParticleSystem/CircularScanTexture1.jpg"}},[e._v(e._s(e.Resource.CircularTexture1))]),e._v(" "),i("option",{attrs:{value:"static/images/ParticleSystem/CircularScanTexture2.jpg"}},[e._v(e._s(e.Resource.CircularTexture1))]),e._v(" "),i("option",{attrs:{value:"static/images/ParticleSystem/ring-2.jpg"}},[e._v(e._s(e.Resource.HexagonTexture3))])])]):e._e(),e._v(" "),i("div",{staticClass:"flexbox"},[i("label",{staticClass:"sm-viewshed-label-right"},[e._v(e._s(e.Resource.openSceneFlood))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.bloomShow,expression:"bloomShow"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.bloomShow)?e._i(e.bloomShow,null)>-1:e.bloomShow},on:{change:function(t){var i=e.bloomShow,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.bloomShow=i.concat([null])):o>-1&&(e.bloomShow=i.slice(0,o).concat(i.slice(o+1)))}else e.bloomShow=a}}}),e._v(" "),i("label",{staticClass:"sm-viewshed-label-right"},[e._v(e._s(e.Resource.hdr))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.openHDR,expression:"openHDR"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.openHDR)?e._i(e.openHDR,null)>-1:e.openHDR},on:{change:function(t){var i=e.openHDR,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.openHDR=i.concat([null])):o>-1&&(e.openHDR=i.slice(0,o).concat(i.slice(o+1)))}else e.openHDR=a}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.threshold))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.threshold,expression:"threshold"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgb(51,51,51)",border:"1px solid rgb(87,93,96)",padding:"0px 3px",height:"25px","border-radius":"3px"},attrs:{type:"range",min:"0",max:"1",step:"0.01"},domProps:{value:e.threshold},on:{__r:function(t){e.threshold=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.threshold,expression:"threshold"}],staticClass:"min-solider",staticStyle:{width:"34%",height:"25px"},attrs:{type:"number",min:"0",max:"1",step:"0.01"},domProps:{value:e.threshold},on:{input:function(t){t.target.composing||(e.threshold=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.bloomIntensity))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.intensity,expression:"intensity"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgb(51,51,51)",border:"1px solid rgb(87,93,96)",padding:"0px 3px",height:"25px","border-radius":"3px"},attrs:{type:"range",min:"0",max:"5",step:"0.02"},domProps:{value:e.intensity},on:{__r:function(t){e.intensity=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.intensity,expression:"intensity"}],staticClass:"min-solider",staticStyle:{width:"34%",height:"25px"},attrs:{type:"number",min:"0",max:"5",step:"0.02"},domProps:{value:e.intensity},on:{input:function(t){t.target.composing||(e.intensity=t.target.value)}}})])])])])]):e._e()},staticRenderFns:[]};var Ks=i("VU/8")(Js,$s,!1,function(e){i("xPTz")},"data-v-94b29eee",null).exports,ea=void 0,ta=[],ia=[],sa={name:"windParticle",data:function(){return{sharedState:store.state,particleSize:2,ParticleLife:5,particleDensity:1,particleVelocityScale:40,bloomShow:!1,fieldLayerVisible:!0,threshold:.5,intensity:1.5,dataChanged:!1,dataCompleted:!1}},computed:{isInitViewer:function(){return this.sharedState.isInitViewer},windParticleShow:function(){return this.sharedState.specialEffects[4]}},methods:{init:function(){if("iOS"!=window.device){var e=this;viewer.imageryLayers.addImageryProvider(new Cesium.SuperMapImageryProvider({url:"https://maptiles.supermapol.com/iserver/services/map_China/rest/maps/China_Dark"}));var t=viewer.scene;t.skyBox&&(t.skyBox.show=!1,t.sun.show=!1),t.skyAtmosphere.show=!1,viewer.scene.bloomEffect.show=this.bloomShow,viewer.scene.bloomEffect.threshold=Number(this.threshold),viewer.scene.bloomEffect.bloomIntensity=Number(this.intensity),(ea=new Cesium.FieldLayer3D(t.context)).particleVelocityFieldEffect.velocityScale=40,ea.particleVelocityFieldEffect.particleSize=this.particleSize,ea.particleVelocityFieldEffect.paricleCountPerDegree=1,t.primitives.add(ea),window.axios.get("static/data/winds.json").then(function(t){for(var i=t.data,s=0,a=0;a<181;a++){ta[a]=[],ia[a]=[];for(var o=0;o<360;o++,s++){var n=360*(180-a)+(o<180?o+180:o-180),r=[i[1].data[n],i[2].data[n]];ta[a][o]=r,ia[a][o]=[-r[0],-r[1]]}}var l=new Cesium.ColorTable;l.insert(0,new Cesium.Color.fromCssColorString("#6EB1EE")),l.insert(.2,new Cesium.Color.fromCssColorString("#68ACED")),l.insert(1.5,new Cesium.Color.fromCssColorString("#61A7EB")),l.insert(3.3,new Cesium.Color.fromCssColorString("#5BA2EA")),l.insert(5.4,new Cesium.Color.fromCssColorString("#549DE9")),l.insert(7.9,new Cesium.Color.fromCssColorString("#4E98E8")),l.insert(10.7,new Cesium.Color.fromCssColorString("#4794E6")),l.insert(13.8,new Cesium.Color.fromCssColorString("#418FE5")),l.insert(17.1,new Cesium.Color.fromCssColorString("#3A8AE4")),l.insert(20.7,new Cesium.Color.fromCssColorString("#3485E3")),l.insert(24.4,new Cesium.Color.fromCssColorString("#2D80E2")),l.insert(28.4,new Cesium.Color.fromCssColorString("#277BE0")),l.insert(32.6,new Cesium.Color.fromCssColorString("#2076DF")),l.insert(36.9,new Cesium.Color.fromCssColorString("#1A71DE")),l.insert(41.4,new Cesium.Color.fromCssColorString("#136DDD")),l.insert(46.1,new Cesium.Color.fromCssColorString("#0D68DB")),l.insert(50.9,new Cesium.Color.fromCssColorString("#0663DA")),l.insert(56,new Cesium.Color.fromCssColorString("#005ED9")),ea.particleVelocityFieldEffect.colorTable=l,e.dataCompleted=!0})}else this.$Message.warning({background:!0,content:Resource.notSupport})},startField:function(){"iOS"!=window.device&&(this.dataCompleted?ea.fieldData=ta:this.$Message.warning({background:!0,content:Resource.waitData}))},changeFieldData:function(){this.dataChanged?ea.fieldData=ta:ea.fieldData=ia,this.dataChanged=!this.dataChanged},clear:function(){scene.skyAtmosphere.show=!0,viewer.scene.bloomEffect.show=!1,scene.primitives.remove(ea),!ea.isDestroyed&&ea.destroy(),ta=[],ia=[],viewer.scene.layers.remove("Country_Label@World"),viewer.scene.layers.remove("Ocean_Label@World");var e=viewer.imageryLayers._layers[1];viewer.imageryLayers.remove(e),store.setSpecialEffects(4,0),this.reset(),this.dataCompleted=!1},reset:function(){viewer.camera.flyTo({destination:new Cesium.Cartesian3.fromDegrees(110.60396458865515,34.54408834959379,30644793.325518917)})},setVisible:function(){store.setSpecialEffects(4,0)}},watch:{windParticleShow:{handler:function(e){e&&0==ta.length&&this.init()},immediate:!0},particleSize:function(e){ea.particleVelocityFieldEffect.particleSize=Number(e)},ParticleLife:function(e){var t=[1e3*e,1e3*e+5e3];ea.particleVelocityFieldEffect.particleLifeRange=t},particleDensity:function(e){ea.particleVelocityFieldEffect.paricleCountPerDegree=Number(e)},particleVelocityScale:function(e){ea.particleVelocityFieldEffect.velocityScale=e},bloomShow:function(e){viewer.scene.bloomEffect.show=e,viewer.scene.bloomEffect.threshold=Number(this.threshold),viewer.scene.bloomEffect.bloomIntensity=Number(this.intensity)},fieldLayerVisible:function(e){ea.visible=e},threshold:function(e){viewer.scene.bloomEffect.threshold=Number(this.threshold)},intensity:function(e){viewer.scene.bloomEffect.bloomIntensity=Number(this.intensity)}}},aa={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.windParticleShow?i("div",{directives:[{name:"drag",rawName:"v-drag"}],staticClass:"sm-panel"},[i("div",{staticClass:"sm-content"},[i("div",{staticClass:"sm-panel-header"},[i("span",{staticClass:"title-txt"},[e._v(e._s(e.Resource.windParticle))]),e._v(" "),i("span",{staticClass:"closeBtn",on:{click:e.setVisible}},[e._v("×")])]),e._v(" "),i("div",{staticClass:"sm-function-module-content"},[i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.particleSize))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.particleSize,expression:"particleSize"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"1",max:"10",step:"1",type:"range"},domProps:{value:e.particleSize},on:{__r:function(t){e.particleSize=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.particleSize,expression:"particleSize"}],staticClass:"min-solider",staticStyle:{width:"34%","border-radius":"3px"},attrs:{min:"1",max:"10",step:"1",type:"number"},domProps:{value:e.particleSize},on:{input:function(t){t.target.composing||(e.particleSize=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.imumParticleLife))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.ParticleLife,expression:"ParticleLife"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"1",max:"20",step:"1",type:"range"},domProps:{value:e.ParticleLife},on:{__r:function(t){e.ParticleLife=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.ParticleLife,expression:"ParticleLife"}],staticClass:"min-solider",staticStyle:{width:"34%","border-radius":"3px"},attrs:{min:"1",max:"20",step:"1",type:"number"},domProps:{value:e.ParticleLife},on:{input:function(t){t.target.composing||(e.ParticleLife=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.ParticleDensity))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.particleDensity,expression:"particleDensity"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"0.1",max:"3",step:"0.1",type:"range"},domProps:{value:e.particleDensity},on:{__r:function(t){e.particleDensity=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.particleDensity,expression:"particleDensity"}],staticClass:"min-solider",staticStyle:{width:"34%","border-radius":"3px"},attrs:{min:"0.1",max:"3",step:"0.1",type:"number"},domProps:{value:e.particleDensity},on:{input:function(t){t.target.composing||(e.particleDensity=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.ParticleVelocity))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.particleVelocityScale,expression:"particleVelocityScale"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"0.1",max:"50",step:"1",type:"range"},domProps:{value:e.particleVelocityScale},on:{__r:function(t){e.particleVelocityScale=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.particleVelocityScale,expression:"particleVelocityScale"}],staticClass:"min-solider",staticStyle:{width:"34%","border-radius":"3px"},attrs:{min:"0.1",max:"50",step:"1",type:"number"},domProps:{value:e.particleVelocityScale},on:{input:function(t){t.target.composing||(e.particleVelocityScale=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"flexbox"},[i("label",{staticClass:"sm-viewshed-label-right"},[e._v(e._s(e.Resource.openSceneFlood))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.bloomShow,expression:"bloomShow"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.bloomShow)?e._i(e.bloomShow,null)>-1:e.bloomShow},on:{change:function(t){var i=e.bloomShow,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.bloomShow=i.concat([null])):o>-1&&(e.bloomShow=i.slice(0,o).concat(i.slice(o+1)))}else e.bloomShow=a}}}),e._v(" "),i("label",{staticClass:"sm-viewshed-label-right"},[e._v(e._s(e.Resource.visibility))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.fieldLayerVisible,expression:"fieldLayerVisible"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.fieldLayerVisible)?e._i(e.fieldLayerVisible,null)>-1:e.fieldLayerVisible},on:{change:function(t){var i=e.fieldLayerVisible,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.fieldLayerVisible=i.concat([null])):o>-1&&(e.fieldLayerVisible=i.slice(0,o).concat(i.slice(o+1)))}else e.fieldLayerVisible=a}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.threshold))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.threshold,expression:"threshold"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{type:"range",min:"0",max:"1",step:"0.1"},domProps:{value:e.threshold},on:{__r:function(t){e.threshold=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.threshold,expression:"threshold"}],staticClass:"min-solider",staticStyle:{width:"34%",height:"25px","border-radius":"3px"},attrs:{type:"number",min:"0",max:"1",step:"0.1"},domProps:{value:e.threshold},on:{input:function(t){t.target.composing||(e.threshold=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.bloomIntensity))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.intensity,expression:"intensity"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{type:"range",min:"0",max:"10",step:"0.1"},domProps:{value:e.intensity},on:{__r:function(t){e.intensity=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.intensity,expression:"intensity"}],staticClass:"min-solider",staticStyle:{width:"34%",height:"25px","border-radius":"3px"},attrs:{type:"number",min:"0",max:"10",step:"0.1"},domProps:{value:e.intensity},on:{input:function(t){t.target.composing||(e.intensity=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"boxchild"},[i("button",{staticClass:"tbtn tbn1",attrs:{type:"button"},on:{click:e.startField}},[e._v(e._s(e.Resource.Start))]),e._v(" "),i("button",{staticClass:"tbtn",attrs:{type:"button"},on:{click:e.changeFieldData}},[e._v(e._s(e.Resource.SwitchData))]),e._v(" "),i("button",{staticClass:"tbtn",attrs:{type:"button"},on:{click:e.clear}},[e._v(e._s(e.Resource.clear))])])])])]):e._e()},staticRenderFns:[]},oa=i("VU/8")(sa,aa,!1,null,null,null).exports,na=[{url:"@/../static/images/baseLayer/baseImage.png",name:G.localImage,thumbnail:"@/../static/images/baseLayer/image.jpg",title:"Image",type:"IMAGE",imgsrc:"@/../static/css/cross.png",chooseType:!0,isMultipleChoose:!1,index:0},{url:"//dev.virtualearth.net",name:G.bingMaps,thumbnail:"@/../static/images/baseLayer/BingMap.jpg",title:"BingMap",type:"BINGMAP",imgsrc:"@/../static/css/cross.png",key:"AmovaBSnYwc3uSNbAlFErdZb-e878TXw44S2G8sFF5qPNyOVpnFwDcpzsQ2gEtGA",chooseType:!1,isMultipleChoose:!1,index:1},{url:"https://[subdomain].tianditu.gov.cn/img_w/wmts",name:G.tianditu,thumbnail:"@/../static/images/baseLayer/tianditu.jpg",token:"4a00a1dc5387b8ed8adba3374bd87e5e",title:"天地图",type:"TIANDITU",imgsrc:"@/../static/css/cross.png",chooseType:!1,isMultipleChoose:!1,index:2},{url:"https://a.tile.openstreetmap.org/",name:G.OpenStreetMap,thumbnail:"@/../static/images/baseLayer/OSM.jpg",title:"Open Street Map",type:"OSM",imgsrc:"@/../static/css/cross.png",chooseType:!1,isMultipleChoose:!1,index:3},{name:G.gridImagery,thumbnail:"@/../static/images/baseLayer/grad.jpg",title:"Grid Image Map",type:"GRIDIMAGERY",imgsrc:"@/../static/css/cross.png",chooseType:!1,isMultipleChoose:!1,index:4}],ra={},la=void 0,ca={name:"rainAndSnow",data:function(){return{sharedState:store.state,openRainSpecialEffects:!0,rainAngle:45,rainSpeed:8,openSnowSpecialEffects:!1,snowDesity:5,snowAngle:10,snowSpeed:12}},computed:{isInitViewer:function(){return this.sharedState.isInitViewer},rainAndSnowShow:function(){return this.sharedState.specialEffects[2]}},methods:{init:function(){viewer.scene.postProcessStages.rain.enabled=this.openRainSpecialEffects;var e=specialEffects.effects[2].proxiedUrl,t=specialEffects.effects[2].cameraParama;ra=new Us({viewer:viewer,scene:scene,viewerId:"compass"}),this.addTerrain(e,t),this.addImage(),ra.viewerChanged=!0,ra.handleViewerChange()},clear:function(){this.removeTerrain(),this.removeImage(),this.openRainSpecialEffects=!1,this.openSnowSpecialEffects=!1,viewer.scene.postProcessStages.rain.enabled=!1,viewer.scene.postProcessStages.snow.enabled=!1,store.setSpecialEffects(2,0),ra.viewerChanged=!1,ra.handleViewerChange(),this.reset()},reset:function(){ra.resetCameraPosition()},addTerrain:function(e,t){viewer.terrainProvider=new Cesium.SCTTerrainProvider({urls:[e]}),viewer.scene.camera.setView({destination:new Cesium.Cartesian3(t.Cartesian3.x,t.Cartesian3.y,t.Cartesian3.z),orientation:{heading:t.heading,pitch:t.pitch,roll:t.roll}})},addImage:function(){var e=(la=viewer.scene.globe._imageryLayerCollection).get(0),t=new Cesium.BingMapsImageryProvider({url:na[1].url,key:na[1].key});la.remove(e),la.addImageryProvider(t,0)},removeImage:function(){var e=la.get(0),t=new Cesium.SingleTileImageryProvider({url:na[0].url});la.remove(e),la.addImageryProvider(t,0)},removeTerrain:function(){viewer.terrainProvider=new Cesium.EllipsoidTerrainProvider({ellipsoid:viewer.scene.globe.ellipsoid})}},watch:{rainAndSnowShow:function(e){e&&this.init()},openSnowSpecialEffects:function(e){e?(this.openSnowSpecialEffects=!0,viewer.scene.postProcessStages.snow.enabled=!0):(this.openSnowSpecialEffects=!1,viewer.scene.postProcessStages.snow.enabled=!1)},openRainSpecialEffects:function(e){e?(this.openRainSpecialEffects=!0,viewer.scene.postProcessStages.rain.enabled=!0):(this.openRainSpecialEffects=!1,viewer.scene.postProcessStages.rain.enabled=!1)},rainAngle:function(){viewer.scene.postProcessStages.rain.uniforms.angle=Number(this.rainAngle)},rainSpeed:function(){viewer.scene.postProcessStages.rain.uniforms.speed=Number(this.rainSpeed)},snowDesity:function(){viewer.scene.postProcessStages.snow.uniforms.density=Number(this.snowDesity)},snowAngle:function(){viewer.scene.postProcessStages.snow.uniforms.angle=Number(this.snowAngle)},snowSpeed:function(){viewer.scene.postProcessStages.snow.uniforms.speed=Number(this.snowSpeed)}}},da={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.rainAndSnowShow?i("div",{directives:[{name:"drag",rawName:"v-drag"}],staticClass:"sm-panel"},[i("div",{staticClass:"sm-content"},[i("div",{staticClass:"sm-panel-header"},[i("span",{staticClass:"title-txt"},[e._v(e._s(e.Resource.rainAndSnowShow))]),e._v(" "),i("span",{staticClass:"closeBtn",on:{click:e.clear}},[e._v("×")])]),e._v(" "),i("div",{staticClass:"sm-function-module-content"},[i("div",{staticClass:"sm-function-module-sub-section"},[i("div",{staticClass:"flexbox"},[i("label",{staticClass:"sm-viewshed-label-right"},[e._v(e._s(e.Resource.openRainSpecialEffects))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.openRainSpecialEffects,expression:"openRainSpecialEffects"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.openRainSpecialEffects)?e._i(e.openRainSpecialEffects,null)>-1:e.openRainSpecialEffects},on:{change:function(t){var i=e.openRainSpecialEffects,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.openRainSpecialEffects=i.concat([null])):o>-1&&(e.openRainSpecialEffects=i.slice(0,o).concat(i.slice(o+1)))}else e.openRainSpecialEffects=a}}}),e._v(" "),i("div",{staticStyle:{width:"45%"}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.angle))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box",staticStyle:{width:"70%"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.rainAngle,expression:"rainAngle"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"0",max:"90",step:"5",type:"range"},domProps:{value:e.rainAngle},on:{__r:function(t){e.rainAngle=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.rainAngle,expression:"rainAngle"}],staticClass:"min-solider",staticStyle:{width:"25%","border-radius":"3px"},attrs:{min:"0",max:"90",step:"5",type:"number"},domProps:{value:e.rainAngle},on:{input:function(t){t.target.composing||(e.rainAngle=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.rainSpeed))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box",staticStyle:{width:"70%"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.rainSpeed,expression:"rainSpeed"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"0",max:"10",step:"1",type:"range"},domProps:{value:e.rainSpeed},on:{__r:function(t){e.rainSpeed=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.rainSpeed,expression:"rainSpeed"}],staticClass:"min-solider",staticStyle:{width:"25%","border-radius":"3px"},attrs:{min:"0",max:"10",step:"1",type:"number"},domProps:{value:e.rainSpeed},on:{input:function(t){t.target.composing||(e.rainSpeed=t.target.value)}}})])])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("div",{staticClass:"flexbox"},[i("label",{staticClass:"sm-viewshed-label-right"},[e._v(e._s(e.Resource.openSnowSpecialEffects))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.openSnowSpecialEffects,expression:"openSnowSpecialEffects"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.openSnowSpecialEffects)?e._i(e.openSnowSpecialEffects,null)>-1:e.openSnowSpecialEffects},on:{change:function(t){var i=e.openSnowSpecialEffects,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.openSnowSpecialEffects=i.concat([null])):o>-1&&(e.openSnowSpecialEffects=i.slice(0,o).concat(i.slice(o+1)))}else e.openSnowSpecialEffects=a}}}),e._v(" "),i("div",{staticStyle:{width:"45%"}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.snowDesity))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box",staticStyle:{width:"70%"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.snowDesity,expression:"snowDesity"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"0",max:"30",step:"2",type:"range"},domProps:{value:e.snowDesity},on:{__r:function(t){e.snowDesity=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.snowDesity,expression:"snowDesity"}],staticClass:"min-solider",staticStyle:{width:"25%","border-radius":"3px"},attrs:{min:"0",max:"30",step:"2",type:"number"},domProps:{value:e.snowDesity},on:{input:function(t){t.target.composing||(e.snowDesity=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.angle))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box",staticStyle:{width:"70%"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.snowAngle,expression:"snowAngle"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"0",max:"90",step:"5",type:"range"},domProps:{value:e.snowAngle},on:{__r:function(t){e.snowAngle=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.snowAngle,expression:"snowAngle"}],staticClass:"min-solider",staticStyle:{width:"25%","border-radius":"3px"},attrs:{min:"0",max:"90",step:"5",type:"number"},domProps:{value:e.snowAngle},on:{input:function(t){t.target.composing||(e.snowAngle=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.rainSpeed))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box",staticStyle:{width:"70%"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.snowSpeed,expression:"snowSpeed"}],staticClass:"min-solider",staticStyle:{width:"63%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"0",max:"10",step:"1",type:"range"},domProps:{value:e.snowSpeed},on:{__r:function(t){e.snowSpeed=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.snowSpeed,expression:"snowSpeed"}],staticClass:"min-solider",staticStyle:{width:"25%","border-radius":"3px"},attrs:{min:"0",max:"10",step:"1",type:"number"},domProps:{value:e.snowSpeed},on:{input:function(t){t.target.composing||(e.snowSpeed=t.target.value)}}})])])])])])]):e._e()},staticRenderFns:[]},ua=i("VU/8")(ca,da,!1,null,null,null).exports,ma={name:"heatMap",data:function(){return{sharedState:store.state}},computed:{isInitViewer:function(){return this.sharedState.isInitViewer},heatMapShow:function(){return this.sharedState.specialEffects[3]}},methods:{init:function(){var e=this,t=viewer.scene,i=void 0,s=null,a=t.addS3MTilesLayerByScp(URL_CONFIG.SCP_CBD_BUILD,{name:"build"}),o=t.addS3MTilesLayerByScp(URL_CONFIG.SCP_CBD_GROUND1,{name:"ground1"}),n=t.addS3MTilesLayerByScp(URL_CONFIG.SCP_CBD_LAKE,{name:"lake"}),r=t.addS3MTilesLayerByScp(URL_CONFIG.SCP_CBD_TREE,{name:"tree"}),l=t.addS3MTilesLayerByScp(URL_CONFIG.SCP_CBD_ROAD,{name:"road"}),c=t.addS3MTilesLayerByScp(URL_CONFIG.SCP_CBD_BRIDGE,{name:"bridge"}),d=(t.addS3MTilesLayerByScp(URL_CONFIG.SCP_CBD_GROUND2,{name:"ground2"}),[o,a,n,r,l,c]);Cesium.when.all(d,function(a){t.camera.setView({destination:Cesium.Cartesian3.fromDegrees(116.44829499568006,39.9038584836946,200.7291711487204),orientation:{heading:5.462824916628415,pitch:-1.5695598976662626,roll:6.2831853071570976}});var o=W(document.body),n=0,r=[];e.createHeatMap(40),new Cesium.ScreenSpaceEventHandler(t.canvas).setInputAction(function(e){var s=t.pickPosition(e.position);r.push(s),2===++n&&i.drawEvt.raiseEvent(r)},Cesium.ScreenSpaceEventType.LEFT_CLICK),(i=new Cesium.DrawHandler(viewer,Cesium.DrawMode.Line)).activeEvt.addEventListener(function(e){1==e?(viewer.enableCursorStyle=!1,viewer._element.style.cursor="",document.body.classList.remove("drawCur"),document.body.classList.add("drawCur")):(viewer.enableCursorStyle=!0,document.body.classList.remove("drawCur"))}),i.movingEvt.addEventListener(function(e){o.showAt(e,"<p>两点定一个矩形</p>")}),i.drawEvt.addEventListener(function(e){i.deactivate(),i.polyline.show=!1,s=e.object?e.positions:e;var t=document.getElementsByClassName("heatmap-canvas")[1].toDataURL("image/png"),o=new Image;o.src=t,o.onload=function(){var e=!0,t=!1,l=void 0;try{for(var c,d=ze()(a);!(e=(c=d.next()).done);e=!0){c.value.addOverlayImage({bounds:Cesium.Rectangle.fromCartesianArray(s),name:"heat-map",image:o})}}catch(e){t=!0,l=e}finally{try{!e&&d.return&&d.return()}finally{if(t)throw l}}n=0,r=[],i.activate()}}),i.activate(),t.camera.moveEnd.addEventListener(function(){var i=t.camera.positionCartographic.height,o=e.createHeatMap(i/10);if(null!=a&&null!=s){var n=new Image;n.src=o.getDataURL(),n.onload=function(){var e=!0,t=!1,i=void 0;try{for(var o,r=ze()(a);!(e=(o=r.next()).done);e=!0){var l=o.value;l.removeOverlayImage("heat-map"),l.addOverlayImage({bounds:Cesium.Rectangle.fromCartesianArray(s),name:"heat-map",image:n})}}catch(e){t=!0,i=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw i}}}}})})},createHeatMap:function(e){for(var t=h337.create({container:document.querySelector(".heatmap"),radius:e}),i=[],s=0,a=200;a--;){var o=Math.floor(100*Math.random());s=Math.max(s,o);var n={x:Math.floor(840*Math.random()),y:Math.floor(400*Math.random()),value:o};i.push(n)}var r={max:s,data:i};return t.setData(r),t},clear:function(){store.setSpecialEffects(4,0)}},watch:{heatMapShow:function(e){e&&this.init()}}},pa={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"heatmap",staticStyle:{overflow:"hidden",width:"840px",height:"400px",position:"relative"}},[t("div",{staticClass:"heatmap-canvas",attrs:{width:"50%",height:"25%"}})])}]},ha=i("VU/8")(ma,pa,!1,null,null,null).exports,va=void 0,ga=void 0,ya=void 0,fa=void 0,Ca=void 0,wa=void 0,ba={name:"ChinaEpidemicMap",data:function(){return{sharedState:store.state,bubbleShow:!1,cityORprovinceName:"省份",yqDate:null,ljqz:null,ljzycy:null,ljsw:null,qzZrzj:null,zyZrzj:null,swZrzj:null,cityORprovince:{},Ptotal:null,existData:!1}},computed:{isInitViewer:function(){return this.sharedState.isInitViewer},hotSpotsShow:function(){return this.sharedState.hotSpots[0]}},methods:{init:function(){var e=this,t={"香港":2,"黑龙江":23,"台湾":25,"湖北":30,"上海":34,"广东":5,"内蒙古":22,"北京":17,"山西":16,"澳门":1,"浙江":31,"福建":8,"山东":14,"天津":18,"江苏":28,"河北":19,"云南":6,"四川":10,"吉林":21,"重庆":9,"辽宁":20,"贵州":7,"安徽":29,"陕西":27,"青海":13,"甘肃":15,"西藏":11,"新疆":24,"湖南":33,"江西":32,"海南":3,"河南":26,"广西":4,"宁夏":12};fa={30:"湖北",5:"广东",26:"河南",31:"浙江",33:"湖南",29:"安徽",28:"江苏",9:"重庆",14:"山东",10:"四川",23:"黑龙江",17:"北京",34:"上海",8:"福建",19:"河北",27:"陕西",4:"广西",3:"海南",6:"云南",7:"贵州",16:"山西",20:"辽宁",18:"天津",15:"甘肃",21:"吉林",32:"江西",22:"内蒙古",24:"新疆",12:"宁夏",1:"香港",13:"青海",25:"台湾",2:"澳门",11:"西藏"},ya=["崇明县","济源市","嘉峪关市","东莞市","","中山市","三沙市","香港特别行政区","澳门特别行政区","石家庄市","唐山市","秦皇岛市","邯郸市","邢台市","保定市","张家口市","承德市","沧州市","廊坊市","衡水市","太原市","大同市","阳泉市","长治市","晋城市","朔州市","晋中市","运城市","忻州市","临汾市","吕梁市","呼和浩特市","包头市","乌海市","赤峰市","通辽市","鄂尔多斯市","呼伦贝尔市","巴彦淖尔市","乌兰察布市","兴安盟","锡林郭勒盟","阿拉善盟","沈阳市","大连市","鞍山市","抚顺市","本溪市","丹东市","锦州市","营口市","阜新市","辽阳市","盘锦市","铁岭市","朝阳市","葫芦岛市","长春市","吉林市","四平市","辽源市","通化市","白山市","松原市","白城市","延边朝鲜族自治州","哈尔滨市","齐齐哈尔市","鸡西市","鹤岗市","双鸭山市","大庆市","伊春市","佳木斯市","七台河市","牡丹江市","黑河市","绥化市","大兴安岭地区","上海市","南京市","无锡市","徐州市","常州市","苏州市","南通市","连云港市","淮安市","盐城市","扬州市","镇江市","泰州市","宿迁市","杭州市","宁波市","温州市","嘉兴市","湖州市","绍兴市","金华市","衢州市","舟山市","台州市","丽水市","合肥市","芜湖市","蚌埠市","淮南市","马鞍山市","淮北市","铜陵市","安庆市","黄山市","滁州市","阜阳市","宿州市","六安市","亳州市","池州市","宣城市","福州市","厦门市","莆田市","三明市","泉州市","漳州市","南平市","龙岩市","宁德市","南昌市","景德镇市","萍乡市","九江市","新余市","鹰潭市","赣州市","吉安市","宜春市","抚州市","上饶市","济南市","青岛市","淄博市","枣庄市","东营市","烟台市","潍坊市","济宁市","泰安市","威海市","日照市","莱芜市","临沂市","德州市","聊城市","滨州市","菏泽市","郑州市","开封市","洛阳市","平顶山市","安阳市","鹤壁市","新乡市","焦作市","濮阳市","许昌市","漯河市","三门峡市","南阳市","商丘市","信阳市","周口市","驻马店市","武汉市","黄石市","十堰市","宜昌市","襄阳市","鄂州市","荆门市","孝感市","荆州市","黄冈市","咸宁市","随州市","恩施土家族苗族自治州","长沙市","株洲市","湘潭市","衡阳市","邵阳市","岳阳市","常德市","张家界市","益阳市","郴州市","永州市","怀化市","娄底市","湘西土家族苗族自治州","广州市","韶关市","深圳市","珠海市","汕头市","佛山市","江门市","湛江市","茂名市","肇庆市","惠州市","梅州市","汕尾市","河源市","阳江市","清远市","潮州市","揭阳市","云浮市","南宁市","柳州市","桂林市","梧州市","北海市","防城港市","钦州市","贵港市","玉林市","百色市","贺州市","河池市","来宾市","崇左市","成都市","自贡市","攀枝花市","泸州市","德阳市","绵阳市","广元市","遂宁市","内江市","乐山市","南充市","眉山市","宜宾市","广安市","达州市","雅安市","巴中市","资阳市","阿坝藏族羌族自治州","甘孜藏族自治州","凉山彝族自治州","贵阳市","六盘水市","遵义市","安顺市","毕节市","铜仁市","黔西南布依族苗族自治州","黔东南苗族侗族自治州","黔南布依族苗族自治州","昆明市","曲靖市","玉溪市","保山市","昭通市","丽江市","普洱市","临沧市","楚雄彝族自治州","红河哈尼族彝族自治州","文山壮族苗族自治州","西双版纳傣族自治州","大理白族自治州","德宏傣族景颇族自治州","怒江傈僳族自治州","迪庆藏族自治州","拉萨市","昌都地区","山南地区","日喀则地区","那曲地区","阿里地区","林芝地区","西安市","铜川市","宝鸡市","咸阳市","渭南市","延安市","汉中市","榆林市","安康市","商洛市","兰州市","金昌市","白银市","天水市","武威市","张掖市","平凉市","酒泉市","庆阳市","定西市","陇南市","临夏回族自治州","西宁市","海东地区","海北藏族自治州","黄南藏族自治州","海南藏族自治州","果洛藏族自治州","玉树藏族自治州","海西蒙古族藏族自治州","银川市","石嘴山市","吴忠市","固原市","中卫市","乌鲁木齐市","克拉玛依市","吐鲁番地区","哈密地区","昌吉回族自治州","博尔塔拉蒙古自治州","巴音郭楞蒙古自治州","阿克苏地区","克孜勒苏柯尔克孜自治州","喀什地区","和田地区","伊犁哈萨克自治州","塔城地区","阿勒泰地区","嘉义市","嘉义县","桃园县","新竹县","新竹市","台中市","新北市","台中县","南投县","花莲县","基隆市","苗栗县","彰化县","云林县","屏东县","宜兰县","台东县","澎湖县","台北市","台南市","高雄市","东方市","陵水黎族自治县","定安县","儋州市","保亭黎族苗族自治县","琼中黎族苗族自治县","五指山市","乐东黎族自治县","白沙黎族自治县","屯昌县","澄迈县","临高县","万宁市","三亚市","文昌市","昌江黎族自治县","海口市","琼海市","北屯市","石河子市","五家渠市","阿拉尔市","图木舒克市","北京市","重庆市","天津市","甘南藏族自治州","神农架林区","仙桃市","潜江市","天门市"],va=["北京","天津","上海","重庆"],ga=[new Cesium.Color(1,1,1),new Cesium.Color(1,242/255,207/255),new Cesium.Color(253/255,210/255,160/255),new Cesium.Color(1,140/255,113/255),new Cesium.Color(230/255,75/255,69/255),new Cesium.Color(189/255,19/255,22/255),new Cesium.Color(127/255,17/255,0)],viewer.scene.layers._layerQueue.forEach(function(e){e._name.indexOf("市级行政区划")>-1?e.maxVisibleAltitude=93e4:e.minVisibleAltitude=93e4});var i=viewer.scene.layers.find("Province_R@China"),s=viewer.scene.layers.find("市级行政区划_简化@AdministrativeArea");i&&(i.selectedColor=new Cesium.Color(252/255,224/255,55/255,.7),i.maxVisibleAltitude=Number.MAX_VALUE,i.minVisibleAltitude=93e4,i.style3D.lineWidth=1,i.style3D.lineColor=new Cesium.Color(181/255,174/255,160/255,1),i.hasLight=!1,i.selectColorType=Cesium.SelectColorType.REPLACE,axios.jsonp("https://view.inews.qq.com/g2/getOnsInfo?name=disease_h5").then(function(a){var o=JSON.parse(a.data);window.yqData=o,axios.post("static/data/city_coordinates.json").then(function(t){e.loadJson(s)}),e.ljqz=o.chinaTotal.confirm,e.ljzycy=o.chinaTotal.heal,e.ljsw=o.chinaTotal.dead,e.qzZrzj=o.chinaAdd.confirm,e.zyZrzj=o.chinaAdd.heal,e.swZrzj=o.chinaAdd.dead,e.yqDate=o.lastUpdateTime;for(var n=o.areaTree[0].children,r=0,l=n.length;r<l;r++){var c=n[r],d=c.total.confirm,u=e.findColor(d),m=t[c.name];i.setObjsColor(m,u)}i.refresh()})),s&&(s.selectedColor=new Cesium.Color(252/255,224/255,55/255,.7),s.maxVisibleAltitude=93e4,s.style3D.lineWidth=1,s.style3D.lineColor=new Cesium.Color(181/255,174/255,160/255,1),s.hasLight=!1,s.selectColorType=Cesium.SelectColorType.REPLACE);var a=null;Ca=document.getElementById("bubble"),(wa=new Cesium.ScreenSpaceEventHandler(viewer.scene.canvas)).setInputAction(function(t){e.bubbleShow=!1;var i=viewer.scene.camera.positionCartographic.height;if(a=viewer.scene.pickPosition(t.position),e.bubblePosition(a),i>93e4){var s=viewer.scene.layers.getSelectedLayer();if(!s)return void(e.bubbleShow=!1);var o=s.getSelection(),n=fa[o],r=window.yqData.areaTree[0].children,l=void 0,c=!0,d=!1,u=void 0;try{for(var m,p=ze()(r);!(c=(m=p.next()).done);c=!0){var h=m.value;if(h.name===n){l=h;break}}}catch(e){d=!0,u=e}finally{try{!c&&p.return&&p.return()}finally{if(d)throw u}}l&&(e.bubbleShow=!0,e.existData=!0,e.cityORprovinceName="省份",e.Ptotal=l.total,e.cityORprovince=l)}if(i<=93e4){var v=viewer.scene.layers.getSelectedLayer();if(!v)return void(e.bubbleShow=!1);for(var g=v.getSelection()[0],y=ya[g-1],f=void 0,C=0,w=window.citysData.length;C<w;C++){var b=window.citysData[C],S=b.name.substring(0,2);if(-1==b.name.indexOf("地区待")&&-1!=y.indexOf(S)){f=b;break}}if(!f)for(var _=0;_<window.provincesData.length;_++){var x=window.provincesData[_].name.substring(0,2);if(-1!=y.indexOf(x)){f=window.provincesData[_];break}}f?(e.bubbleShow=!0,e.existData=!0,e.cityORprovinceName="城市",e.Ptotal=f.total,e.cityORprovince=f):(e.bubbleShow=!0,e.existData=!1,e.cityORprovinceName="城市",e.cityORprovince={name:y})}},Cesium.ScreenSpaceEventType.LEFT_CLICK)},bubblePosition:function(e){if(e){var t=new Cesium.Cartesian2;Cesium.SceneTransforms.wgs84ToWindowCoordinates(viewer.scene,e,t),Ca.style.top=t.y+"px",Ca.style.left=t.x+"px"}},findColor:function(e){return e<1?ga[0]:e<=9?ga[1]:e<=99?ga[2]:e<=499?ga[3]:e<=999?ga[4]:e<=1e4?ga[5]:ga[6]},findCityId:function(e){for(var t=0;t<ya.length;t++){if(-1!=ya[t].indexOf(e))return t}return-1},loadJson:function(e){var t=window.yqData.areaTree[0].children;window.provincesData=t,window.citysData=[];for(var i=0;i<t.length;i++)for(var s=t[i],a=s.children,o=0,n=a.length;o<n;o++){0;var r=a[o];if(citysData.push(r),va.includes(s.name)){var l=this.findColor(s.total.confirm),c=this.findCityId(s.name);if(-1!=c){var d=c+1;e.setObjsColor(d,l)}}else{var u=r.total.confirm,m=this.findColor(u),p=this.findCityId(r.name);if(-1!=p){var h=p+1;e.setObjsColor(h,m)}else{var v=this.findCityId(r.name.substring(0,2));if(-1!=v){var g=v+1;e.setObjsColor(g,m)}}}}},clear:function(){!wa.isDestroyed()&&wa.destroy(),this.bubbleShow=!1,viewer.scene.layers.remove("Province_R@China"),viewer.scene.layers.remove("市级行政区划标签"),viewer.scene.layers.remove("市级行政区划_简化@AdministrativeArea"),viewer.scene.layers.remove("文字标签png"),viewer.scene.layers.remove("China_Boundary_C_ln@China"),store.setHotSpots(0,0),this.reset(),L.a.hotSpots[0].state=0},reset:function(){viewer.camera.flyTo({destination:new Cesium.Cartesian3.fromDegrees(110.60396458865515,34.54408834959379,30644793.325518917)})}},watch:{hotSpotsShow:function(e){e&&this.init()}}},Sa={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:e.bubbleShow,expression:"bubbleShow"}],staticClass:"bubble",attrs:{id:"bubble"}},[i("div",{staticStyle:{"overflow-y":"auto"},attrs:{id:"tableContainer"}},[i("div",{staticStyle:{padding:"10px"},attrs:{id:"tab"}},[i("div",[i("span",[e._v(e._s(e.cityORprovinceName))]),e._v(":\n          "),i("span",[e._v(e._s(e.cityORprovince.name))])]),e._v(" "),e.existData?i("div",[i("div",[e._v("\n            今日新增:\n            "),i("span",[e._v(e._s(e.cityORprovince.today.confirm))])]),e._v(" "),i("div",[e._v("\n            累计确诊:\n            "),i("span",[e._v(e._s(e.Ptotal.confirm))])]),e._v(" "),i("div",[e._v("\n            累计死亡:\n            "),i("span",[e._v(e._s(e.Ptotal.dead))])]),e._v(" "),i("div",[e._v("\n            累计康复:\n            "),i("span",[e._v(e._s(e.Ptotal.heal))])])]):e._e(),e._v(" "),e.existData?e._e():i("div",[i("div",[e._v("暂无数据")])])])])]),e._v(" "),e.hotSpotsShow?i("div",{staticClass:"params-setting-container",attrs:{id:"legend"}},[e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),e._m(3),e._v(" "),e._m(4),e._v(" "),e._m(5),e._v(" "),e._m(6)]):e._e(),e._v(" "),e.hotSpotsShow?i("div",{attrs:{id:"yq-info"}},[i("button",{staticClass:"goOutBtn",on:{click:e.clear}},[e._v("×")]),e._v(" "),e._m(7),e._v(" "),i("div",{staticStyle:{display:"block","margin-bottom":"4px","margin-top":"6px","font-size":"12px",color:"rgb(214, 212, 212)","letter-spacing":"1px"}},[i("span",[e._v("截至"+e._s(e.yqDate))])]),e._v(" "),i("div",{staticStyle:{display:"inline-block","margin-bottom":"-5px","font-size":"16px","background-color":"rgba(0, 0, 0, 0.4)"}},[i("div",{staticClass:"yq-info-item",staticStyle:{padding:"4px","margin-left":"2px","margin-right":"2px","margin-top":"-4px","margin-bottom":"-4px"}},[i("div",{staticStyle:{"margin-bottom":"-3px"}},[i("span",{staticStyle:{color:"rgb(175, 8,25)","font-size":"22px","font-weight":"bold"},attrs:{id:"yq-ljqz"}},[e._v(e._s(e.ljqz))])]),e._v(" "),e._m(8),e._v(" "),i("div",[i("span",{staticStyle:{color:"rgb(243, 166, 67)","font-size":"12px"}},[e._v("较昨日")]),e._v("+\n          "),i("span",{staticStyle:{"font-size":"14px"},attrs:{id:"yq-qz-zrzj"}},[e._v(e._s(e.qzZrzj))])])]),e._v(" "),i("div",{staticClass:"yq-info-item",staticStyle:{padding:"4px","margin-left":"2px","margin-right":"2px","margin-top":"-4px","margin-bottom":"-4px"}},[i("div",{staticStyle:{"margin-bottom":"-3px"}},[i("span",{staticStyle:{color:"rgb(19, 206, 182)","font-size":"22px","font-weight":"bold"},attrs:{id:"yq-ljzycy"}},[e._v(e._s(e.ljzycy))])]),e._v(" "),e._m(9),e._v(" "),i("div",[i("span",{staticStyle:{color:"rgb(243, 166, 67)","font-size":"12px"}},[e._v("较昨日")]),e._v("+\n          "),i("span",{staticStyle:{"font-size":"14px"},attrs:{id:"yq-zy-zrzj"}},[e._v(e._s(e.zyZrzj))])])]),e._v(" "),i("div",{staticClass:"yq-info-item",staticStyle:{padding:"4px","margin-left":"2px","margin-right":"2px","margin-top":"-4px","margin-bottom":"-4px"}},[i("div",{staticStyle:{"margin-bottom":"-3px"}},[i("span",{staticStyle:{color:"rgb(158, 189, 210)","font-size":"22px","font-weight":"bold"},attrs:{id:"yq-ljsw"}},[e._v(e._s(e.ljsw))])]),e._v(" "),e._m(10),e._v(" "),i("div",[i("span",{staticStyle:{color:"rgb(243, 166, 67)","font-size":"12px"}},[e._v("较昨日")]),e._v("+\n          "),i("span",{staticStyle:{"font-size":"14px"},attrs:{id:"yq-sw-zrzj"}},[e._v(e._s(e.swZrzj))])])])])]):e._e()])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"margin-top":"0px"}},[t("div",{staticStyle:{width:"16px",height:"16px",display:"inline-table","margin-left":"4px","background-color":"rgb(127,  17,  0)"}}),this._v(" "),t("span",{staticStyle:{"margin-left":"0px","font-size":"14px"}},[this._v(">10000")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"margin-top":"0px"}},[t("div",{staticStyle:{width:"16px",height:"16px",display:"inline-table","margin-left":"4px","background-color":"rgb(189,  19,  22)"}}),this._v(" "),t("span",{staticStyle:{"margin-left":"0px","font-size":"14px"}},[this._v("1000 - 10000")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"margin-top":"0px"}},[t("div",{staticStyle:{width:"16px",height:"16px",display:"inline-table","margin-left":"4px","background-color":"rgb(230,  75,   69)"}}),this._v(" "),t("span",{staticStyle:{"margin-left":"0px","font-size":"14px"}},[this._v("500 - 999")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"margin-top":"0px"}},[t("div",{staticStyle:{width:"16px",height:"16px",display:"inline-table","margin-left":"4px","background-color":"rgb(255,   140,  113)"}}),this._v(" "),t("span",{staticStyle:{"margin-left":"0px","font-size":"14px"}},[this._v("100 - 499")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"margin-top":"0px"}},[t("div",{staticStyle:{width:"16px",height:"16px",display:"inline-table","margin-left":"4px","background-color":"rgb(253,   210,  160)"}}),this._v(" "),t("span",{staticStyle:{"margin-left":"0px","font-size":"14px"}},[this._v("10 - 99")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"margin-top":"0px"}},[t("div",{staticStyle:{width:"16px",height:"16px",display:"inline-table","margin-left":"4px","background-color":"rgb(255,   242,  207)"}}),this._v(" "),t("span",{staticStyle:{"margin-left":"0px","font-size":"14px"}},[this._v("1 - 9")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"margin-top":"0px"}},[t("div",{staticStyle:{width:"16px",height:"16px",display:"inline-table","margin-left":"4px","background-color":"rgb(255,   255,  255)"}}),this._v(" "),t("span",{staticStyle:{"margin-left":"0px","font-size":"14px"}},[this._v("0")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{display:"block","margin-bottom":"-5px","margin-top":"-2px"}},[t("span",{staticStyle:{"font-weight":"normal","font-size":"26px","letter-spacing":"4px"},attrs:{id:"yq-info-title"}},[this._v("中国新冠肺炎疫情地图")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{margin:"1px"}},[t("span",{staticStyle:{"background-color":"rgba(255, 255, 255, 0.1)",padding:"3px","font-size":"12px","font-weight":"lighter","padding-top":"0px"}},[this._v("确诊人数")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{margin:"1px"}},[t("span",{staticStyle:{"background-color":"rgba(255, 255, 255, 0.1)",padding:"3px","font-size":"12px","font-weight":"lighter","padding-top":"0px"}},[this._v("治愈人数")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{margin:"1px"}},[t("span",{staticStyle:{"background-color":"rgba(255, 255, 255, 0.1)",padding:"3px","font-size":"12px","font-weight":"lighter","padding-top":"0px"}},[this._v("死亡人数")])])}]};var _a=i("VU/8")(ba,Sa,!1,function(e){i("fkBd")},"data-v-cafcd97e",null).exports,xa=void 0,Ea=void 0,Ra=void 0,La=void 0,Aa={name:"WorldEpidemicMap",data:function(){return{sharedState:store.state,bubbleShow:!1,yqDate:null,ljqz:null,ljzycy:null,ljsw:null,qzZrzj:null,zyZrzj:null,swZrzj:null,countryAddConfirmRankList:null,countryName:null,Ptotal:null,existData:!1}},computed:{isInitViewer:function(){return this.sharedState.isInitViewer},hotSpotsShow:function(){return this.sharedState.hotSpots[1]}},methods:{init:function(){var e=this;Ea=[new Cesium.Color(1,1,1,.7),new Cesium.Color(1,242/255,207/255,.7),new Cesium.Color(253/255,210/255,160/255,.7),new Cesium.Color(1,140/255,113/255,.7),new Cesium.Color(230/255,75/255,69/255,.7),new Cesium.Color(189/255,19/255,22/255,.7),new Cesium.Color(127/255,17/255,0,.7)],xa={1:"俄罗斯",2:"北极地区",3:"格陵兰（丹）",4:"扬马延岛（挪）",5:"冰岛",6:"法罗群岛（丹）",7:"芬兰",8:"爱沙尼亚",9:"拉脱维亚",10:"立陶宛",11:"丹麦",12:"白俄罗斯",13:"爱尔兰",14:"波兰",15:"捷克",16:"蒙古",17:"乌克兰",18:"卢森堡",19:"德国",20:"斯洛伐克",21:"摩尔多瓦",22:"匈牙利",23:"奥地利",24:"列支敦士登",25:"斯洛文尼亚",26:"瑞士",27:"法国",28:"罗马尼亚",29:"波斯尼亚",30:"克罗地亚",31:"保加利亚",32:"圣马力诺",33:"摩纳哥",34:"吉尔吉斯斯坦",35:"安道尔",36:"马其顿",37:"阿塞拜疆",38:"阿尔巴尼亚",39:"土库曼斯坦",40:"乌兹别克斯坦",41:"塔吉克斯坦",42:"朝鲜",43:"阿尔及利亚",44:"直布罗陀（英占）",45:"阿富汗",46:"马耳他",47:"伊拉克",48:"塞浦路斯",49:"黎巴嫩",50:"利比亚",51:"约旦",52:"巴勒斯坦",53:"日本",54:"巴基斯坦",55:"",56:"尼泊尔",57:"不丹",58:"巴哈马",59:"西撒哈拉",60:"孟加拉国",61:"阿曼",62:"毛利塔尼亚",63:"沙特阿拉伯",64:"老挝",65:"多米尼加",66:"开曼群岛（英）",67:"",68:"安圭拉（英）",69:"波多黎各",70:"",71:"尼日尔",72:"厄立特里亚",73:"",74:"",75:"",78:"马里",79:"塞内加尔",80:"",81:"",82:"",83:"布基纳法索",84:"埃塞俄比亚",85:"",86:"",87:"萨尔瓦多",88:"",89:"",90:"",91:"菲律宾",92:"喀麦隆",93:"尼加拉瓜",94:"缅甸",95:"荷属安的列斯",96:"柬埔寨",97:"",98:"",99:"吉布提",100:"特立尼达",101:"乍得",102:"多哥",103:"",104:"塞拉利昂",105:"苏里南",106:"利比里亚",107:"贝宁",108:"斯里兰卡",109:"尼日利亚",110:"苏丹",111:"马来西亚",112:"圭亚那",113:"法属圭亚那",114:"索马里",115:"瑙鲁",116:"文莱",117:"马尔代夫",118:"赤道几内亚",119:"乌干达",120:"新加坡",121:"",122:"圣多美和普林西比",124:"肯尼亚",125:"",126:"",127:"加蓬",128:"厄瓜多尔",129:"卢旺达",130:"布隆迪",131:"刚果",132:"",133:"坦桑尼亚",134:"查戈斯群岛",135:"所罗门群岛",136:"东帝汶",137:"",138:"塞舌尔",139:"",140:"",141:"科摩罗",142:"",143:"马拉维",144:"",145:"赞比亚",146:"",147:"",148:"",149:"澳大利亚",150:"",151:"津巴布韦",152:"",153:"",154:"",155:"",156:"",157:"",158:"纳米比亚",159:"",160:"巴拉圭",161:"博茨瓦纳",162:"",163:"阿根廷",164:"斯威士兰",165:"",166:"南非",167:"莱索托",168:"乌拉圭",169:"新西兰",170:"",171:"福克兰群岛",172:"",173:"",174:"",175:"哈萨克斯坦",176:"格鲁吉亚",178:"亚美尼亚",179:"伊朗",180:"巴林",181:"卡塔尔",182:"荷兰",183:"比利时",184:"科特迪瓦",185:"墨西哥",186:"",187:"美国",188:"",189:"",190:"智利",191:"加拿大",192:"",193:"委内瑞拉",194:"秘鲁",195:"玻利维亚",196:"巴西",197:"",198:"伯利兹",199:"洪都拉斯",200:"危地马拉",201:"哥斯达黎加",202:"巴拿马",203:"哥伦比亚",204:"牙买加",205:"海地",206:"古巴",207:"",208:"斐济群岛",209:"",210:"",211:"巴布亚新几内亚",212:"",213:"韩国",214:"马达加斯加",215:"",216:"安哥拉",217:"也门",218:"印度尼西亚",219:"泰国",220:"莫桑比克",221:"科威特",222:"几内亚",223:"中非",224:"加纳",225:"扎伊尔",226:"阿拉伯联合酋长国",227:"几内亚比绍",228:"葡萄牙",229:"希腊",230:"突尼斯",231:"摩洛哥",232:"冈比亚",233:"越南",234:"土耳其",235:"叙利亚",236:"以色列",237:"阿拉伯区",238:"埃及",239:"西班牙",240:"挪威",241:"瑞典",242:"意大利",243:"英国",244:"南斯拉夫",245:"印度",246:"中华人民共和国"};var t=viewer.scene.layers.find("World_简化"),i=viewer.scene.layers.find("World标签"),s=viewer.scene.layers.find("China_Boundary_C_ln@China");i.isOverlapDisplayed=!1,t&&(t.selectedColor=new Cesium.Color(252/255,224/255,55/255,.7),t.style3D.lineWidth=1,t.style3D.lineColor=new Cesium.Color(196/255,219/255,237/255,1),t.hasLight=!1,t.visibleDistanceMax=Number.MAX_VALUE,i.visibleDistanceMax=Number.MAX_VALUE,s.visibleDistanceMax=Number.MAX_VALUE,t.selectColorType=Cesium.SelectColorType.REPLACE),axios.jsonp("https://view.inews.qq.com/g2/getOnsInfo?name=disease_foreign").then(function(i){var s=JSON.parse(i.data);window.yqWorldData=s,e.ljqz=s.globalStatis.confirm,e.ljzycy=s.globalStatis.heal,e.ljsw=s.globalStatis.dead,e.qzZrzj=s.globalStatis.confirmAdd,e.zyZrzj=s.globalStatis.healAdd,e.swZrzj=s.globalStatis.deadAdd,e.yqDate=s.globalStatis.lastUpdateTime,e.countryAddConfirmRankList=s.countryAddConfirmRankList,axios.post("https://api.inews.qq.com/newsqa/v1/automation/foreign/country/ranklist").then(function(i){var s=i.data.data;window.countrysData=s;for(var a=0,o=s.length;a<o;a++){var n=s[a],r=n.confirm,l=e.findColorWorld(r),c=e.findIdByName(n.name);t.setObjsColor(c,l)}axios.jsonp("https://view.inews.qq.com/g2/getOnsInfo?name=disease_h5").then(function(i){var s=JSON.parse(i.data);window.chinaDatas=s;var a=e.findIdByName("中华人民共和国"),o=e.findColorWorld(s.chinaTotal.confirm);t.setObjsColor(a,o)}),t.refresh()})});var a=null;Ra=document.getElementById("bubble2"),(La=new Cesium.ScreenSpaceEventHandler(viewer.scene.canvas)).setInputAction(function(t){e.bubbleShow=!1;viewer.scene.camera.positionCartographic.height;a=viewer.scene.pickPosition(t.position),e.bubblePosition(a);var i=viewer.scene.layers.getSelectedLayer();if(i&&"World_简化"==i.name){var s=i.getSelection(),o=e.findNameById(s),n=e.findDataByName(o,window.countrysData);"中华人民共和国"===o&&(n=window.chinaDatas.chinaTotal),n?(e.bubbleShow=!0,e.existData=!0,e.Ptotal=n,e.countryName=o):(e.bubbleShow=!0,e.existData=!1,e.countryName=o)}else e.bubbleShow=!1},Cesium.ScreenSpaceEventType.LEFT_CLICK)},bubblePosition:function(e){if(e){var t=new Cesium.Cartesian2;Cesium.SceneTransforms.wgs84ToWindowCoordinates(viewer.scene,e,t),Ra.style.top=t.y+"px",Ra.style.left=t.x+"px"}},findIdByName:function(e){for(var t in xa){if(xa[t]===e)return t}for(var i in xa){if(-1!=xa[i].indexOf(e))return i}return-1},findNameById:function(e){return xa[e]||""},findDataByName:function(e,t){for(var i=0;i<t.length;i++){var s=t[i];if(e===s.name)return s}for(var a=0;a<t.length;a++){var o=t[a];if(-1!=e.indexOf(o.name))return o}return null},findColorWorld:function(e){return e<1?Ea[0]:e<=499?Ea[1]:e<=4999?Ea[2]:e<=9999?Ea[3]:e<=1e5?Ea[4]:e<=5e5?Ea[5]:Ea[6]},clear:function(){!La.isDestroyed()&&La.destroy(),this.bubbleShow=!1,viewer.scene.layers.remove("World标签"),viewer.scene.layers.remove("World_简化"),viewer.scene.layers.remove("China_Boundary_C_ln@China"),store.setHotSpots(1,0),this.reset(),L.a.hotSpots[1].state=0},reset:function(){viewer.camera.flyTo({destination:new Cesium.Cartesian3.fromDegrees(110.60396458865515,34.54408834959379,30644793.325518917)})}},watch:{hotSpotsShow:function(e){e&&this.init()}}},Pa={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:e.bubbleShow,expression:"bubbleShow"}],staticClass:"bubble",attrs:{id:"bubble2"}},[i("div",{staticStyle:{"overflow-y":"auto"},attrs:{id:"tableContainer"}},[i("div",{staticStyle:{padding:"10px"},attrs:{id:"tab"}},[i("div",[i("span",[e._v("国家:")]),e._v(" "),i("span",[e._v(e._s(e.countryName))])]),e._v(" "),e.existData?i("div",[i("div",[e._v("\n            现有确诊:\n            "),i("span",[e._v(e._s(e.Ptotal.nowConfirm))])]),e._v(" "),i("div",[e._v("\n            累计确诊:\n            "),i("span",[e._v(e._s(e.Ptotal.confirm))])]),e._v(" "),i("div",[e._v("\n            累计死亡:\n            "),i("span",[e._v(e._s(e.Ptotal.dead))])]),e._v(" "),i("div",[e._v("\n            累计康复:\n            "),i("span",[e._v(e._s(e.Ptotal.heal))])])]):e._e(),e._v(" "),e.existData?e._e():i("div",[i("div",[e._v("暂无数据")])])])])]),e._v(" "),e.hotSpotsShow?i("div",{staticClass:"params-setting-container",attrs:{id:"legend"}},[e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),e._m(3),e._v(" "),e._m(4),e._v(" "),e._m(5),e._v(" "),e._m(6)]):e._e(),e._v(" "),e.hotSpotsShow?i("div",{attrs:{id:"yq-info"}},[i("button",{staticClass:"goOutBtn",on:{click:e.clear}},[e._v("×")]),e._v(" "),e._m(7),e._v(" "),i("div",{staticStyle:{display:"block","margin-bottom":"4px","margin-top":"6px","font-size":"12px",color:"rgb(214, 212, 212)","letter-spacing":"1px"}},[i("span",[e._v("截至"+e._s(e.yqDate))])]),e._v(" "),i("div",{staticStyle:{display:"inline-block","margin-bottom":"-5px","font-size":"16px","background-color":"rgba(0, 0, 0, 0.4)"}},[i("div",{staticClass:"yq-info-item",staticStyle:{padding:"4px","margin-left":"2px","margin-right":"2px","margin-top":"-4px","margin-bottom":"-4px"}},[i("div",{staticStyle:{"margin-bottom":"-3px"}},[i("span",{staticStyle:{color:"rgb(175, 8,25)","font-size":"22px","font-weight":"bold"},attrs:{id:"yq-ljqz"}},[e._v(e._s(e.ljqz))])]),e._v(" "),e._m(8),e._v(" "),i("div",[i("span",{staticStyle:{color:"rgb(243, 166, 67)","font-size":"12px"}},[e._v("较昨日")]),e._v("+\n          "),i("span",{staticStyle:{"font-size":"14px"},attrs:{id:"yq-qz-zrzj"}},[e._v(e._s(e.qzZrzj))])])]),e._v(" "),i("div",{staticClass:"yq-info-item",staticStyle:{padding:"4px","margin-left":"2px","margin-right":"2px","margin-top":"-4px","margin-bottom":"-4px"}},[i("div",{staticStyle:{"margin-bottom":"-3px"}},[i("span",{staticStyle:{color:"rgb(19, 206, 182)","font-size":"22px","font-weight":"bold"},attrs:{id:"yq-ljzycy"}},[e._v(e._s(e.ljzycy))])]),e._v(" "),e._m(9),e._v(" "),i("div",[i("span",{staticStyle:{color:"rgb(243, 166, 67)","font-size":"12px"}},[e._v("较昨日")]),e._v("+\n          "),i("span",{staticStyle:{"font-size":"14px"},attrs:{id:"yq-zy-zrzj"}},[e._v(e._s(e.zyZrzj))])])]),e._v(" "),i("div",{staticClass:"yq-info-item",staticStyle:{padding:"4px","margin-left":"2px","margin-right":"2px","margin-top":"-4px","margin-bottom":"-4px"}},[i("div",{staticStyle:{"margin-bottom":"-3px"}},[i("span",{staticStyle:{color:"rgb(158, 189, 210)","font-size":"22px","font-weight":"bold"},attrs:{id:"yq-ljsw"}},[e._v(e._s(e.ljsw))])]),e._v(" "),e._m(10),e._v(" "),i("div",[i("span",{staticStyle:{color:"rgb(243, 166, 67)","font-size":"12px"}},[e._v("较昨日")]),e._v("+\n          "),i("span",{staticStyle:{"font-size":"14px"},attrs:{id:"yq-sw-zrzj"}},[e._v(e._s(e.swZrzj))])])])])]):e._e(),e._v(" "),e.hotSpotsShow?i("div",{staticClass:"bubble hidden",staticStyle:{left:"1%",bottom:"9%","max-height":"330px"}},[i("div",{staticStyle:{"overflow-y":"auto"},attrs:{id:"tableContainer"}},[i("div",{staticStyle:{padding:"10px"},attrs:{id:"tab"}},[e._m(11),e._v(" "),e._l(e.countryAddConfirmRankList,function(t){return i("div",{key:t.nation,staticStyle:{"font-size":"16px"}},[i("span",[e._v(e._s(t.nation))]),e._v(":\n          "),i("span",[e._v(e._s(t.addConfirm))])])})],2)])]):e._e()])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"margin-top":"0px"}},[t("div",{staticStyle:{width:"16px",height:"16px",display:"inline-table","margin-left":"4px","background-color":"rgb(127,  17,  0)"}}),this._v(" "),t("span",{staticStyle:{"margin-left":"0px","font-size":"14px"}},[this._v(">50万")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"margin-top":"0px"}},[t("div",{staticStyle:{width:"16px",height:"16px",display:"inline-table","margin-left":"4px","background-color":"rgb(189,  19,  22)"}}),this._v(" "),t("span",{staticStyle:{"margin-left":"0px","font-size":"14px"}},[this._v("10万 - 50万")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"margin-top":"0px"}},[t("div",{staticStyle:{width:"16px",height:"16px",display:"inline-table","margin-left":"4px","background-color":"rgb(230,  75,   69)"}}),this._v(" "),t("span",{staticStyle:{"margin-left":"0px","font-size":"14px"}},[this._v("1万 - 10万")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"margin-top":"0px"}},[t("div",{staticStyle:{width:"16px",height:"16px",display:"inline-table","margin-left":"4px","background-color":"rgb(255,   140,  113)"}}),this._v(" "),t("span",{staticStyle:{"margin-left":"0px","font-size":"14px"}},[this._v("5000 - 9999")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"margin-top":"0px"}},[t("div",{staticStyle:{width:"16px",height:"16px",display:"inline-table","margin-left":"4px","background-color":"rgb(253,   210,  160)"}}),this._v(" "),t("span",{staticStyle:{"margin-left":"0px","font-size":"14px"}},[this._v("500 - 4999")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"margin-top":"0px"}},[t("div",{staticStyle:{width:"16px",height:"16px",display:"inline-table","margin-left":"4px","background-color":"rgb(255,   242,  207)"}}),this._v(" "),t("span",{staticStyle:{"margin-left":"0px","font-size":"14px"}},[this._v("1 - 499")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"margin-top":"0px"}},[t("div",{staticStyle:{width:"16px",height:"16px",display:"inline-table","margin-left":"4px","background-color":"rgb(255,   255,  255)"}}),this._v(" "),t("span",{staticStyle:{"margin-left":"0px","font-size":"14px"}},[this._v("0")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{display:"block","margin-bottom":"-5px","margin-top":"-2px"}},[t("span",{staticStyle:{"font-weight":"normal","font-size":"26px","letter-spacing":"4px"},attrs:{id:"yq-info-title"}},[this._v("全球新冠肺炎疫情地图")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{margin:"1px"}},[t("span",{staticStyle:{"background-color":"rgba(255, 255, 255, 0.1)",padding:"3px","font-size":"12px","font-weight":"lighter","padding-top":"0px"}},[this._v("确诊人数")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{margin:"1px"}},[t("span",{staticStyle:{"background-color":"rgba(255, 255, 255, 0.1)",padding:"3px","font-size":"12px","font-weight":"lighter","padding-top":"0px"}},[this._v("治愈人数")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{margin:"1px"}},[t("span",{staticStyle:{"background-color":"rgba(255, 255, 255, 0.1)",padding:"3px","font-size":"12px","font-weight":"lighter","padding-top":"0px"}},[this._v("死亡人数")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("span",{staticStyle:{"font-size":"18px"}},[this._v("新增确诊国家排名（前十）")])])}]};var Ta=i("VU/8")(Aa,Pa,!1,function(e){i("lZcf")},"data-v-48717871",null).exports,Ma={name:"LayerManage",data:function(){return{sharedState:store.state,hid:!0,ImgHid:!1,S3MLayersObj:{title:Resource.s3mLayer,expand:!0,checked:!0,type:"S3M",children:[]},imgLayersObj:{title:Resource.imageryLayer,expand:!0,checked:!0,type:"IMG",children:[]},TerrainLayersObj:{title:Resource.terrainLayer,expand:!0,checked:!0,type:"TERRAIN",children:[]},TreeDatas:[{title:Resource.layerList,expand:!0,children:[],type:"ROOT"}],contextData:null,hideS3mNames:[],hideImgNames:[],hideTerrainNames:[],rightContextMenu:!1}},computed:{LayerManageShow:function(){return this.sharedState.toolBar[0]},imgLayers:function(){return this.sharedState.imgLayerManage},terrainLayers:function(){return this.sharedState.terrainLayerManage},S3MLayers:function(){return this.sharedState.S3MLayerManage}},methods:{judgeIsChooseImagery:function(e){for(var t=0;t<this.BaseLayers.length;t++)if(this.BaseLayers[t].name===e)return void(this.BaseLayers[t].chooseType=!1);for(var i in this.otherTerrainLayers)this.otherTerrainLayers[i].imagery.name===e&&(this.otherTerrainLayers[i].imagery.chooseType=!1)},handleSelectChange:function(e,t){var i=ht.a.TitleKeyMap[t.title];this.flyTo(i,t)},handleCheckChange:function(e,t){switch(t.type){case"ROOT":this.isHideAllLayers(t.checked);break;case"S3M":var i=viewer.scene.layers.find(t.title);if(t.title==Resource.s3mLayer)return void viewer.scene.layers.layerQueue.forEach(function(e){e._visible=t.checked});i&&(i._visible=t.checked);break;case"IMG":var s=viewer.imageryLayers._layers;if(t.title==Resource.imageryLayer)return void s.forEach(function(e,i){0!=i&&(e.show=t.checked)});s[t.id].show=t.checked;break;case"TERRAIN":t.checked?viewer.terrainProvider=window.terrainProvider:(window.terrainProvider=viewer.terrainProvider,viewer.terrainProvider=new Cesium.EllipsoidTerrainProvider)}},handleContextMenu:function(e){this.contextData=e,"S3M"==e.type?(this.hid=!0,this.ImgHid=!1):"IMG"==e.type?(this.hid=!1,this.ImgHid=!0):(this.hid=!1,this.ImgHid=!1)},handleContextMenuEdit:function(){var e=this.contextData;store.setSelectedLayerName(e.title),store.setLayerAttributeToolbal(!0)},handleContextMenuDelete:function(){var e=this.contextData;switch(e.type){case"S3M":viewer.scene.layers.remove(e.title),store.setS3MLayerManage(viewer.scene.layers.layerQueue.length);var t=ht.a.TitleKeyMap[e.title];iEarth_resource_services.content.some(function(e){if(e.sceneName==t)return e.state=0,!0});break;case"IMG":var i=viewer.imageryLayers._layers[e.id];viewer.imageryLayers.remove(i),store.setImgLayerManage(viewer.imageryLayers._layers.length);var s=ht.a.TitleKeyMap[e.title];this.judgeIsChooseImagery(e.title),iEarth_resource_services.content.some(function(e){if(e.sceneName==s)return e.state=0,!0});break;case"TERRAIN":viewer.terrainProvider=new Cesium.EllipsoidTerrainProvider,window.terrainProvider=null,this.rightContextMenu=!0,store.setTerrainLayerManage(viewer.terrainProvider.tablename);var a=ht.a.TitleKeyMap[e.title];iEarth_resource_services.content.some(function(e){if(e.sceneName==a)return e.state=0,!0})}},judgeIsExist:function(e){var t=this.TreeDatas[0].children,i=!1;return 0==t.length?i:(t.forEach(function(t,s){t.type==e&&(i=s)}),i)},judgeIsChooseTerrain:function(){for(var e=void 0,t=0;t<this.BaseTerrainLayers.length;t++)if(this.BaseTerrainLayers[t].chooseType){e=t;break}for(var i in this.otherTerrainLayers)this.otherTerrainLayers[i].terrain.chooseType&&(e=this.otherTerrainLayers[i].terrain.index);return e},setImageryName:function(e){for(var t=0;t<this.BaseLayers.length;t++)if(this.BaseLayers[t].chooseType){if(0===this.imgLayersObj.children.length){e.title=this.BaseLayers[t].name;break}if(this.imgLayersObj.children[this.imgLayersObj.children.length-1].title!==this.BaseLayers[t].name){e.title=this.BaseLayers[t].name;break}}},hideLayers:function(e,t){0!=t.length&&(e.length=0,t.forEach(function(t){0==t.checked&&e.push(t.title)}))},updataS3MLayer:function(){var e=this,t=this;if(this.hideLayers(this.hideS3mNames,this.S3MLayersObj.children),viewer){var i=viewer.scene.layers.layerQueue,s=this.judgeIsExist("S3M");if(0==i.length&&!1===s)return;if(0==i.length&&!1!==s)return void this.TreeDatas[0].children.splice(s,1);if(this.S3MLayersObj.children=[],i.forEach(function(t,i){var s={title:t._name,checked:!0,contextmenu:!0,type:"S3M"};e.hideS3mNames.includes(t._name)&&(s.checked=!1),e.S3MLayersObj.children.push(s)}),!1!==s)return void this.TreeDatas[0].children.splice(s,1,this.S3MLayersObj);this.TreeDatas[0].children.push(this.S3MLayersObj)}else setTimeout(function(){t.updataS3MLayer()},2e3)},updataImgLayers:function(){var e=this;if(this.hideLayers(this.hideImgNames,this.imgLayersObj.children),viewer){var t=viewer.imageryLayers._layers,i=this.judgeIsExist("IMG");if(0==t.length&&!1===i)return void(this.TreeDatas[0].checked=!1);if(0==t.length&&!1!==i)return void this.TreeDatas[0].children.splice(i,1);if(this.imgLayersObj.children=[],t.forEach(function(t,i){var s={title:"",checked:!0,contextmenu:!0,type:"IMG",id:i};if(t._imageryProvider.tablename){var a="";if(t._imageryProvider.url){var o=t._imageryProvider.url.split("/rest/maps/");o.length>1?a=o[1].split("/")[0]:t._imageryProvider.name&&(a=t._imageryProvider.name)}s.title=a}else e.setImageryName(s);e.hideImgNames.includes(s.title)&&(s.checked=!1),e.imgLayersObj.children.unshift(s)}),!1!==i)return void this.TreeDatas[0].children.splice(i,1,this.imgLayersObj);this.TreeDatas[0].children.push(this.imgLayersObj)}else setTimeout(function(){e.updataImgLayers()},2e3)},updataTerrainLayers:function(){var e=this;if(this.hideLayers(this.hideTerrainNames,this.TerrainLayersObj.children),viewer){var t=viewer.terrainProvider,i=this.judgeIsChooseTerrain();Cesium.defined(i)&&(i<this.BaseTerrainLayers.length?t.tablename=this.BaseTerrainLayers[i].name:t.tablename=viewer.terrainProvider.tablename);var s=this.judgeIsExist("TERRAIN");if(!t.tablename&&!1===s)return;if(this.rightContextMenu||!t.tablename){if(this.TreeDatas[0].children.splice(s,1),this.rightContextMenu=!1,t.tablename&&i<this.BaseTerrainLayers.length)this.BaseTerrainLayers[i].chooseType=!1;else for(var a in this.otherTerrainLayers)this.otherTerrainLayers[a].terrain.chooseType=!1;return void(t.tablename=void 0)}this.TerrainLayersObj.children=[];var o={title:t.tablename,checked:!0,contextmenu:!0,type:"TERRAIN"};if(this.hideTerrainNames.includes(t.tablename)&&(o.checked=!1),this.TerrainLayersObj.children.push(o),!1!==s)return void this.TreeDatas[0].children.splice(s,1,this.TerrainLayersObj);this.TreeDatas[0].children.push(this.TerrainLayersObj)}else setTimeout(function(){e.updataTerrainLayers()},2e3)},flyTo:function(e,t){var i=ht.a.CAMERA_PARAM[e];if(i)viewer.scene.camera.flyTo({destination:new Cesium.Cartesian3(i.Cartesian3.x,i.Cartesian3.y,i.Cartesian3.z),orientation:{heading:i.heading,pitch:i.pitch,roll:i.roll},duration:3});else switch(t.type){case"S3M":var s=viewer.scene.layers.find(t.title);s&&viewer.flyTo(s);break;case"IMG":var a=viewer.imageryLayers._layers;t.id&&viewer.flyTo(a[t.id]);break;case"TERRAIN":var o=viewer.terrainProvider;o.readyPromise.then(function(){var e=o._bounds,t=new window.Cesium.Rectangle.fromDegrees(e.west,e.south,e.east,e.north);scene.camera.flyTo({destination:t})})}},isHideAllLayers:function(e){if(0!==this.TreeDatas[0].children.length){var t=viewer.scene.layers.layerQueue,i=viewer.imageryLayers._layers;t.forEach(function(t){t._visible=e}),i.forEach(function(t,i){0!=i&&(t.show=e)}),e?viewer.terrainProvider=window.terrainProvider:(window.terrainProvider=viewer.terrainProvider,viewer.terrainProvider=new Cesium.EllipsoidTerrainProvider)}},raise:function(){var e=viewer.imageryLayers._layers[this.contextData.id];viewer.imageryLayers.raise(e),this.updataImgLayers()},lower:function(){var e=viewer.imageryLayers._layers[this.contextData.id];viewer.imageryLayers.lower(e),this.updataImgLayers()},raiseToTop:function(){var e=viewer.imageryLayers._layers[this.contextData.id];viewer.imageryLayers.raiseToTop(e),this.updataImgLayers()},lowerToBottom:function(){var e=viewer.imageryLayers._layers[this.contextData.id];viewer.imageryLayers.lowerToBottom(e),this.updataImgLayers()},initLayers:function(){this.updataS3MLayer(),this.updataImgLayers(),this.updataTerrainLayers()}},watch:{LayerManageShow:function(e){this.BaseTerrainLayers=ut,this.BaseLayers=na;this.initLayers()},imgLayers:function(e){this.LayerManageShow&&this.updataImgLayers()},terrainLayers:function(e){this.LayerManageShow&&this.updataTerrainLayers()},S3MLayers:function(e){this.LayerManageShow&&this.updataS3MLayer()}}},Da={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.LayerManageShow?i("div",{staticClass:"layerBox"},[i("Tree",{ref:"tree1",attrs:{data:e.TreeDatas,"show-checkbox":"",title:e.Resource.RightClickSetLayerProperties},on:{"on-contextmenu":e.handleContextMenu,"on-select-change":e.handleSelectChange,"on-check-change":e.handleCheckChange}},[i("template",{slot:"contextMenu"},[i("DropdownItem",{directives:[{name:"show",rawName:"v-show",value:e.hid,expression:"hid"}],nativeOn:{click:function(t){return e.handleContextMenuEdit.apply(null,arguments)}}},[e._v(e._s(e.Resource.layerOptions))]),e._v(" "),i("DropdownItem",{staticStyle:{color:"#ed4014"},nativeOn:{click:function(t){return e.handleContextMenuDelete.apply(null,arguments)}}},[e._v(e._s(e.Resource.DelLayer))])],1)],2)],1):e._e()},staticRenderFns:[]};var ka=i("VU/8")(Ma,Da,!1,function(e){i("PdL+")},"data-v-267120d4",null).exports,Na={name:"addLayers",data:function(){return{sharedState:store.state}},computed:{webServiceShow:function(){return this.sharedState.addLayer[0]},portalServiceSelected:function(){return this.sharedState.addLayer[1]},customServiceShow:function(){return this.sharedState.addLayer[2]},localFileShow:function(){return this.sharedState.addLayer[3]},portalServiceShow:function(){return window.store.isPortal},addLayerShow:function(){return this.sharedState.toolBar[1]}},methods:{toggleVisibility:function(){store.setToolBarAction(1)},choose:function(e){switch(e){case 0:store.setAddLayerAction([1,0,0,0]);break;case 1:store.setAddLayerAction([0,1,0,0]);break;case 2:store.setAddLayerAction([0,0,1,0]);break;case 3:store.setAddLayerAction([0,0,0,1]);break;default:store.setAddLayerAction([1,0,0,0])}},parentEvent:function(){store.setToolBarAction(1)}}},Ba={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.addLayerShow?i("div",{staticClass:"modal"},[i("div",{staticClass:"addLayer-panel"},[i("div",{staticClass:"sm-panel-header",staticStyle:{position:"relative"}},[i("div",{staticStyle:{width:"10px"}}),e._v(" "),i("span",{staticClass:"title-txt",class:{titleColor:e.webServiceShow},on:{click:function(t){return e.choose(0)}}},[e._v(e._s(e.Resource.publicService))]),e._v(" "),e.portalServiceShow?i("span",{staticClass:"title-txt",class:{titleColor:e.portalServiceSelected},on:{click:function(t){return e.choose(1)}}},[e._v(e._s(e.Resource.portalService))]):e._e(),e._v(" "),i("span",{staticClass:"title-txt",class:{titleColor:e.customServiceShow},on:{click:function(t){return e.choose(2)}}},[e._v(e._s(e.Resource.customService))]),e._v(" "),i("span",{staticClass:"title-txt",class:{titleColor:e.localFileShow},on:{click:function(t){return e.choose(3)}}},[e._v(e._s(e.Resource.localKML))]),e._v(" "),i("div",{staticStyle:{width:"10px"}}),e._v(" "),i("span",{staticClass:"closeBtn",on:{click:e.toggleVisibility}},[e._v("×")])]),e._v(" "),i("add-web-service"),e._v(" "),e.portalServiceShow?i("add-portal-service"):e._e(),e._v(" "),i("add-custom-service",{on:{childEvent:e.parentEvent}}),e._v(" "),i("add-local-file")],1)]):e._e()},staticRenderFns:[]};var Ia=i("VU/8")(Na,Ba,!1,function(e){i("1H+k")},"data-v-4e4c96d4",null).exports,Fa=void 0,Oa=void 0,Ha={name:"addBaseLayer",data:function(){return{imageryShow:0,terrainShow:Number,imageryIndex:0,sharedState:store.state,BaseLayers:null,BaseTerrainLayers:null,terrainType:""}},computed:{baseLayerShow:function(){return this.sharedState.toolBar[2]}},methods:{toggleVisibility:function(){store.setToolBarAction(2)},addBaseLayer:function(e,t){for(var i in this.otherTerrainLayers)this.otherTerrainLayers[i].imagery.chooseType?this.otherBaseImageryLayer(e,t):this.baseLayer(e,t);store.setToolBarAction(2)},addBaseTerrainLayer:function(e,t){switch(this.terrainType=e,this.removeTerrainLayer(),e){case"StkTerrain":viewer.terrainProvider=new Cesium.CesiumTerrainProvider({url:this.BaseTerrainLayers[t].url,requestWaterMask:!0,requestVertexNormals:!0,isSct:!1}),this.BaseTerrainLayers[t].chooseType=!0,window.terrainProvider=viewer.terrainProvider;break;case"tianDiTuTerrain":var i=new Cesium.TiandituTerrainProvider({token:this.BaseTerrainLayers[t].token});viewer.terrainProvider=i,this.BaseTerrainLayers[t].chooseType=!0,window.terrainProvider=viewer.terrainProvider;break;case"supermapOnlineTerrain":viewer.terrainProvider=new Cesium.SCTTerrainProvider({urls:[this.BaseTerrainLayers[t].url]}),this.BaseTerrainLayers[t].chooseType=!0,window.terrainProvider=viewer.terrainProvider}for(var s in this.terrainShow==t?(this.terrainShow=Number,this.removeTerrainLayer()):this.terrainShow=t,this.otherTerrainLayers)this.otherTerrainLayers[s].terrain.chooseType=!1;store.setToolBarAction(2)},baseLayer:function(e,t){for(var i=0;i<this.BaseLayers.length;i++)this.BaseLayers[i].chooseType=!1;var s=viewer.scene.globe._imageryLayerCollection,a=s.get(0);switch(s.get(1)&&s.remove(s.get(1)),e){case"BINGMAP":Fa=new Cesium.BingMapsImageryProvider({url:this.BaseLayers[t].url,key:this.BaseLayers[t].key}),this.BaseLayers[t].chooseType=!0;break;case"TIANDITU":Fa=new Cesium.TiandituImageryProvider({url:this.BaseLayers[t].url,token:this.BaseLayers[t].token}),this.BaseLayers[t].chooseType=!0;break;case"IMAGE":Fa=new Cesium.SingleTileImageryProvider({url:this.BaseLayers[t].url}),this.BaseLayers[t].chooseType=!0;break;case"OSM":Fa=new Cesium.createOpenStreetMapImageryProvider({url:this.BaseLayers[t].url}),this.BaseLayers[t].chooseType=!0;break;case"GRIDIMAGERY":Fa=Fa,this.BaseLayers[t].chooseType=!0}"GRIDIMAGERY"!==e&&(s.remove(a),this.BaseLayers[this.imageryShow].chooseType=!1,s.addImageryProvider(Fa,0)),"GRIDIMAGERY"==e&&(void 0==a&&(Fa=new Cesium.SingleTileImageryProvider({url:this.BaseLayers[0].url}),s.addImageryProvider(Fa,0),this.BaseLayers[0].chooseType=!0),s.addImageryProvider(new Cesium.TileCoordinatesImageryProvider,1)),this.imageryIndex==t?(this.imageryIndex=Number,this.imageryShow=t,this.removeImagery(e,t),this.addTerrainLayer(this.terrainShow)):"GRIDIMAGERY"===e?(this.BaseLayers[this.imageryShow].chooseType=!0,this.imageryIndex=t,this.imageryShow=t):(this.imageryIndex=t,this.imageryShow=t,this.BaseLayers[this.imageryShow].chooseType=!0)},otherBaseImageryLayer:function(e,t){var i=viewer.scene.globe._imageryLayerCollection;if(1==i._layers.length){for(var s=0;s<this.BaseLayers.length;s++)if(this.BaseLayers[s].chooseType){var a=viewer.imageryLayers._layers[0];viewer.imageryLayers.remove(a)}switch(e){case"BINGMAP":Fa=new Cesium.BingMapsImageryProvider({url:this.BaseLayers[t].url,key:this.BaseLayers[t].key}),this.BaseLayers[t].chooseType=!0;break;case"TIANDITU":Fa=new Cesium.TiandituImageryProvider({url:this.BaseLayers[t].url,token:this.BaseLayers[t].token}),this.BaseLayers[t].chooseType=!0;break;case"IMAGE":Fa=new Cesium.SingleTileImageryProvider({url:this.BaseLayers[t].url}),this.BaseLayers[t].chooseType=!0;break;case"OSM":Fa=new Cesium.createOpenStreetMapImageryProvider({url:this.BaseLayers[t].url}),this.BaseLayers[t].chooseType=!0;break;case"GRIDIMAGERY":Fa=Fa,this.BaseLayers[t].chooseType=!0}if("GRIDIMAGERY"!==e){for(var o=0;o<this.BaseLayers.length;o++)4==this.imageryIndex&&(this.BaseLayers[o].chooseType=!1);this.BaseLayers[this.imageryShow].chooseType=!1,i.addImageryProvider(Fa,0)}"GRIDIMAGERY"==e&&(Fa=new Cesium.SingleTileImageryProvider({url:this.BaseLayers[0].url}),i.addImageryProvider(Fa,0),this.BaseLayers[0].chooseType=!0,i.addImageryProvider(new Cesium.TileCoordinatesImageryProvider,2))}else{if(i._layers.length>=3){for(var n,r=0;r<i._layers.length;r++)"image"==i._layers[r]._imageryProvider.tablename&&(n=i._layers[r],i.remove(n));i.addImageryProvider(n._imageryProvider,1)}var l=void 0;switch(l="image"==i._layers[0]._imageryProvider.tablename?i.get(1):i.get(0),i.get(2)&&i.remove(i.get(2)),e){case"BINGMAP":Fa=new Cesium.BingMapsImageryProvider({url:this.BaseLayers[t].url,key:this.BaseLayers[t].key}),this.BaseLayers[t].chooseType=!0;break;case"TIANDITU":Fa=new Cesium.TiandituImageryProvider({url:this.BaseLayers[t].url,token:this.BaseLayers[t].token}),this.BaseLayers[t].chooseType=!0;break;case"IMAGE":Fa=new Cesium.SingleTileImageryProvider({url:this.BaseLayers[t].url}),this.BaseLayers[t].chooseType=!0;break;case"OSM":Fa=new Cesium.createOpenStreetMapImageryProvider({url:this.BaseLayers[t].url}),this.BaseLayers[t].chooseType=!0;break;case"GRIDIMAGERY":Fa=Fa,this.BaseLayers[t].chooseType=!0}if("GRIDIMAGERY"!==e){i.remove(l);for(var c=0;c<this.BaseLayers.length;c++)this.imageryIndex==this.BaseLayers.length-1&&(this.BaseLayers[c].chooseType=!1);this.BaseLayers[this.imageryShow].chooseType=!1,this.BaseLayers[this.imageryShow].isMultipleChoose=!1,i.addImageryProvider(Fa,0)}"GRIDIMAGERY"==e&&(void 0==l&&(Fa=new Cesium.SingleTileImageryProvider({url:this.BaseLayers[0].url}),i.addImageryProvider(Fa,0),this.BaseLayers[0].chooseType=!0),i.addImageryProvider(new Cesium.TileCoordinatesImageryProvider,2))}this.imageryIndex==t?(this.imageryIndex=Number,this.imageryShow=t,this.removeOtherImagery(e,t)):(this.imageryIndex=t,this.imageryShow=t,this.BaseLayers[this.imageryShow].chooseType=!0)},removeTerrainLayer:function(){viewer.terrainProvider=new Cesium.EllipsoidTerrainProvider({ellipsoid:viewer.scene.globe.ellipsoid});for(var e=0;e<this.BaseTerrainLayers.length;e++)this.BaseTerrainLayers[e].chooseType=!1},removeImagery:function(e,t){this.BaseLayers[t].chooseType=!1;var i=viewer.scene.globe._imageryLayerCollection,s=i.get(0);"GRIDIMAGERY"!==e?i.remove(s):(i.get(1)&&i.remove(i.get(1)),i.remove(s))},addTerrainLayer:function(e){for(var t in this.otherTerrainLayers)if(!this.otherTerrainLayers[t].terrain.chooseType)switch(this.terrainType){case"StkTerrain":viewer.terrainProvider=new Cesium.CesiumTerrainProvider({url:this.BaseTerrainLayers[e].url,isSct:!1}),this.BaseTerrainLayers[e].chooseType=!0,window.terrainProvider=viewer.terrainProvider;break;case"tianDiTuTerrain":var i=new Cesium.TiandituTerrainProvider({token:this.BaseTerrainLayers[e].token});viewer.terrainProvider=i,this.BaseTerrainLayers[e].chooseType=!0,window.terrainProvider=viewer.terrainProvider;break;case"supermapOnlineTerrain":viewer.terrainProvider=new Cesium.SCTTerrainProvider({urls:[this.BaseTerrainLayers[e].url]}),this.BaseTerrainLayers[e].chooseType=!0,window.terrainProvider=viewer.terrainProvider}},removeOtherImagery:function(e,t){this.BaseLayers[t].chooseType=!1;var i=viewer.scene.globe._imageryLayerCollection,s=i.get(0);if("GRIDIMAGERY"!==e)i.remove(s);else{for(var a=0;a<this.BaseLayers.length;a++)this.BaseLayers[a].chooseType=!1;i.remove(s);var o=i.get(1);i.remove(o)}},initialState:function(){this.updateImageryState(),this.updateTerrainState()},updateImageryState:function(){var e=this.BaseLayers.length;if(this.imageryIndex==e-1&&this.BaseLayers[e-1].chooseType)this.imageryIndex=e-1;else for(var t=0;t<this.BaseLayers.length;t++){if(this.BaseLayers[t].chooseType)return this.imageryIndex=this.BaseLayers[t].index,void(this.imageryShow=this.BaseLayers[t].index);this.imageryIndex=Number}},updateTerrainState:function(){for(var e=0;e<this.BaseTerrainLayers.length;e++){if(this.BaseTerrainLayers[e].chooseType)return void(this.terrainShow=this.BaseTerrainLayers[e].index);this.terrainShow=Number}for(var t in this.otherTerrainLayers)this.otherTerrainLayers[t].terrain.chooseType&&(this.terrainShow=Number)}},watch:{baseLayerShow:function(e){var t=this;this.BaseLayers=na,this.BaseTerrainLayers=ut,this.otherTerrainLayers=mt,e?(document.getElementsByTagName("canvas")[0].onclick=function(){t.toggleVisibility()},Oa=setInterval(function(){t.initialState()},100)):(document.getElementsByTagName("canvas")[0].onclick=null,clearInterval(Oa),Oa=void 0)}}},Ua={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.baseLayerShow,expression:"baseLayerShow"}],staticClass:"baseLayer"},[i("div",{staticClass:"base-panel-header"}),e._v(" "),i("div",{staticClass:"imageBaseLayer",staticStyle:{background:"rgba(35,35,35,0.8)"}},[i("div",{staticClass:"image-panel-header"},[e._v(e._s(e.Resource.OnlineBaseMap))]),e._v(" "),i("div",{staticClass:"imageContainer"},e._l(e.BaseLayers,function(t,s){return i("div",{key:t.name,staticClass:"imageBox",on:{click:function(i){return e.addBaseLayer(t.type,s)}}},[i("div",{staticClass:"overlayImage"},[i("img",{attrs:{src:t.thumbnail,alt:""}}),e._v(" "),e.imageryIndex==s?i("img",{staticClass:"imgcross",staticStyle:{width:"30px",height:"26px"},attrs:{src:t.imgsrc,alt:""}}):e._e()]),e._v(" "),i("label",[e._v(e._s(t.name))])])}),0)]),e._v(" "),i("div",{staticClass:"imageBaseLayer",staticStyle:{background:"rgba(35,35,35,0.8)"}},[i("div",{staticClass:"image-panel-header"},[e._v(" "+e._s(e.Resource.onlineTerrain))]),e._v(" "),i("div",{staticClass:"imageContainer"},e._l(e.BaseTerrainLayers,function(t,s){return i("div",{key:t.name,staticClass:"imageBox",on:{click:function(i){return e.addBaseTerrainLayer(t.type,s)}}},[i("div",{staticClass:"overlayImage"},[i("img",{attrs:{src:t.thumbnail,alt:""}}),e._v(" "),e.terrainShow==s?i("img",{staticClass:"imgcross",staticStyle:{width:"30px",height:"26px"},attrs:{src:t.imgsrc,alt:""}}):e._e()]),e._v(" "),i("label",[e._v(e._s(t.name))])])}),0)])])},staticRenderFns:[]};var za=i("VU/8")(Ha,Ua,!1,function(e){i("5XlY")},"data-v-8481e3d2",null).exports,Va={name:"TerrainAnalysis",props:{},data:function(){return{sharedState:store.state}},computed:{OperationShow:function(){return this.sharedState.terrain[0]},floodShow:function(){return this.sharedState.terrain[1]},slopeShow:function(){return this.sharedState.terrain[2]},isolineShow:function(){return this.sharedState.terrain[3]},terrainShow:function(){return this.sharedState.toolBar[5]},zIndex:function(){return this.sharedState.zindex}},methods:{toggleVisibility:function(){store.setToolBarAction(5)},choose:function(e){if("true"!==document.getElementById("terrainAnalysis").getAttribute("data-flag"))return!1;switch(e){case 0:store.setTerrainAction([1,0,0,0]);break;case 1:store.setTerrainAction([0,1,0,0]);break;case 2:store.setTerrainAction([0,0,1,0]);break;case 3:store.setTerrainAction([0,0,0,1]);break;default:store.setTerrainAction([1,0,0,0])}}},watch:{terrainShow:function(e){if(e){var t=this.sharedState.toolBar.filter(function(e){return e>0||1==e}),i=document.getElementById("terrainAnalysis"),s=window.getComputedStyle(i).top||i.offsetTop,a=this.zIndex+1;if(i.style.zIndex=a,store.setZindex(a),t.length>0&&"100px"==s){var o=100+40*(t.length-1)+"px";i.style.top=o}}}}},Ga={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.terrainShow,expression:"terrainShow"},{name:"drag",rawName:"v-drag"}],staticClass:"sm-panel terrainAnalysis",attrs:{id:"terrainAnalysis"}},[i("label",{staticClass:"terrainTitle"},[e._v(e._s(e.Resource.terrain))]),e._v(" "),i("div",{staticStyle:{"margin-top":"-2px"}},[i("div",{staticClass:"sm-panel-header combinationHear"},[i("span",{staticClass:"title-txt",class:{titleColor:e.OperationShow},on:{click:function(t){return e.choose(0)}}},[e._v(e._s(e.Resource.TerrainOperation))]),e._v(" "),i("span",{staticClass:"title-txt",class:{titleColor:e.floodShow},on:{click:function(t){return e.choose(1)}}},[e._v(e._s(e.Resource.FloodAnalysis))]),e._v(" "),i("span",{staticClass:"title-txt",class:{titleColor:e.slopeShow},on:{click:function(t){return e.choose(2)}}},[e._v(e._s(e.Resource.terrainSlope))]),e._v(" "),i("span",{staticClass:"title-txt",class:{titleColor:e.isolineShow},on:{click:function(t){return e.choose(3)}}},[e._v(e._s(e.Resource.isoline))])]),e._v(" "),i("sm3d-terrain-operation"),e._v(" "),i("sm3d-terrain-flood"),e._v(" "),i("sm3d-terrain-slope"),e._v(" "),i("sm3d-terrain-isoline")],1),e._v(" "),i("span",{staticClass:"terrainBtn",on:{click:e.toggleVisibility}},[e._v("×")])])},staticRenderFns:[]};var ja=i("VU/8")(Va,Ga,!1,function(e){i("qEBa")},"data-v-47d1530e",null).exports,Wa={name:"ClipAnalysis",props:{},data:function(){return{sharedState:store.state}},computed:{boxShow:function(){return this.sharedState.clip[0]},planeShow:function(){return this.sharedState.clip[1]},crossShow:function(){return this.sharedState.clip[2]},polygonShow:function(){return this.sharedState.clip[3]},clipShow:function(){return this.sharedState.toolBar[4]},zIndex:function(){return this.sharedState.zindex}},methods:{toggleVisibility:function(){store.setToolBarAction(4)},choose:function(e){if("true"!==document.getElementById("clipAnalysis").getAttribute("data-flag"))return!1;switch(e){case 0:store.setClipAction([1,0,0,0]);break;case 1:store.setClipAction([0,1,0,0]);break;case 2:store.setClipAction([0,0,1,0]);break;case 3:store.setClipAction([0,0,0,1]);break;default:store.setClipAction([1,0,0,0])}}},watch:{clipShow:function(e){if(e){var t=this.sharedState.toolBar.filter(function(e){return e>0||1==e}),i=document.getElementById("clipAnalysis"),s=window.getComputedStyle(i).top||i.offsetTop,a=this.zIndex+1;if(i.style.zIndex=a,store.setZindex(a),t.length>0&&"100px"==s){var o=100+40*(t.length-1)+"px";i.style.top=o}}}}},Za={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.clipShow,expression:"clipShow"},{name:"drag",rawName:"v-drag"}],staticClass:"sm-panel",attrs:{id:"clipAnalysis"}},[i("div",{staticClass:"sm-content"},[i("div",{staticClass:"sm-panel-header"},[i("span",{staticClass:"title-clip-txt",class:{titleColor:e.boxShow},on:{click:function(t){return e.choose(0)}}},[e._v(e._s(e.Resource.BoxClip))]),e._v(" "),i("span",{staticClass:"title-clip-txt",class:{titleColor:e.planeShow},on:{click:function(t){return e.choose(1)}}},[e._v(e._s(e.Resource.PlaneClip))]),e._v(" "),i("span",{staticClass:"title-clip-txt",class:{titleColor:e.crossShow},on:{click:function(t){return e.choose(2)}}},[e._v(e._s(e.Resource.CrossClip))]),e._v(" "),i("span",{staticClass:"title-clip-txt",class:{titleColor:e.polygonShow},on:{click:function(t){return e.choose(3)}}},[e._v(e._s(e.Resource.PolygonClip))]),e._v(" "),i("span",{staticClass:"closeBtn",on:{click:e.toggleVisibility}},[e._v("×")])]),e._v(" "),i("sm3d-clip-box-byeditor"),e._v(" "),i("sm3d-clip-plane"),e._v(" "),i("sm3d-clip-cross"),e._v(" "),i("sm3d-clip-polygon")],1)])},staticRenderFns:[]};var qa=i("VU/8")(Wa,Za,!1,function(e){i("1z3j")},"data-v-4fbe2013",null).exports,Qa={name:"Sm3dAnalysis",props:{},data:function(){return{sharedState:store.state,spatialAnalysisUrl:"https://www.supermapol.com/realspace/services/spatialAnalysis-data_all/restjsr/spatialanalyst/geometry/3d/viewshedbody.json"}},computed:{sightlineShow:function(){return this.sharedState.analysis[0]},viewshedShow:function(){return this.sharedState.analysis[1]},shadowqueryShow:function(){return this.sharedState.analysis[2]},profileShow:function(){return this.sharedState.analysis[3]},skylineShow:function(){return this.sharedState.analysis[4]},analysisShow:function(){return this.sharedState.toolBar[6]},zIndex:function(){return this.sharedState.zindex}},methods:{toggleVisibility:function(){store.setToolBarAction(6)},choose:function(e){if("true"!==document.getElementById("3DAnalysis").getAttribute("data-flag"))return!1;switch(e){case 0:store.setAnalysisAction([1,0,0,0,0]);break;case 1:store.setAnalysisAction([0,1,0,0,0]);break;case 2:store.setAnalysisAction([0,0,1,0,0]);break;case 3:store.setAnalysisAction([0,0,0,1,0]);break;default:store.setAnalysisAction([0,0,0,0,1])}}},watch:{analysisShow:function(e){if(e){var t=this.sharedState.toolBar.filter(function(e){return e>0||1==e}),i=document.getElementById("3DAnalysis"),s=window.getComputedStyle(i).top||i.offsetTop,a=this.zIndex+1;if(i.style.zIndex=a,store.setZindex(a),t.length>0&&"100px"==s){var o=100+40*(t.length-1)+"px";i.style.top=o}}}}},Ya={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.analysisShow,expression:"analysisShow"},{name:"drag",rawName:"v-drag"}],staticClass:"sm-panel",attrs:{id:"3DAnalysis"}},[i("div",{staticClass:"sm-content"},[i("div",{staticClass:"sm-panel-header"},[i("span",{staticClass:"title-txt",class:{titleColor:e.sightlineShow},on:{click:function(t){return e.choose(0)}}},[e._v(e._s(e.Resource.sightline))]),e._v(" "),i("span",{staticClass:"title-txt",class:{titleColor:e.viewshedShow},on:{click:function(t){return e.choose(1)}}},[e._v(e._s(e.Resource.viewShed))]),e._v(" "),i("span",{staticClass:"title-txt",class:{titleColor:e.shadowqueryShow},on:{click:function(t){return e.choose(2)}}},[e._v(e._s(e.Resource.shadowAnalysis))]),e._v(" "),i("span",{staticClass:"title-txt",class:{titleColor:e.profileShow},on:{click:function(t){return e.choose(3)}}},[e._v(e._s(e.Resource.profile))]),e._v(" "),i("span",{staticClass:"title-txt",class:{titleColor:e.skylineShow},on:{click:function(t){return e.choose(4)}}},[e._v(e._s(e.Resource.skyline))]),e._v(" "),i("span",{staticClass:"closeBtn",on:{click:e.toggleVisibility}},[e._v("×")])]),e._v(" "),i("sm3d-sightline"),e._v(" "),i("sm3d-viewshed",{attrs:{"spatial-analysis-url":e.spatialAnalysisUrl}}),e._v(" "),i("sm3d-shadowquery"),e._v(" "),i("sm3d-profile"),e._v(" "),i("sm3d-skyline")],1)])},staticRenderFns:[]},Xa=i("VU/8")(Qa,Ya,!1,null,null,null).exports,Ja=[!0,!0,!0,!0,!0,!0,!0,!0,!0],$a={name:"ToolBar",props:{},data:function(){return{sharedState:store.state,toolBarColor:store.state.toolBaseColor,show:!0,LayerManagerActive:"",AddLayerActive:"",BaseLayerActive:"",SceneOptionActive:"",ClipActive:"",TerrainActive:"",AnalysisActive:"",MeasureActive:"",onlineEditActive:"",isLayerManager:!0,isAddLayerActive:!0,isBaseLayerActive:!0,isSceneOptionActive:!0,isClipActive:!0,isTerrainActive:!0,isAnalysisActive:!0,isMeasureActive:!0,isOnlineEditActive:!0}},computed:{ToolBarShow:function(){return this.sharedState.ToolBarShow}},methods:{toggleVisibility:function(){this.show=!this.show},choose:function(e){switch(store.setToolBarAction(e),e){case 0:this.isLayerManager=this.changeBaseColor(e);break;case 1:this.isAddLayerActive=store.state.toolBaseColor[e];break;case 2:this.isBaseLayerActive=this.changeBaseColor(e);break;case 3:this.isSceneOptionActive=store.state.toolBaseColor[e];break;case 4:this.isClipActive=store.state.toolBaseColor[e];break;case 5:this.isTerrainActive=store.state.toolBaseColor[e];break;case 6:this.isAnalysisActive=store.state.toolBaseColor[e];break;case 7:this.isMeasureActive=store.state.toolBaseColor[e];break;case 8:this.isOnlineEditActive=store.state.toolBaseColor[e]}},changeBaseColor:function(e){return!0===Ja[e]?Ja[e]=!1:Ja[e]=!0,Ja[e]},enter:function(e){switch(this.active="color:#2ec5ad;background-color:rgba(71,71,71,0.75)",e){case 0:this.LayerManagerActive=this.active;break;case 1:this.AddLayerActive=this.active;break;case 2:this.BaseLayerActive=this.active;break;case 3:this.SceneOptionActive=this.active;break;case 4:this.ClipActive=this.active;break;case 5:this.TerrainActive=this.active;break;case 6:this.AnalysisActive=this.active;break;case 7:this.MeasureActive=this.active;break;case 8:this.onlineEditActive=this.active}},out:function(e){switch(this.active="",e){case 0:this.LayerManagerActive=this.active;break;case 1:this.AddLayerActive=this.active;break;case 2:this.BaseLayerActive=this.active;break;case 3:this.SceneOptionActive=this.active;break;case 4:this.ClipActive=this.active;break;case 5:this.TerrainActive=this.active;break;case 6:this.AnalysisActive=this.active;break;case 7:this.MeasureActive=this.active;break;case 8:this.onlineEditActive=this.active}}},mounted:function(){var e=this;setInterval(function(){e.isAddLayerActive=store.state.toolBaseColor[1],e.isSceneOptionActive=store.state.toolBaseColor[3],e.isClipActive=store.state.toolBaseColor[4],e.isTerrainActive=store.state.toolBaseColor[5],e.isAnalysisActive=store.state.toolBaseColor[6],e.isMeasureActive=store.state.toolBaseColor[7],e.isOnlineEditActive=store.state.toolBaseColor[8]},10)}},Ka={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.ToolBarShow?i("div",[i("div",{staticClass:"toolBar"},[i("div",{staticClass:"sm-btn sm-tool-btn",class:[e.show?"sm-toggle-btn-only":"",e.isLayerManager?"":"titleBarColor"],staticStyle:{"border-top-left-radius":"4px","border-bottom-left-radius":"4px"},style:e.LayerManagerActive,attrs:{title:e.Resource.layerManager},on:{click:function(t){return e.choose(0)},mouseover:function(t){return e.enter(0)},mouseout:function(t){return e.out(0)}}},[i("span",{staticClass:"iconfont icontuceng"})]),e._v(" "),e.show?i("ul",[i("li",{staticClass:"sm-btn sm-tool-btn",class:[e.isAddLayerActive?"":"titleBarColor"],style:e.AddLayerActive,attrs:{title:e.Resource.addLayer},on:{click:function(t){return e.choose(1)},mouseover:function(t){return e.enter(1)},mouseout:function(t){return e.out(1)}}},[i("span",{staticClass:"iconfont iconjiazaituceng"})]),e._v(" "),i("li",{staticClass:"sm-btn sm-tool-btn",class:[e.isBaseLayerActive?"":"titleBarColor"],style:e.BaseLayerActive,attrs:{title:e.Resource.setBaseLayer},on:{click:function(t){return e.choose(2)},mouseover:function(t){return e.enter(2)},mouseout:function(t){return e.out(2)}}},[i("span",{staticClass:"iconfont iconditushezhi"})]),e._v(" "),i("li",{staticClass:"sm-btn sm-tool-btn",class:[e.isSceneOptionActive?"":"titleBarColor"],style:e.SceneOptionActive,attrs:{title:e.Resource.sceneOptions},on:{click:function(t){return e.choose(3)},mouseover:function(t){return e.enter(3)},mouseout:function(t){return e.out(3)}}},[i("span",{staticClass:"iconfont iconchangjingshezhi"})]),e._v(" "),i("li",{staticClass:"sm-btn sm-tool-btn",class:[e.isClipActive?"":"titleBarColor"],style:e.ClipActive,attrs:{title:e.Resource.clip},on:{click:function(t){return e.choose(4)},mouseover:function(t){return e.enter(4)},mouseout:function(t){return e.out(4)}}},[i("span",{staticClass:"iconfont iconcaijian1"})]),e._v(" "),i("li",{staticClass:"sm-btn sm-tool-btn",class:[e.isTerrainActive?"":"titleBarColor"],style:e.TerrainActive,attrs:{title:e.Resource.terrain},on:{click:function(t){return e.choose(5)},mouseover:function(t){return e.enter(5)},mouseout:function(t){return e.out(5)}}},[i("span",{staticClass:"iconfont icondixing"})]),e._v(" "),i("li",{staticClass:"sm-btn sm-tool-btn",class:[e.isAnalysisActive?"":"titleBarColor"],style:e.AnalysisActive,attrs:{title:e.Resource.analysis},on:{click:function(t){return e.choose(6)},mouseover:function(t){return e.enter(6)},mouseout:function(t){return e.out(6)}}},[i("span",{staticClass:"iconfont iconsanweifenxi"})]),e._v(" "),i("li",{staticClass:"sm-btn sm-tool-btn",class:[e.isMeasureActive?"":"titleBarColor"],style:e.MeasureActive,attrs:{title:e.Resource.measure},on:{click:function(t){return e.choose(7)},mouseover:function(t){return e.enter(7)},mouseout:function(t){return e.out(7)}}},[i("span",{staticClass:"iconfont iconliangsuan"})]),e._v(" "),i("li",{staticClass:"sm-btn sm-tool-btn",class:[e.isOnlineEditActive?"":"titleBarColor"],style:e.onlineEditActive,attrs:{title:e.Resource.onlineEditing},on:{click:function(t){return e.choose(8)},mouseover:function(t){return e.enter(8)},mouseout:function(t){return e.out(8)}}},[i("span",{staticClass:"iconfont iconzaixianbianji"})])]):e._e(),e._v(" "),i("div",{staticClass:"sm-tool-btn",class:{"sm-tool-btn-only":!e.show},staticStyle:{"border-top-right-radius":"4px","border-bottom-right-radius":"4px"},on:{click:e.toggleVisibility}},[i("span",{staticClass:"iconfont",class:e.show?"iconiEarth-R8-xiugai_shouqi":"iconiEarth-R8-xiugai_zhankai"})])]),e._v(" "),i("layer-manage"),e._v(" "),i("add-layers"),e._v(" "),i("add-base-layer"),e._v(" "),i("scene-atttribute"),e._v(" "),i("terrain-analysis"),e._v(" "),i("clip-analysis"),e._v(" "),i("sm3d-measure"),e._v(" "),i("sm3d-analysis"),e._v(" "),i("online-edit"),e._v(" "),i("layer-attribute"),e._v(" "),i("air-lines-trail-lines"),e._v(" "),i("scan-effect"),e._v(" "),i("wind-particle"),e._v(" "),i("rain-and-snow")],1):e._e()},staticRenderFns:[]};var eo=i("VU/8")($a,Ka,!1,function(e){i("76oY")},"data-v-283be8a0",null).exports,to=void 0,io=void 0,so=void 0,ao=void 0,oo=void 0,no=void 0,ro={name:"LayerAttribute",data:function(){return{sharedState:store.state,shadowType:"noShadow",shadowDarkness:.3,visibility:"showAll",display:!0,multiChoose:!1,cullEnabled:!1,breleaseColor:!0,downloadAtt:!1,minVisibleH:0,maxVisibleH:this.maxVisibleHeight,foreColor:"#ffffff",lineColor:"rgb(67,67,67)",bottomAltitude:0,LODScale:5,fillStyle:"fill-and-wireframe",lineMode:"triangle",modelTransparency:1,selectColorType:0,selectColor:"#A40FF4",MaxHeight:71,MinHeight:1,FloodSpeed:1,offset:!1,offsetX:0,offsetY:0,offsetZ:0,brightness:1,contrast:1,hue:0,saturation:1,PolygonOffsetFactor:0,PolygonOffsetUnit:0,StereographicmaxDistance:100,StereographicmaxHeight:500}},computed:{isInitViewer:function(){return this.sharedState.isInitViewer},basicOptions:function(){return this.sharedState.LayerAttribute[0]},styleSetting:function(){return this.sharedState.LayerAttribute[1]},LayerOperation:function(){return this.sharedState.LayerAttribute[2]},LayerAttributeShow:function(){return this.sharedState.LayerAttributeToolbar},selectedLayer:function(){var e=this.sharedState.selectedLayerName;return viewer.scene.layers.find(e)},layerName:function(){return this.downloadAtt=this.selectedLayer.indexedDBSetting.isAttributesSave,this.sharedState.selectedLayerName},maxVisibleHeight:function(){return Number.MAX_VALUE}},mounted:function(){},methods:{init:function(){},toggleVisibility:function(){store.setLayerAttributeToolbal(!1)},clearModification:function(){this.selectedLayer.style3D.fillForeColor=Cesium.Color.fromCssColorString("#ffffff"),this.selectedLayer.style3D.lineColor=Cesium.Color.fromCssColorString("rgb(67,67,67)"),this.selectedLayer.lodRangeScale=parseFloat(5),this.selectedLayer.style3D.fillStyle===Cesium.FillStyle.Fill_And_WireFrame?(this.selectedLayer.style3D.fillStyle=Cesium.FillStyle.Fill_And_WireFrame,this.selectedLayer.style3D.lineColor=Cesium.Color.fromCssColorString("rgb(67,67,67)"),this.selectedLayer.wireFrameMode=Cesium.WireFrameType.Sketch):this.selectedLayer.style3D.fillStyle=Cesium.FillStyle.Fill,this.selectedLayer.style3D.fillForeColor.alpha=parseFloat(1),this.selectedLayer.style3D.bottomAltitude=parseInt(0),this.selectedLayer.selectColorType=Number(0),this.selectedLayer.selectedColor=Cesium.Color.fromCssColorString("#A40FF4"),this.foreColor="#ffffff",this.lineColor="rgb(67,67,67)",this.bottomAltitude=0,this.LODScale=5,this.fillStyle="fill-and-wireframe",this.modelTransparency=1,this.selectColorType=0,this.selectColor="#A40FF4"},choose:function(e){if("true"!==document.getElementById("LayerAttribute").getAttribute("data-flag"))return!1;switch(e){case 0:store.setLayerAttribute([1,0,0,0]);break;case 1:store.setLayerAttribute([0,1,0,0]);break;case 2:store.setLayerAttribute([0,0,1,0]);break;case 3:store.setLayerAttribute([0,0,0,1]);break;default:store.setLayerAttribute([1,0,0,0])}},excavationRegion:function(){var e=this;window.handlerPolygon||common.initHandler("Polygon"),common.handlerDrawing("Polygon").then(function(t){window.handlerPolygon;e.selectedLayer.addExcavationRegion({position:t.positions,name:"excavation_"+Math.random()}),window.handlerPolygon.polygon.show=!1,window.handlerPolygon.deactivate()},function(e){console.log(e)}),window.handlerPolygon.activate()},delExcavationRegion:function(){this.selectedLayer.removeAllExcavationRegion(),common.clearHandlerDrawing("Polygon")},flattenRegion:function(){var e=this;window.handlerPolygon||common.initHandler("Polygon"),common.handlerDrawing("Polygon").then(function(t){e.handlerPolygon;e.selectedLayer.addFlattenRegion({position:t.positions,name:"flatten"+Math.random()}),window.handlerPolygon.polygon.show=!1,window.handlerPolygon.deactivate()},function(e){console.log(e)}),window.handlerPolygon.activate()},delFlattenRegion:function(){this.selectedLayer.removeAllFlattenRegion(),common.clearHandlerDrawing("Polygon")},modelFlood:function(){var e=this;io||this.initFlood().then(function(t){e.startAnalysis(t)})},initFlood:function(){return new d.a(function(e){io=new Cesium.HypsometricSetting,(ao=new Cesium.ColorTable).insert(71,new Cesium.Color(0,39/255,148/255)),ao.insert(0,new Cesium.Color(149/255,232/255,249/255)),io.ColorTable=ao,io.DisplayMode=Cesium.HypsometricSettingEnum.DisplayMode.FACE,io.Opacity=.7,io.LineInterval=10;e(!0)})},startAnalysis:function(e){var t=this;e||this.initFlood();var i;i=parseInt(this.MinHeight),so=window.requestAnimationFrame(function(){t.floodTimer(i)})},floodTimer:function(e){var t=this,i=parseInt(this.MaxHeight);if(e>=i)return window.cancelAnimationFrame(so),void(so=null);if(io){var s=parseInt(this.MinHeight),a=parseInt(this.FloodSpeed);io.MaxVisibleValue=e,io.MinVisibleValue=s,this.selectedLayer.hypsometricSetting={hypsometricSetting:io,analysisMode:Cesium.HypsometricSettingEnum.AnalysisRegionMode.ARM_ALL},e+=a/20,so=window.requestAnimationFrame(function(){t.floodTimer(e)})}},ModelFloodClear:function(){window.cancelAnimationFrame(so),io&&(io.MaxVisibleValue=-100,this.selectedLayer.hypsometricSetting={hypsometricSetting:io,analysisMode:Cesium.HypsometricSettingEnum.AnalysisRegionMode.ARM_ALL},ao.clear(),ao.destroy(),ao=void 0,io.destroy(),io=null)},assignRange:function(){(oo=new Cesium.Facade(scene)).build(),(no=new Cesium.DrawHandler(viewer,Cesium.DrawMode.Line,Cesium.ClampMode.S3mModel)).drawEvt.addEventListener(function(e){var t=e.object.positions[0],i=e.object.positions[1];oo.startPoint=t,oo.endPoint=i}),no.activate()},stereographicDrawing:function(){var e=this;oo.readyPromise.then(function(t){e.download(t)})},download:function(e){var t=this,i=new Image;i.src=e,i.onload=function(){var e=t.convertImageToCanvas(i).toDataURL("image/jpeg"),s=document.createElement("a"),a=new MouseEvent("click");s.download=(new Date).getTime()+".jpg",s.href=e,s.dispatchEvent(a)}},convertImageToCanvas:function(e){var t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t},clearStereographic:function(){oo.clear(),no.clear()},isOpenShadow:function(e){viewer.scene.globe.enableLighting=e,viewer.shadows=e},clearOffset:function(){this.offset=!1,this.offsetX=0,this.offsetY=0,this.offsetZ=0,this.selectedLayer.removeAllObjsTranslate()}},watch:{shadowType:function(e){var t=this.selectedLayer;switch(e){case"noShadow":this.isOpenShadow(!1),t.shadowType=0;break;case"allShadow":this.isOpenShadow(!0),t.shadowType=2,t.refresh()}},shadowDarkness:function(e){viewer.shadowMap.darkness=Number(e)},visibility:function(e){var t=this.selectedLayer;switch(e){case"showAll":t.setObjsVisible([],!1);break;case"onlyHideSlection":var i=t.getSelection();t.setObjsVisible(i,!1);break;case"onlyShowSlection":var s=t.getSelection();t.setObjsVisible(s,!0)}},display:function(e){this.selectedLayer.visible=e},multiChoose:function(e){this.selectedLayer.multiChoose=e},cullEnabled:function(e){this.selectedLayer.cullEnabled=e},downloadAtt:function(e){this.selectedLayer.indexedDBSetting.isAttributesSave=e},minVisibleH:function(e){""==e&&(e=0),this.selectedLayer.visibleDistanceMin=Number(e)},maxVisibleH:function(e){""==e&&(e=this.maxNumber),this.selectedLayer.visibleDistanceMax=Number(e)},foreColor:function(e){this.selectedLayer.style3D.fillForeColor=Cesium.Color.fromCssColorString(e)},lineColor:function(e){this.selectedLayer.style3D.lineColor=Cesium.Color.fromCssColorString(e)},bottomAltitude:function(e){""===e||e<0||(this.selectedLayer.style3D.bottomAltitude=parseInt(e),this.selectedLayer.refresh())},LODScale:function(e){this.selectedLayer.lodRangeScale=parseFloat(e)},fillStyle:function(e){switch(e){case"fill":this.selectedLayer.style3D.fillStyle=Cesium.FillStyle.Fill,this.selectedLayer.refresh();break;case"wireframe":this.selectedLayer.style3D.fillStyle=Cesium.FillStyle.WireFrame;break;case"fill-and-wireframe":this.selectedLayer.style3D.fillStyle=Cesium.FillStyle.Fill_And_WireFrame}},lineMode:function(e){switch(e){case"triangle":this.selectedLayer.wireFrameMode=Cesium.WireFrameType.Triangle;break;case"quad":this.selectedLayer.wireFrameMode=Cesium.WireFrameType.Quad;break;case"sketch":this.selectedLayer.wireFrameMode=Cesium.WireFrameType.Sketch}},modelTransparency:function(e){this.selectedLayer.style3D.fillForeColor.alpha=parseFloat(e)},selectColorType:function(e){this.selectedLayer.selectColorType=Number(e)},selectColor:function(e){this.selectedLayer.selectedColor=Cesium.Color.fromCssColorString(e)},offset:function(e){if(e){var t=Number(this.offsetX),i=Number(this.offsetY),s=Number(this.offsetZ),a=this.selectedLayer;a.selectedTranslate=new Cesium.Cartesian3(t,i,s),a.selectColorType=1,(to=new Cesium.ScreenSpaceEventHandler(viewer.scene.canvas)).setInputAction(function(){if(a.removeAllObjsOffset(),a.getSelection().length>0){var e=Number(a.getSelection()[0]);a.setObjsOffset([e])}},Cesium.ScreenSpaceEventType.LEFT_CLICK)}else{var o=this.selectedLayer;to.destroy(),to=void 0,o.selectedTranslate=new Cesium.Cartesian3(0,0,0),o.removeAllObjsOffset(),o.selectColorType=0,o.releaseSelection()}},offsetX:function(e){if(this.offset){var t=Number(e),i=Number(this.offsetY),s=Number(this.offsetZ);this.selectedLayer.selectedTranslate=new Cesium.Cartesian3(t,i,s)}},offsetZ:function(e){if(this.offset){var t=Number(this.offsetX),i=Number(this.offsetY),s=Number(e);this.selectedLayer.selectedTranslate=new Cesium.Cartesian3(t,i,s)}},offsetY:function(e){if(this.offset){var t=Number(this.offsetX),i=Number(e),s=Number(this.offsetZ);this.selectedLayer.selectedTranslate=new Cesium.Cartesian3(t,i,s)}},brightness:function(e){""!==e&&(this.selectedLayer.brightness=Number(e))},contrast:function(e){""!==e&&(this.selectedLayer.contrast=Number(e))},hue:function(e){""!==e&&(this.selectedLayer.hue=Number(e))},saturation:function(e){""!==e&&(this.selectedLayer.saturation=Number(e))},LayerOperation:function(e){e&&(this.brightness=this.selectedLayer.brightness,this.contrast=this.selectedLayer.contrast,this.hue=this.selectedLayer.hue,this.saturation=this.selectedLayer.saturation)},PolygonOffsetFactor:function(e){if(""!==e){var t=Number(e),i=Number(this.PolygonOffsetUnit);this.selectedLayer.setPolygonoffset(t,i)}},PolygonOffsetUnit:function(e){if(""!==e){var t=Number(this.polygonOffsetFactor),i=Number(e);this.selectedLayer.setPolygonoffset(t,i)}},StereographicmaxDistance:function(e){oo.maxDistance=Number(e)},StereographicmaxHeight:function(e){oo.maxHeight=Number(e)},LayerAttributeShow:function(e){e&&this.init()}},beforeDestroy:function(){this.isDestroyFlag&&handlerBox&&(editorBox&&editorBox.destroy(),editorBox=void 0,layers=void 0,handlerBox=void 0,tooltip=void 0,boxEntity=void 0)}},lo={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.LayerAttributeShow?i("div",{directives:[{name:"drag",rawName:"v-drag"}],staticClass:"sm-panel",attrs:{id:"LayerAttribute"}},[i("div",{staticClass:"sm-content"},[i("div",{staticClass:"sm-panel-header"},[i("span",{staticClass:"layerTitle-txt",class:{titleColor:e.basicOptions},on:{click:function(t){return e.choose(0)}}},[e._v(e._s(e.Resource.basicOptions))]),e._v(" "),i("span",{staticClass:"layerTitle-txt",class:{titleColor:e.styleSetting},on:{click:function(t){return e.choose(1)}}},[e._v(e._s(e.Resource.styleSetting))]),e._v(" "),i("span",{staticClass:"layerTitle-txt",class:{titleColor:e.LayerOperation},on:{click:function(t){return e.choose(2)}}},[e._v(e._s(e.Resource.LayerOperation))]),e._v(" "),i("span",{staticClass:"closeBtn",on:{click:e.toggleVisibility}},[e._v("×")])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.basicOptions,expression:"basicOptions"}]},[i("div",{staticClass:"sm-function-module-content"},[i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.layerName))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.layerName,expression:"layerName"}],staticClass:"sm-input-long layerwidth",attrs:{disabled:"",type:"text"},domProps:{value:e.layerName},on:{input:function(t){t.target.composing||(e.layerName=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.shadowMode))]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.shadowType,expression:"shadowType"}],staticClass:"sm-select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.shadowType=t.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"noShadow"}},[e._v(e._s(e.Resource.noShadow))]),e._v(" "),i("option",{attrs:{value:"allShadow"}},[e._v(e._s(e.Resource.setShadow))])])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.shadowDarkness))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box lodbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.shadowDarkness,expression:"shadowDarkness"}],staticClass:"min-solider",staticStyle:{width:"77%","background-color":"rgb(51,51,51)",border:"1px solid #686363",padding:"0px 3px",height:"25px","border-radius":"0px",float:"right"},attrs:{type:"range",min:"0.1",max:"0.9",step:"0.1"},domProps:{value:e.shadowDarkness},on:{__r:function(t){e.shadowDarkness=t.target.value}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.visibility))]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.visibility,expression:"visibility"}],staticClass:"sm-select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.visibility=t.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"onlyShowSlection"}},[e._v(e._s(e.Resource.onlyShowSlection))]),e._v(" "),i("option",{attrs:{value:"onlyHideSlection"}},[e._v(e._s(e.Resource.onlyHideSlection))]),e._v(" "),i("option",{attrs:{value:"showAll"}},[e._v(e._s(e.Resource.showAll))])])]),e._v(" "),i("div",{staticClass:"flexbox"},[i("label",{staticClass:"sm-viewshed-label-right"},[e._v(e._s(e.Resource.display))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.display,expression:"display"}],staticStyle:{"margin-left":"10px"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.display)?e._i(e.display,null)>-1:e.display},on:{change:function(t){var i=e.display,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.display=i.concat([null])):o>-1&&(e.display=i.slice(0,o).concat(i.slice(o+1)))}else e.display=a}}}),e._v(" "),i("label",{staticStyle:{width:"21%"}}),e._v(" "),i("label",{staticClass:"sm-viewshed-label-right"},[e._v(e._s(e.Resource.cullEnabled))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.cullEnabled,expression:"cullEnabled"}],staticStyle:{"margin-left":"10px"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.cullEnabled)?e._i(e.cullEnabled,null)>-1:e.cullEnabled},on:{change:function(t){var i=e.cullEnabled,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.cullEnabled=i.concat([null])):o>-1&&(e.cullEnabled=i.slice(0,o).concat(i.slice(o+1)))}else e.cullEnabled=a}}})]),e._v(" "),i("div",{staticClass:"flexbox"},[i("label",{staticClass:"sm-viewshed-label-right"},[e._v(e._s(e.Resource.multiSelection))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.multiChoose,expression:"multiChoose"}],staticStyle:{"margin-left":"10px"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.multiChoose)?e._i(e.multiChoose,null)>-1:e.multiChoose},on:{change:function(t){var i=e.multiChoose,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.multiChoose=i.concat([null])):o>-1&&(e.multiChoose=i.slice(0,o).concat(i.slice(o+1)))}else e.multiChoose=a}}}),e._v(" "),i("label",{staticStyle:{width:"21%"}}),e._v(" "),i("label",{staticClass:"sm-viewshed-label-right"},[e._v(e._s(e.Resource.downloadAtt))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.downloadAtt,expression:"downloadAtt"}],staticStyle:{"margin-left":"10px"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.downloadAtt)?e._i(e.downloadAtt,null)>-1:e.downloadAtt},on:{change:function(t){var i=e.downloadAtt,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.downloadAtt=i.concat([null])):o>-1&&(e.downloadAtt=i.slice(0,o).concat(i.slice(o+1)))}else e.downloadAtt=a}}})]),e._v(" "),i("div",{staticClass:"flexbox"},[i("label",{staticClass:"sm-viewshed-label-right"},[e._v(e._s(e.Resource.bReleaseColor))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.breleaseColor,expression:"breleaseColor"}],staticStyle:{"margin-left":"10px"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.breleaseColor)?e._i(e.breleaseColor,null)>-1:e.breleaseColor},on:{change:function(t){var i=e.breleaseColor,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.breleaseColor=i.concat([null])):o>-1&&(e.breleaseColor=i.slice(0,o).concat(i.slice(o+1)))}else e.breleaseColor=a}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.visibleDistanceMin))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.minVisibleH,expression:"minVisibleH"}],staticClass:"sm-input-long",attrs:{min:"0",type:"number"},domProps:{value:e.minVisibleH},on:{input:function(t){t.target.composing||(e.minVisibleH=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.visibleDistanceMax))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.maxVisibleH,expression:"maxVisibleH"}],staticClass:"sm-input-long",attrs:{min:"0",type:"number"},domProps:{value:e.maxVisibleH},on:{input:function(t){t.target.composing||(e.maxVisibleH=t.target.value)}}})])])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.styleSetting,expression:"styleSetting"}]},[i("div",{staticClass:"sm-function-module-content"},[i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.foreColor))]),e._v(" "),i("ColorPicker",{staticClass:"sm-colorpicker",attrs:{editable:""},model:{value:e.foreColor,callback:function(t){e.foreColor=t},expression:"foreColor"}})],1),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.lineColor))]),e._v(" "),i("ColorPicker",{staticClass:"sm-colorpicker",attrs:{editable:""},model:{value:e.lineColor,callback:function(t){e.lineColor=t},expression:"lineColor"}})],1),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.selectColor))]),e._v(" "),i("ColorPicker",{staticClass:"sm-colorpicker",attrs:{editable:""},model:{value:e.selectColor,callback:function(t){e.selectColor=t},expression:"selectColor"}})],1),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.selectColorType))]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.selectColorType,expression:"selectColorType"}],staticClass:"sm-select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectColorType=t.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"0"}},[e._v(e._s(e.Resource.mix))]),e._v(" "),i("option",{attrs:{value:"1"}},[e._v(e._s(e.Resource.replace))])])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.bottomAltitude))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.bottomAltitude,expression:"bottomAltitude"}],staticClass:"sm-input-long",attrs:{min:"0",type:"number"},domProps:{value:e.bottomAltitude},on:{input:function(t){t.target.composing||(e.bottomAltitude=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v("LOD ：")]),e._v(" "),i("div",{staticClass:"sm-solider-input-box lodbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.LODScale,expression:"LODScale"}],staticClass:"min-solider",staticStyle:{width:"77%","background-color":"rgb(51,51,51)",border:"1px solid rgb(87,93,96)",padding:"0px 3px",height:"25px","border-radius":"0px",float:"right"},attrs:{type:"range",min:"0.1",max:"10",step:"0.5"},domProps:{value:e.LODScale},on:{__r:function(t){e.LODScale=t.target.value}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.fillStyle))]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.fillStyle,expression:"fillStyle"}],staticClass:"sm-select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.fillStyle=t.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"fill"}},[e._v(e._s(e.Resource.fillMode))]),e._v(" "),i("option",{attrs:{value:"wireframe"}},[e._v(e._s(e.Resource.lineMode))]),e._v(" "),i("option",{attrs:{value:"fill-and-wireframe"}},[e._v(e._s(e.Resource.fillAndLine))])])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.modelTransparency))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.modelTransparency,expression:"modelTransparency"}],staticClass:"sm-input-long",attrs:{min:"0",max:"1.0",step:"0.01",type:"number"},domProps:{value:e.modelTransparency},on:{input:function(t){t.target.composing||(e.modelTransparency=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"boxchild"},[i("button",{staticClass:"tbtn right",attrs:{type:"button"},on:{click:e.clearModification}},[e._v(e._s(e.Resource.home))])])])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.LayerOperation,expression:"LayerOperation"}],staticClass:"LayerOperation"},[i("div",{staticClass:"layerscroll"},[i("div",{staticClass:"sm-point"}),e._v(" "),i("label",{staticClass:"sm-function-module-sub-section-setting"},[e._v(e._s(e.Resource.ObliquePhotographyExcavation))]),e._v(" "),i("div",{staticClass:"boxchild"},[i("button",{staticClass:"tbtn tbn1",attrs:{type:"button"},on:{click:e.excavationRegion}},[e._v(e._s(e.Resource.ExecuteExcavation))]),e._v(" "),i("button",{staticClass:"tbtn",attrs:{type:"button"},on:{click:e.delExcavationRegion}},[e._v(e._s(e.Resource.ClearExcavation))])]),e._v(" "),i("div",{staticClass:"sm-point"}),e._v(" "),i("label",{staticClass:"sm-function-module-sub-section-setting"},[e._v(e._s(e.Resource.ObliquePhotographyFlatten))]),e._v(" "),i("div",{staticClass:"boxchild"},[i("button",{staticClass:"tbtn tbn1",attrs:{type:"button"},on:{click:e.flattenRegion}},[e._v(e._s(e.Resource.ModelFlatten))]),e._v(" "),i("button",{staticClass:"tbtn",attrs:{type:"button"},on:{click:e.delFlattenRegion}},[e._v(e._s(e.Resource.ClearFlatten))])]),e._v(" "),i("div",{staticClass:"sm-point"}),e._v(" "),i("label",{staticClass:"sm-function-module-sub-section-setting"},[e._v(e._s(e.Resource.FloodAnalysis))]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.MaxHeight))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.MaxHeight,expression:"MaxHeight"}],staticClass:"sm-input-long",attrs:{min:"0",type:"number"},domProps:{value:e.MaxHeight},on:{input:function(t){t.target.composing||(e.MaxHeight=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.MinHeight))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.MinHeight,expression:"MinHeight"}],staticClass:"sm-input-long",attrs:{min:"0",type:"number"},domProps:{value:e.MinHeight},on:{input:function(t){t.target.composing||(e.MinHeight=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.FloodSpeed))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.FloodSpeed,expression:"FloodSpeed"}],staticClass:"sm-input-long",attrs:{min:"0",type:"number"},domProps:{value:e.FloodSpeed},on:{input:function(t){t.target.composing||(e.FloodSpeed=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"boxchild"},[i("button",{staticClass:"tbtn tbn1",attrs:{type:"button"},on:{click:e.modelFlood}},[e._v(e._s(e.Resource.ExecuteFlood))]),e._v(" "),i("button",{staticClass:"tbtn",attrs:{type:"button"},on:{click:e.ModelFloodClear}},[e._v(e._s(e.Resource.ClearFlood))])]),e._v(" "),i("div",{staticClass:"sm-point"}),e._v(" "),i("label",{staticClass:"sm-function-module-sub-section-setting"},[e._v(e._s(e.Resource.SelectOffset))]),e._v(" "),i("br"),e._v(" "),i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.OpenSelectOffset))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.offset,expression:"offset"}],staticStyle:{"margin-left":"10px"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.offset)?e._i(e.offset,null)>-1:e.offset},on:{change:function(t){var i=e.offset,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.offset=i.concat([null])):o>-1&&(e.offset=i.slice(0,o).concat(i.slice(o+1)))}else e.offset=a}}}),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.OffsetX))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.offsetX,expression:"offsetX"}],staticClass:"sm-input-long",attrs:{min:"-50",max:"50",step:"1",type:"number"},domProps:{value:e.offsetX},on:{input:function(t){t.target.composing||(e.offsetX=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.OffsetY))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.offsetY,expression:"offsetY"}],staticClass:"sm-input-long",attrs:{min:"-50",max:"50",step:"1",type:"number"},domProps:{value:e.offsetY},on:{input:function(t){t.target.composing||(e.offsetY=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.offsetZ))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.offsetZ,expression:"offsetZ"}],staticClass:"sm-input-long",attrs:{min:"-50",max:"50",step:"1",type:"number"},domProps:{value:e.offsetZ},on:{input:function(t){t.target.composing||(e.offsetZ=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"boxchild"},[i("button",{staticClass:"tbtn right",attrs:{type:"button"},on:{click:e.clearOffset}},[e._v(e._s(e.Resource.ClearFlood))])]),e._v(" "),i("label",{staticClass:"sm-function-module-sub-section-setting"},[e._v(e._s(e.Resource.LayerColor))]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.brightness))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.brightness,expression:"brightness"}],staticClass:"sm-input-long",attrs:{min:"0",max:"3",step:"0.1",type:"number"},domProps:{value:e.brightness},on:{input:function(t){t.target.composing||(e.brightness=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.contrast))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contrast,expression:"contrast"}],staticClass:"sm-input-long",attrs:{min:"0",max:"5",step:"0.1",type:"number"},domProps:{value:e.contrast},on:{input:function(t){t.target.composing||(e.contrast=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.hue))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.hue,expression:"hue"}],staticClass:"sm-input-long",attrs:{min:"0",max:"5",step:"0.1",type:"number"},domProps:{value:e.hue},on:{input:function(t){t.target.composing||(e.hue=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.saturation))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.saturation,expression:"saturation"}],staticClass:"sm-input-long",attrs:{min:"0",max:"50",step:"1",type:"number"},domProps:{value:e.saturation},on:{input:function(t){t.target.composing||(e.saturation=t.target.value)}}})]),e._v(" "),i("label",{staticClass:"sm-function-module-sub-section-setting"},[e._v(e._s(e.Resource.PolygonOffset))]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.PolygonOffsetFactor))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.PolygonOffsetFactor,expression:"PolygonOffsetFactor"}],staticClass:"sm-input-long",attrs:{min:"-100",max:"100",step:"1",type:"number"},domProps:{value:e.PolygonOffsetFactor},on:{input:function(t){t.target.composing||(e.PolygonOffsetFactor=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.PolygonOffsetUnit))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.PolygonOffsetUnit,expression:"PolygonOffsetUnit"}],staticClass:"sm-input-long",attrs:{min:"-100",max:"100",step:"1",type:"number"},domProps:{value:e.PolygonOffsetUnit},on:{input:function(t){t.target.composing||(e.PolygonOffsetUnit=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"sm-point"}),e._v(" "),i("label",{staticClass:"sm-function-module-sub-section-setting"},[e._v(e._s(e.Resource.StereographicDrawing))]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.maxHeight))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box",staticStyle:{width:"73%"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.StereographicmaxHeight,expression:"StereographicmaxHeight"}],staticClass:"min-solider",staticStyle:{width:"70%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"0",max:"500",step:"10",type:"range"},domProps:{value:e.StereographicmaxHeight},on:{__r:function(t){e.StereographicmaxHeight=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.StereographicmaxHeight,expression:"StereographicmaxHeight"}],staticClass:"min-solider",staticStyle:{width:"25%","border-radius":"3px",float:"right"},attrs:{min:"0",max:"500",step:"10",type:"number"},domProps:{value:e.StereographicmaxHeight},on:{input:function(t){t.target.composing||(e.StereographicmaxHeight=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sm-function-module-sub-section"},[i("label",{staticClass:"label-container"},[e._v(e._s(e.Resource.maxDistance))]),e._v(" "),i("div",{staticClass:"sm-solider-input-box",staticStyle:{width:"73%"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.StereographicmaxDistance,expression:"StereographicmaxDistance"}],staticClass:"min-solider",staticStyle:{width:"70%","background-color":"rgba(51,51,51,1)",border:"1px solid rgb(87,93,96)",padding:"0 3px",height:"25px","border-radius":"3px"},attrs:{min:"0",max:"100",step:"10",type:"range"},domProps:{value:e.StereographicmaxDistance},on:{__r:function(t){e.StereographicmaxDistance=t.target.value}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.StereographicmaxDistance,expression:"StereographicmaxDistance"}],staticClass:"min-solider",staticStyle:{width:"25%","border-radius":"3px",float:"right"},attrs:{min:"0",max:"100",step:"10",type:"number"},domProps:{value:e.StereographicmaxDistance},on:{input:function(t){t.target.composing||(e.StereographicmaxDistance=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"boxchild"},[i("button",{staticClass:"tbtn right",staticStyle:{color:"#009c95",border:"1px solid #009c95"},attrs:{type:"button"},on:{click:e.assignRange}},[e._v(e._s(e.Resource.assignRange))]),e._v(" "),i("button",{staticClass:"tbtn right",staticStyle:{color:"#009c95",border:"1px solid #009c95"},attrs:{type:"button"},on:{click:e.stereographicDrawing}},[e._v(e._s(e.Resource.StereographicDrawing))]),e._v(" "),i("button",{staticClass:"tbtn right",attrs:{type:"button"},on:{click:e.clearStereographic}},[e._v(e._s(e.Resource.clear))])])])])])]):e._e()])},staticRenderFns:[]};var co=i("VU/8")(ro,lo,!1,function(e){i("qIAb")},"data-v-587f6165",null).exports,uo=void 0,mo=0,po={name:"Sm3dMeasure",props:{collapsed:{type:Boolean,default:!1}},data:function(){return{sharedState:store.state,isShowEllipsoid:!1,EllipsoidMode:"RoundBall",Ellipsoid:Cesium.Ellipsoid.WGS84,isProject:!1,clampMode:Cesium.ClampMode.Space,isShowDVH:!1,isShowLine:!0,interval:10,singleLine:!0,transparentFlag:!0,verticalHeight:0}},mounted:function(){},computed:{measureComb:function(){return this.sharedState.toolBar[7]},zIndex:function(){return this.sharedState.zindex}},methods:{toggleVisibility:function(){store.setToolBarAction(7)},init:function(e){var t=this;window.viewer||(window.viewer=e),this.layers=viewer.scene.layers,this.ScreenSpaceEventHandler=new Cesium.ScreenSpaceEventHandler(scene.canvas);var i=this.ScreenSpaceEventHandler;this.handlerDis=new Cesium.MeasureHandler(viewer,Cesium.MeasureMode.Distance,this.clampMode);var s=this.handlerDis;s.measureEvt.addEventListener(function(e){if(t.clampMode===Cesium.ClampMode.Ground&&t.Ellipsoid){var i=new Cesium.PolylineGeometry({positions:e.positions}),a=(o=Number(scene.globe.computeSurfaceDistance(i,t.Ellipsoid)))>1e3?(o/1e3).toFixed(2)+"km":o.toFixed(2)+"m";s.disLabel.text=Resource.distance+":"+a}else{t.polylineNoTransparent&&(t.polylineNoTransparent.positions=e.positions);var o;a=(o=Number(e.distance))>1e3?(o/1e3).toFixed(2)+"km":o.toFixed(2)+"m";s.disLabel.text=Resource.distance+":"+a}}),s.activeEvt.addEventListener(function(e){1==e?(t.handlerDis.clampMode=t.clampMode,viewer.enableCursorStyle=!1,viewer._element.style.cursor="",document.body.classList.add("measureCur"),t.clampMode===Cesium.ClampMode.Space?(t.handlerDis.lineColor=Cesium.Color.fromCssColorString("#51ff00"),t.handlerDis.lineWidth=4):(t.handlerDis.lineColor=Cesium.Color.fromCssColorString("#51ff00"),t.handlerDis.lineWidth=2)):(viewer.enableCursorStyle=!0,document.body.classList.remove("measureCur"))}),this.handlerArea=new Cesium.MeasureHandler(viewer,Cesium.MeasureMode.Area,this.clampMode);var a=this.handlerArea;a.activeEvt.addEventListener(function(e){1==e?(a.clampMode=t.clampMode,viewer.enableCursorStyle=!1,viewer._element.style.cursor="",document.body.classList.add("measureCur"),t.polygonPositions=[],t.clampMode===Cesium.ClampMode.Space?(t.handlerArea.lineColor=Cesium.Color.fromCssColorString("#51ff00"),t.handlerArea.lineWidth=4):(t.handlerArea.lineColor=Cesium.Color.fromCssColorString("#51ff00"),t.handlerArea.lineWidth=2)):(viewer.enableCursorStyle=!0,document.body.classList.remove("measureCur"))}),a.measureEvt.addEventListener(function(e){if(t.clampMode===Cesium.ClampMode.Ground&&t.Ellipsoid){var i=new Cesium.PolygonGeometry.fromPositions({positions:e.positions}),s=(o=Number(scene.globe.computeSurfaceArea(i,t.Ellipsoid)))>1e6?(o/1e6).toFixed(2)+"km²":o.toFixed(2)+"㎡";a.areaLabel.text=Resource.FloorArea+":"+s}else{var o;if(t.polygonPositions=e.positions,t.polylineNoTransparent&&(t.polylineNoTransparent.positions=e.positions),t.isProject){for(var n=e.positions,r=0,l=0;l<n.length;l++){var c=Cesium.Cartographic.fromCartesian(n[l]);r+=Cesium.Math.toDegrees(c.longitude)}var d=Math.round((r/n.length+6)/6),u=6*d-3,m=new Cesium.CustomProjection({name:"tmerc",centralMeridian:u,primeMeridian:0,standardParallel_1:0,standardParallel_2:0,eastFalse:5e5,northFalse:0,semimajorAxis:6378137,inverseFlattening:298.257222101}),p=[];for(l=0;l<n.length;l++){c=Cesium.Cartographic.fromCartesian(n[l]);var h=m.project(c);p.push(h)}p.push(p[0]);s=(o=Cesium.getPreciseArea(p,"China2000",u,d,1))>1e6?(o/1e6).toFixed(2)+"km²":o.toFixed(2)+"㎡";a.areaLabel.text=Resource.projectedArea+":"+s}else{s=(o=Number(e.area))>1e6?(o/1e6).toFixed(2)+"km²":o.toFixed(2)+"㎡";a.areaLabel.text=Resource.area+":"+s}}}),i.setInputAction(function(e){if(t.clampMode===Cesium.ClampMode.Space&&t.handlerArea.isDrawing){var i=Cesium.ClampMode.Space===t.clampMode;Cesium.ClampMode.S3mModel,t.clampMode;t.polygonInstance||(t.polygonInstance=new Cesium.GeometryInstance({geometry:new Cesium.PolygonGeometry({polygonHierarchy:new Cesium.PolygonHierarchy(t.polygonPositions),perPositionHeight:i}),attributes:{color:new Cesium.ColorGeometryInstanceAttribute(1,165/255,0,.3)}})),t.polygonTransparent||(t.polygonTransparent=viewer.scene.primitives.add(new Cesium.Primitive({geometryInstances:t.polygonInstance,appearance:new Cesium.PerInstanceColorAppearance({renderState:{depthTest:!1}})}))),t.polygonInstance.geometry._polygonHierarchy.positions=t.polygonPositions,t.polygonTransparent.show=!0}},Cesium.ScreenSpaceEventType.RIGHT_CLICK),this.handlerHeight=new Cesium.MeasureHandler(viewer,Cesium.MeasureMode.DVH);var o=this.handlerHeight;o.measureEvt.addEventListener(function(e){var i=e.distance>1e3?(e.distance/1e3).toFixed(2)+"km":e.distance+"m",s=e.verticalHeight>1e3?(e.verticalHeight/1e3).toFixed(2)+"km":e.verticalHeight+"m",a=e.horizontalDistance>1e3?(e.horizontalDistance/1e3).toFixed(2)+"km":e.horizontalDistance+"m";if(t.isShowLine){var n=e.directionalPositions[1],r=Cesium.Cartographic.fromCartesian(n);mo=r.height,t.verticalHeight=e.verticalHeight,t.createIsoline()}o.disLabel.text="空间距离:"+i,o.vLabel.text="垂直高度:"+s,o.hLabel.text="水平距离:"+a}),o.activeEvt.addEventListener(function(e){1==e?(viewer.enableCursorStyle=!1,viewer._element.style.cursor="",document.body.classList.add("measureCur")):(viewer.enableCursorStyle=!0,document.body.classList.remove("measureCur"))})},clearAll:function(){this.deactiveAll(),this.EllipsoidMode="RoundBall",this.handlerDis&&this.handlerDis.clear(),this.handlerArea&&this.handlerArea.clear(),this.handlerHeight&&this.handlerHeight.clear(),this.clearLine(),this.verticalHeight=0,this.transparentFlag=!0,this.polylineCollection&&this.polylineCollection.removeAll(),this.polylineNoTransparent&&(viewer.scene.primitives.remove(this.polylineNoTransparent),this.polylineNoTransparent=void 0),this.polygonTransparent&&(viewer.scene.primitives.remove(this.polygonTransparent),this.polygonTransparent=void 0)},clearLine:function(){viewer.scene.globe.HypsometricSetting=void 0;for(var e=0;e<this.layers._layers._array.length;e++){var t=this.layers._layers._array[e].hypsometricSetting.hypsometricSetting;Cesium.defined(t)&&(this.layers._layers._array[e].hypsometricSetting.hypsometricSetting.MaxVisibleValue=-100)}},deactiveAll:function(){this.handlerDis&&this.handlerDis.deactivate(),this.handlerArea&&this.handlerArea.deactivate(),this.handlerHeight&&this.handlerHeight.deactivate(),this.isShowDVH=!1,this.isShowEllipsoid=!1,this.Ellipsoid=Cesium.Ellipsoid.WGS84,this.isProject=!1},createIsoline:function(){uo||(uo=new Cesium.HypsometricSetting),uo.DisplayMode=Cesium.HypsometricSettingEnum.DisplayMode.LINE,uo._lineColor=new Cesium.Color(1,0,0,1),uo.MinVisibleValue=mo,uo.MaxVisibleValue=mo,uo.ColorTableMinKey=0,uo.ColorTableMaxKey=mo;var e=new Cesium.ColorTable;e.insert(mo,Cesium.Color.fromCssColorString("#f3180b")),e.insert(0,Cesium.Color.fromCssColorString("#f32512")),uo.ColorTable=e,uo.Opacity=1,viewer.scene.globe.HypsometricSetting={hypsometricSetting:uo,analysisMode:Cesium.HypsometricSettingEnum.AnalysisRegionMode.ARM_ALL};for(var t=0;t<this.layers._layers._array.length;t++)this.layers._layers._array[t].hypsometricSetting={hypsometricSetting:uo,analysisMode:Cesium.HypsometricSettingEnum.AnalysisRegionMode.ARM_ALL}},distanceClk:function(){this.clampMode=Cesium.ClampMode.Space,this.deactiveAll(),this.handlerDis&&this.handlerDis.activate(),this.polylineNoTransparent&&(this.polylineNoTransparent.show=!0)},GroundDistanceClk:function(){this.deactiveAll(),this.isShowEllipsoid=!0,this.clampMode=Cesium.ClampMode.Ground,this.handlerDis&&this.handlerDis.activate()},areaClk:function(){this.clampMode=Cesium.ClampMode.Space,this.deactiveAll(),this.handlerArea&&this.handlerArea.activate(),this.polylineNoTransparent&&(this.polylineNoTransparent.show=!0),this.polygonInstance&&(this.polygonInstance=void 0),this.polygonTransparent&&(viewer.scene.primitives.remove(this.polygonTransparent),this.polygonTransparent=void 0)},GroundAreaClk:function(){this.deactiveAll(),this.isShowEllipsoid=!0,this.clampMode=Cesium.ClampMode.Ground,this.handlerArea&&this.handlerArea.activate()},ProjectArea:function(){this.deactiveAll(),this.isProject=!0,this.clampMode=Cesium.ClampMode.Space,this.handlerArea&&this.handlerArea.activate()},heightClk:function(){this.clearLine(),this.deactiveAll(),this.isShowDVH=!0,this.handlerHeight&&this.handlerHeight.activate()},clear:function(){this.clearAll()}},watch:{isShowLine:function(e){e?this.createIsoline(this.verticalHeight):this.clearLine()},measureComb:function(e){if(e){this.handlerDis||this.init(e);var t=this.sharedState.toolBar.filter(function(e){return e>0||1==e}),i=document.getElementById("measure-panel"),s=window.getComputedStyle(i).top||i.offsetTop,a=this.zIndex+1;if(i.style.zIndex=a,store.setZindex(a),t.length>0&&"100px"==s){var o=100+40*(t.length-1)+"px";i.style.top=o}}},EllipsoidMode:function(e){var t=e;this.Ellipsoid="XIAN80"==t?Cesium.Ellipsoid.XIAN80:"CGCS2000"==t?Cesium.Ellipsoid.CGCS2000:"WGS84"==t?new Cesium.Ellipsoid(6378137,6378137,6356752.314245179):Cesium.Ellipsoid.WGS84},collapsed:{immediate:!0,handler:function(e,t){e&&(this.show=!e)}},OnlineEdit:function(e){if(e){var t=this.sharedState.toolBar.filter(function(e){return e>0||1==e});if(t.length>0){var i=100+40*(t.length-1)+"px";document.getElementById("OnlineEdit").style.top=i}}}}},ho={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.measureComb,expression:"measureComb"},{name:"drag",rawName:"v-drag"}],staticClass:"sm-panel",attrs:{id:"measure-panel"}},[i("div",{staticClass:"sm-content"},[i("div",{staticClass:"sm-panel-header"},[i("span",[e._v(e._s(e.Resource.measure))]),e._v(" "),i("span",{staticClass:"closeBtn",on:{click:e.toggleVisibility}},[e._v("×")])]),e._v(" "),i("div",{staticClass:"sm-function-module-content"},[i("div",{staticClass:"sm-measure-btn-list"},[i("button",{staticClass:"sm-btn sm-measure-btn",attrs:{id:"distance",title:e.Resource.SpatialDistance,type:"button"},on:{click:e.distanceClk}},[i("span",{staticClass:"iconfont iconVue-measure-distance",staticStyle:{"font-size":"22px"}})]),e._v(" "),i("button",{staticClass:"sm-btn sm-measure-btn",attrs:{id:"GroundDistance",title:e.Resource.GroundDistance,type:"button"},on:{click:e.GroundDistanceClk}},[i("span",{staticClass:"iconfont iconVue-measure-GroundDistance",staticStyle:{"font-size":"22px"}})]),e._v(" "),i("button",{staticClass:"sm-btn sm-measure-btn",attrs:{id:"area",title:e.Resource.SpaceArea,type:"button"},on:{click:e.areaClk}},[i("span",{staticClass:"iconfont iconVue-measure-area",staticStyle:{"font-size":"22px"}})]),e._v(" "),i("button",{staticClass:"sm-btn sm-measure-btn",attrs:{id:"GroundArea",title:e.Resource.FloorArea,type:"button"},on:{click:e.GroundAreaClk}},[i("span",{staticClass:"iconfont iconVue-measure-GroundArea",staticStyle:{"font-size":"22px"}})]),e._v(" "),i("button",{staticClass:"sm-btn sm-measure-btn",attrs:{id:"height",title:e.Resource.height,type:"button"},on:{click:e.heightClk}},[i("span",{staticClass:"iconfont iconVue-measure-height",staticStyle:{"font-size":"22px"}})]),e._v(" "),i("button",{staticClass:"sm-btn sm-measure-btn",attrs:{id:"ProjectArea",title:e.Resource.projectedArea,type:"button"},on:{click:e.ProjectArea}},[i("span",{staticClass:"iconfont icontouyingmianji",staticStyle:{"font-size":"22px"}})]),e._v(" "),i("button",{staticClass:"sm-btn sm-measure-btn",attrs:{id:"clear",title:e.Resource.clear,type:"button"},on:{click:e.clear}},[i("span",{staticClass:"iconfont iconVue-measure-clear",staticStyle:{"font-size":"22px"}})])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowEllipsoid,expression:"isShowEllipsoid"}],staticClass:"sm-half sm-measure-half third"},[i("label",{staticClass:"sm-function-module-sub-section-caption",staticStyle:{"margin-top":"3px"}},[e._v(e._s(e.Resource.ellipsoid))]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.EllipsoidMode,expression:"EllipsoidMode"}],staticClass:"sm-select sm-measure-select",attrs:{id:"EllipsoidMode"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.EllipsoidMode=t.target.multiple?i:i[0]}}},[i("option",{attrs:{selected:"",value:"RoundBall"}},[e._v(e._s(e.Resource.RoundBall))]),e._v(" "),i("option",{attrs:{selected:"",value:"CGCS2000"}},[e._v("CGCS2000")]),e._v(" "),i("option",{attrs:{value:"XIAN80"}},[e._v("XIAN80")]),e._v(" "),i("option",{attrs:{value:"WGS84"}},[e._v("WGS84")])])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowDVH,expression:"isShowDVH"}]},[i("label",{staticClass:"third"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.isShowLine,expression:"isShowLine"}],attrs:{checked:"",id:"showLine",type:"checkbox"},domProps:{checked:Array.isArray(e.isShowLine)?e._i(e.isShowLine,null)>-1:e.isShowLine},on:{change:function(t){var i=e.isShowLine,s=t.target,a=!!s.checked;if(Array.isArray(i)){var o=e._i(i,null);s.checked?o<0&&(e.isShowLine=i.concat([null])):o>-1&&(e.isShowLine=i.slice(0,o).concat(i.slice(o+1)))}else e.isShowLine=a}}}),e._v(" "),i("span",[e._v(e._s(e.Resource.ShowContour))])])])])])])},staticRenderFns:[]};var vo=i("VU/8")(po,ho,!1,function(e){i("MXRM")},"data-v-0fd22706",null).exports,go=de,yo={name:"OnlineEdit",data:function(){return{sharedState:store.state}},computed:{addPoint:function(){return this.sharedState.onlineEdit[0]},addPolyline:function(){return this.sharedState.onlineEdit[1]},addPolygon:function(){return this.sharedState.onlineEdit[2]},addGeometry:function(){return this.sharedState.onlineEdit[3]},OnlineEdit:function(){return this.sharedState.toolBar[8]},zIndex:function(){return this.sharedState.zindex}},mounted:function(){},methods:{toggleVisibility:function(){store.setToolBarAction(8)},choose:function(e){if("true"!==document.getElementById("OnlineEdit").getAttribute("data-flag"))return!1;switch(e){case 0:store.setOnlineEditrAction([1,0,0,0]);break;case 1:store.setOnlineEditrAction([0,1,0,0]);break;case 2:store.setOnlineEditrAction([0,0,1,0]);break;case 3:store.setOnlineEditrAction([0,0,0,1]);break;default:store.setOnlineEditrAction([1,0,0,0])}}},watch:{OnlineEdit:function(e){if(e){var t=this.sharedState.toolBar.filter(function(e){return e>0||1==e}),i=document.getElementById("OnlineEdit"),s=window.getComputedStyle(i).top||i.offsetTop,a=this.zIndex+1;if(i.style.zIndex=a,store.setZindex(a),t.length>0&&"100px"==s){var o=100+40*(t.length-1)+"px";i.style.top=o}}}}},fo={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.OnlineEdit,expression:"OnlineEdit"},{name:"drag",rawName:"v-drag"}],staticClass:"sm-panel",attrs:{id:"OnlineEdit"}},[i("div",{staticClass:"sm-content"},[i("div",{staticClass:"sm-panel-header"},[i("span",{staticClass:"title-txt",class:{titleColor:e.addPoint},on:{click:function(t){return e.choose(0)}}},[e._v(e._s(e.Resource.AddPoint))]),e._v(" "),i("span",{staticClass:"title-txt",class:{titleColor:e.addPolyline},on:{click:function(t){return e.choose(1)}}},[e._v(e._s(e.Resource.AddLine))]),e._v(" "),i("span",{staticClass:"title-txt",class:{titleColor:e.addPolygon},on:{click:function(t){return e.choose(2)}}},[e._v(e._s(e.Resource.AddFaces))]),e._v(" "),i("span",{staticClass:"title-txt",class:{titleColor:e.addGeometry},on:{click:function(t){return e.choose(3)}}},[e._v(e._s(e.Resource.AddGeometry))]),e._v(" "),i("span",{staticClass:"closeBtn",on:{click:e.toggleVisibility}},[e._v("×")])]),e._v(" "),i("add-point"),e._v(" "),i("add-polyline"),e._v(" "),i("add-polygon"),e._v(" "),i("add-geometry")],1)])},staticRenderFns:[]},Co=i("VU/8")(yo,fo,!1,null,null,null).exports,wo={name:"sceneAtttribute",data:function(){return{sharedState:store.state}},computed:{basicOptions:function(){return this.sharedState.sceneAtttribute[0]},cameraShow:function(){return this.sharedState.sceneAtttribute[1]},light:function(){return this.sharedState.sceneAtttribute[2]},ParticleSystem:function(){return this.sharedState.sceneAtttribute[3]},otherOptions:function(){return this.sharedState.sceneAtttribute[4]},SceneAtttributeShow:function(){return this.sharedState.toolBar[3]},zIndex:function(){return this.sharedState.zindex}},mounted:function(){},methods:{toggleVisibility:function(){store.setToolBarAction(3)},choose:function(e){if("true"!==document.getElementById("SceneAtttribute").getAttribute("data-flag"))return!1;switch(e){case 0:store.setSceneAtttribute([1,0,0,0,0]);break;case 1:store.setSceneAtttribute([0,1,0,0,0]);break;case 2:store.setSceneAtttribute([0,0,1,0,0]);break;case 3:store.setSceneAtttribute([0,0,0,1,0]);break;case 4:store.setSceneAtttribute([0,0,0,0,1]);break;default:store.setSceneAtttribute([1,0,0,0,0])}}},watch:{SceneAtttributeShow:function(e){if(e){var t=this.sharedState.toolBar.filter(function(e){return e>0||1==e}),i=document.getElementById("SceneAtttribute"),s=window.getComputedStyle(i).top||i.offsetTop,a=this.zIndex+1;if(i.style.zIndex=a,store.setZindex(a),t.length>0&&"100px"==s){var o=100+40*(t.length-1)+"px";i.style.top=o}}}}},bo={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.SceneAtttributeShow,expression:"SceneAtttributeShow"},{name:"drag",rawName:"v-drag"}],staticClass:"sm-panel",attrs:{id:"SceneAtttribute"}},[i("div",{staticClass:"sm-content"},[i("div",{staticClass:"sm-panel-header"},[i("span",{staticClass:"title-txt",class:{titleColor:e.basicOptions},on:{click:function(t){return e.choose(0)}}},[e._v(e._s(e.Resource.basicOptions))]),e._v(" "),i("span",{staticClass:"title-txt",class:{titleColor:e.cameraShow},on:{click:function(t){return e.choose(1)}}},[e._v(e._s(e.Resource.camera))]),e._v(" "),i("span",{staticClass:"title-txt",class:{titleColor:e.light},on:{click:function(t){return e.choose(2)}}},[e._v(e._s(e.Resource.light))]),e._v(" "),i("span",{staticClass:"title-txt",class:{titleColor:e.ParticleSystem},on:{click:function(t){return e.choose(3)}}},[e._v(e._s(e.Resource.ParticleSystem))]),e._v(" "),i("span",{staticClass:"title-txt",class:{titleColor:e.otherOptions},on:{click:function(t){return e.choose(4)}}},[e._v(e._s(e.Resource.otherOptions))]),e._v(" "),i("span",{staticClass:"closeBtn",on:{click:e.toggleVisibility}},[e._v("×")])]),e._v(" "),i("scene-basic-options"),e._v(" "),i("scene-camera"),e._v(" "),i("scene-light"),e._v(" "),i("scene-particle-system"),e._v(" "),i("scene-other-options")],1)])},staticRenderFns:[]},So=i("VU/8")(wo,bo,!1,null,null,null).exports;window.axios=X.a,window.common=ae,window.axios.jsonp=ae.axiosJsonp;var _o=[Re,Ne,He,Je,it,dt,kt,Ht,$t,li,pi,gi,_i,Li,Mi,Hi,Vi,Qi,Ki,as,us,hs,ys,ws,ka,Ia,ja,qa,Xa,eo,za,co,vo,go,Co,So,js,yt,bt,xt,Lt,Qs,Ks,oa,ua,ha,_a,Ta],xo=function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.installed||(e.installed=!0,_o.forEach(function(e){t.component(e.name,e)}),function(e){e.directive("drag",{bind:function(e,t){var i=!1,s=void 0,a=void 0,o=void 0,n=void 0,r=void 0,l=void 0,c=e,d="";c.addEventListener("touchstart",function(e){if(i=!0,e.changedTouches[0]){var t=e.changedTouches[0],s=t.clientX,a=t.clientY;o=s-e.changedTouches[0].target.x,n=a-e.changedTouches[0].target.y,r=document.body.clientWidth,l=document.body.clientHeight}},{passive:!1}),ne.a,c.addEventListener("touchmove",ne()(function(t){s=t.changedTouches[0].clientX-o,a=t.changedTouches[0].clientY-n,s<0&&a<0?(e.style.left="0px",e.style.top="0px"):s<0&&a+e.clientHeight<l?(e.style.left="0px",e.style.top=a+"px"):s<0&&a+e.clientHeight>=l?(e.style.left="0px",e.style.top=l-e.clientHeight+"px"):s+e.clientWidth>r&&a<0?(e.style.left=r-e.clientWidth+"px",e.style.top="0px"):s+e.clientWidth<r&&a+e.clientHeight>=l?(e.style.left=s+"px",e.style.top=l-e.clientHeight+"px"):s+e.clientWidth<r&&a<0?(e.style.left=s+"px",e.style.top="0px"):s+e.clientWidth>r&&a+e.clientHeight<l?(e.style.left=r-e.clientWidth+"px",e.style.top=a+"px"):s+e.clientWidth>r&&a+e.clientHeight>=l?(e.style.left=r-e.clientWidth+"px",e.style.top=l-e.clientHeight+"px"):(e.style.left=s+"px",e.style.top=a+"px")},5),{passive:!1}),c.addEventListener("touchend",function(e){i=!1,document.ontouchmove=null,document.ontouchmove=null,e.changedTouches[0].clientX,e.changedTouches[0].clientY},{passive:!1}),c.onmousedown=function(t){if("min-solider"!=t.target.className&&"sm-input sm-input-long"!=t.target.className&&"sm-input-long"!=t.target.className&&"sm-input-right"!=t.target.className){if(c.setAttribute("data-flag",!1),d=(new Date).getTime(),r=document.body.clientWidth,l=document.body.clientHeight,!i){i=!0;var o=t.clientX,n=t.clientY,u=o-e.offsetLeft,m=n-e.offsetTop;document.onmousemove=ne()(function(t){t.preventDefault(),s=t.clientX-u,a=t.clientY-m,s<0&&a<0?(e.style.left="0px",e.style.top="0px"):s<0&&a+e.clientHeight<l?(e.style.left="0px",e.style.top=a+"px"):s<0&&a+e.clientHeight>=l?(e.style.left="0px",e.style.top=l-e.clientHeight+"px"):s+e.clientWidth>r&&a<0?(e.style.left=r-e.clientWidth+"px",e.style.top="0px"):s+e.clientWidth<r&&a+e.clientHeight>=l?(e.style.left=s+"px",e.style.top=l-e.clientHeight+"px"):s+e.clientWidth<r&&a<0?(e.style.left=s+"px",e.style.top="0px"):s+e.clientWidth>r&&a+e.clientHeight<l?(e.style.left=r-e.clientWidth+"px",e.style.top=a+"px"):s+e.clientWidth>r&&a+e.clientHeight>=l?(e.style.left=r-e.clientWidth+"px",e.style.top=l-e.clientHeight+"px"):(e.style.left=s+"px",e.style.top=a+"px")},5),document.onmouseup=function(e){document.onmousedown=null,document.onmousemove=null,i=!1,(new Date).getTime()-d<200&&c.setAttribute("data-flag",!0),e.clientX,e.clientY}}}else t.stopPropagation()}}})}(t))};"undefined"!=typeof window&&window.Vue&&xo(window.Vue);var Eo={install:xo,components:_o};Vue.use(p.a,{error:i("IisM"),loading:i("ADsE")}),window.store=g,Vue.prototype.Resource=window.Resource=G,window.URL_CONFIG=j,window.createTooltip=W,Vue.use(Eo);var Ro,Lo,Ao,Po,To,Mo,Do,ko,No,Bo=new Vue({render:function(e){return e(m)}});function Io(){Bo.$mount("#app")}"https:"==document.location.protocol&&(Ro="Content-Security-Policy",Lo="upgrade-insecure-requests",(Ao=document.createElement("meta")).httpEquiv=Ro,Ao.content=Lo,document.getElementsByTagName("head")[0].appendChild(Ao)),window.store.isPortal=!0,window.store.isPortal?(Po=Z()+"web/config/userprofile.json",To=Z()+"web/config/portal.json",Mo=Z()+"web/config/system.json",Do=window.axios.get(Po,{withCredentials:!0}),ko=window.axios.get(To),No=window.axios.get(Mo),d.a.all([Do,ko,No]).then(function(e){window.store.portalUserprofile=e[0].data,window.store.portalConfig=e[1].data,window.store.systemConfig=e[2].data,Io()}).catch(function(e){Io()})):Io()},NeND:function(e,t){},OqnT:function(e,t){},PS78:function(e,t){},PZCM:function(e,t){e.exports={hotSpots:[{id:0,type:"REALSPACE",thumbnail:"static/images/webServeImg/ChinaEpidemic.jpg",proxiedUrl:"https://www.supermapol.com/realspace/services/3D-YiQing5/rest/realspace",sceneName:"China Epidemic Map",state:0},{id:1,type:"REALSPACE",thumbnail:"static/images/webServeImg/WorldEpidemic.jpg",proxiedUrl:"https://www.supermapol.com/realspace/services/3D-worldmapJianHua/rest/realspace",sceneName:"World Epidemic Map",state:0}]}},"PdL+":function(e,t){},"QS+0":function(e,t){},QVfV:function(e,t){},Suee:function(e,t){},"Uhn+":function(e,t){e.exports={s3mModels:[{id:0,name:"椅子",thumbnail:"@/../static/images/S3MData/bench.png",path:"@/../static/images/S3MData/Chair.s3m"},{id:1,name:"垃圾箱",thumbnail:"@/../static/images/S3MData/Dustbin.png",path:"@/../static/images/S3MData/Dustbin.s3m"},{id:2,name:"垃圾箱2",thumbnail:"@/../static/images/S3MData/paper-bucket.png",path:"@/../static/images/S3MData/Dustbin2.s3m"},{id:3,name:"垃圾桶",thumbnail:"@/../static/images/S3MData/dustbin1.png",path:"@/../static/images/S3MData/GarbageCan.s3m"},{id:4,name:"报亭",thumbnail:"@/../static/images/S3MData/newspaper.png",path:"@/../static/images/S3MData/NewsStand.s3m"},{id:5,name:"邮政信箱",thumbnail:"@/../static/images/S3MData/mailbox.png",path:"@/../static/images/S3MData/PO-Box.s3m"},{id:6,name:"限速牌",thumbnail:"@/../static/images/S3MData/speed-limit.png",path:"@/../static/images/S3MData/RestrictionBoard.s3m"},{id:7,name:"路灯",thumbnail:"@/../static/images/S3MData/lamp-post.png",path:"@/../static/images/S3MData/StreetLight.s3m"},{id:8,name:"红绿灯",thumbnail:"@/../static/images/S3MData/traffic-light.png",path:"@/../static/images/S3MData/TrafficLight.s3m"},{id:9,name:"电信电话亭",thumbnail:"@/../static/images/S3MData/phone-booth.png",path:"@/../static/images/S3MData/T-TelBooth.s3m"},{id:10,name:"树1",thumbnail:"@/../static/images/S3MData/tree.png",path:"@/../static/images/S3MData/tree1.s3m"},{id:11,name:"树2",thumbnail:"@/../static/images/S3MData/pine.png",path:"@/../static/images/S3MData/tree2.s3m"},{id:12,name:"树3",thumbnail:"@/../static/images/S3MData/tree3.png",path:"@/../static/images/S3MData/tree3.s3m"},{id:13,name:"树4",thumbnail:"@/../static/images/S3MData/tree2.png",path:"@/../static/images/S3MData/tree4.s3m"},{id:14,name:"springTree",thumbnail:"@/../static/images/S3MData/springTree.png",path:"@/../static/images/S3MData/springTree.s3m"},{id:15,name:"autumnTree",thumbnail:"@/../static/images/S3MData/autumnTree.png",path:"@/../static/images/S3MData/autumnTree.s3m"},{id:16,name:"winterTree",thumbnail:"@/../static/images/S3MData/winterTree.png",path:"@/../static/images/S3MData/winterTree.s3m"}]}},VG02:function(e,t){},Y5iJ:function(e,t){e.exports={totalPage:1,content:[{id:0,type:"REALSPACE",thumbnail:"static/images/webServeImg/CBD.jpg",proxiedUrl:"https://www.supermapol.com/realspace/services/3D-CBDCache20200416/rest/realspace",sceneName:"CBD",state:0},{id:1,type:"REALSPACE",thumbnail:"static/images/webServeImg/Sophia.jpg",proxiedUrl:"https://www.supermapol.com/realspace/services/3D-suofeiya_church/rest/realspace",sceneName:"Sophia Cathedral",state:0},{id:4,type:"REALSPACE",thumbnail:"static/images/webServeImg/ZfTerranAndImagery.jpg",proxiedUrl:"https://www.supermapol.com/proxy/realspace/services/3D-ZF_normal/rest/realspace",sceneName:"Mount Qomolangma",state:0},{id:5,type:"REALSPACE",thumbnail:"static/images/webServeImg/BIM.jpg",proxiedUrl:"https://www.supermapol.com/realspace/services/3D-wireFrame/rest/realspace",sceneName:"BIM building",state:0},{id:6,type:"REALSPACE",thumbnail:"static/images/webServeImg/PointCloud.jpg",proxiedUrl:"https://www.supermapol.com/realspace/services/3D-cloud/rest/realspace",sceneName:"Point Cloud",state:0},{id:7,type:"REALSPACE",thumbnail:"static/images/webServeImg/VolumeRendering.jpg",proxiedUrl:"https://www.supermapol.com/realspace/services/3D-tishuju/rest/realspace",sceneName:"Volume Data",state:0},{id:8,type:"REALSPACE",thumbnail:"static/images/webServeImg/Histogram.jpg",proxiedUrl:" https://www.supermapol.com/realspace/services/3D-Histogram/rest/realspace",sceneName:"Columnar",state:0},{id:9,type:"SCP",thumbnail:"static/images/webServeImg/Household.jpg",proxiedUrl:"https://www.supermapol.com/realspace/services/3D-FCFH_Shangdong/rest/realspace/datas/config/config",sceneName:"Stratified Household",state:0},{id:10,type:"REALSPACE",thumbnail:"static/images/webServeImg/VectorThematicMap.jpg",proxiedUrl:"https://www.supermapol.com/realspace/services/3D-five-vector/rest/realspace",sceneName:"Vector Thematic Map",state:0},{id:11,type:"ThematicMap",thumbnail:"static/images/webServeImg/cqbm.jpg",proxiedUrl:"https://www.supermapol.com/realspace/services/3D-CQmodel_wireframe_2000/rest/realspace/datas/CQmodel/config",sceneName:"ChongQing WhiteMold",S3MLayer:!0,state:0},{id:12,type:"SCP",thumbnail:"static/images/webServeImg/hbbm.jpg",proxiedUrl:"https://www.supermapol.com/realspace/services/3D-XinBaiMo/rest/realspace/datas/%E4%B8%80%E8%88%AC%E5%AE%B6%E5%B1%8B/config",sceneName:"Yokohama. WhiteMold",S3MLayer:!0,state:0}]}},YYN1:function(e,t){e.exports={hotSpots:[{id:0,type:"REALSPACE",thumbnail:"static/images/webServeImg/ChinaEpidemic.jpg",proxiedUrl:"https://www.supermapol.com/realspace/services/3D-YiQing5/rest/realspace",sceneName:"中国流行マップ",state:0},{id:1,type:"REALSPACE",thumbnail:"static/images/webServeImg/世界疫情.jpg",proxiedUrl:"https://www.supermapol.com/realspace/services/3D-worldmapJianHua/rest/realspace",sceneName:"世界的な流行マップ",state:0}]}},Zyzp:function(e,t){},agJY:function(e,t){},dM7A:function(e,t){},fkBd:function(e,t){},"h+uN":function(e,t){},i0e3:function(e,t){},iJNP:function(e,t,i){var s;void 0===(s=function(){return{TitleKeyMap:{"珠峰影像":"珠峰地形影像","srtm_54_07%40zhufeng":"珠峰地形影像","Tree@CBD":"北京CBD精模","Lake@CBD":"北京CBD精模","Ground_1@CBD":"北京CBD精模","Building@CBD":"北京CBD精模","Ground_Daolu@CBD":"北京CBD精模","Ground_qiao@CBD":"北京CBD精模",Config:"索菲亚大教堂","局部数据_Model@广州局部面":"矢量",wireFrame:"BIM建筑",POINTCLOUD23:"点云",model:"体数据","five@vector (2)":"矢量专题图",Point2D_1000_3000:"柱状",Point2D_min_1000:"柱状",Point2D_10000_max:"柱状",Point2D_5000_10000:"柱状",Point2D_3000_5000:"柱状","分层分户":"分层分户","Stratified household":"分层分户","階層型世帯":"分层分户","科技园":"科技园","science park":"科技园","科学技術公園":"科技园","城市设计":"城市设计","字段专题图":"字段专题图","横滨白模":"横滨白模","重庆白模":"重庆白模",qingxie:"倾斜摄影模型","Waters@OlympicGreen":"北京鸟巢精模","Tree@OlympicGreen":"北京鸟巢精模","Road@OlympicGreen":"北京鸟巢精模","Ground@OlympicGreen":"北京鸟巢精模","Building@OlympicGreen":"北京鸟巢精模","BirdNest@OlympicGreen":"北京鸟巢精模"},CAMERA_PARAM:{"科技园":{Cartesian3:{x:-2418298.345419565,y:5377152.887300253,z:2433175.316684532},heading:4.8176854271927825,pitch:-.3323052296889355,roll:1.48903112062726e-11},"萨尔茨堡火车站":{Cartesian3:{x:4173301.2396020144,y:965626.4033609143,z:4727051.679426561},heading:1.5705568624210677,pitch:-.5949347781080299,roll:2.72473599238765e-10},"BIM建筑":{Cartesian3:{x:-2118847.3181865294,y:4442035.993124991,z:4057060.266933217},heading:4.033336171294838,pitch:-.42452565776774165,roll:1.3626433315039321e-11},"北京CBD精模":{Cartesian3:{x:-2180311.9545472134,y:4380935.491489179,z:4091551.732735441},heading:6.240726986091157,pitch:-.4564392939641406,roll:6.283185307179501},"点云":{Cartesian3:{x:-3726950.8178392285,y:3087276.1287523108,z:4154724.882310502},heading:3.769049490696352,pitch:.014489436405058065,roll:6.283185307179586},"索菲亚大教堂":{Cartesian3:{x:-2653915.6463913363,y:3571045.726807149,z:4570293.566342328},heading:2.1953426301495345,pitch:-.33632707158103625,roll:6.283185307179586},"北京鸟巢精模":{Cartesian3:{x:-2172727.1327970685,y:4377625.782859447,z:4098783.828534335},heading:5.86627559202018,pitch:-.2796122953540934,roll:2.2601476246109087e-10},"矢量":{Cartesian3:{x:-2322604.3037671307,y:5386285.275047991,z:2505308.540418011},heading:6.123346664257511,pitch:-.42306371995295966,roll:6.590283874174929e-13},"珠峰地形影像":{Cartesian3:{x:290799.3584088167,y:5654922.6616128925,z:2964895.841345586},heading:6.205059658932406,pitch:-.4335396082759968,roll:9.618661422905461e-10},"体数据":{Cartesian3:{x:-2598276.5264489097,y:4230698.094577965,z:4004349.9225157197},heading:1.8453000000000017,pitch:-.13449999999999784,roll:6.2831853071795845},"分层分户":{Cartesian3:{x:-2387685.5300606918,y:4546843.024531732,z:3782446.1843654616},heading:3.5848126302038947,pitch:-.38864153252552613,roll:4955793702521305e-21},"矢量专题图":{Cartesian3:{x:-1840638.2164070818,y:5440707.009547237,z:3096252.0955017423},heading:.0684063790375351,pitch:-.5451854578135471,roll:6.283185307179586},"柱状":{Cartesian3:{x:-4128321.973614205,y:2889588.810117088,z:-3912590.634992541},heading:4.707156513009547,pitch:-.41235417870811397,roll:.0035480416143034432},"城市设计":{Cartesian3:{x:115.00022575830863,y:39.00995653484486,z:500},heading:1.705646,pitch:-.499956,roll:0}}}}.call(t,i,t,e))||(e.exports=s)},kjlJ:function(e,t){e.exports={effects:[{name:"トレイルライン",id:0,thumbnail:"static/images/thumbnails/airlinesTrailLines.jpg",description:"フライトトレイル"},{name:"スキャンライン",id:1,thumbnail:"static/images/thumbnails/scanEffect.jpg",description:"スキャンライン"},{name:"雪が降る",id:2,proxiedUrl:"https://maptiles.supermapol.com/iserver/services/3D-local3DCache-GlobalTIN30M/rest/realspace/datas/Global_TIN_30M",thumbnail:"static/images/thumbnails/rainAndSnow.jpg",description:"雪が降る",cameraParama:{Cartesian3:{x:-1195147.3151832097,y:5330007.753224254,z:3303445.928676469},heading:1.356447048566487,pitch:-.13640571597707818,roll:2.5845992013273644e-13}},{name:"熱力図",id:3,thumbnail:"static/images/thumbnails/HeatMap.jpg",description:"熱力図"},{name:"風見場",id:4,thumbnail:"static/images/thumbnails/windParticle.jpg",description:"風見場"}]}},lRwf:function(e,t){e.exports=Vue},lUyW:function(e,t){},lZcf:function(e,t){},"nh/u":function(e,t){e.exports={effects:[{name:"尾迹线",id:0,thumbnail:"static/images/thumbnails/airlinesTrailLines.jpg",description:"航班尾迹线"},{name:"扫描线",id:1,thumbnail:"static/images/thumbnails/scanEffect.jpg",description:"扫描线特效"},{name:"雨雪",id:2,proxiedUrl:"https://maptiles.supermapol.com/iserver/services/3D-local3DCache-GlobalTIN30M/rest/realspace/datas/Global_TIN_30M",thumbnail:"static/images/thumbnails/rainAndSnow.jpg",description:"雨雪",cameraParama:{Cartesian3:{x:-1195147.3151832097,y:5330007.753224254,z:3303445.928676469},heading:1.356447048566487,pitch:-.13640571597707818,roll:2.5845992013273644e-13}},{name:"热力图",id:3,thumbnail:"static/images/thumbnails/HeatMap.jpg",description:"热力图"},{name:"风场",id:4,thumbnail:"static/images/thumbnails/windParticle.jpg",description:"风场"}]}},oRN7:function(e,t){},ozTt:function(e,t){},pNS1:function(e,t){},pZdB:function(e,t){e.exports={totalPage:1,content:[{id:0,type:"REALSPACE",thumbnail:"static/images/webServeImg/CBD.jpg",proxiedUrl:"https://www.supermapol.com/realspace/services/3D-CBDCache20200416/rest/realspace",sceneName:"北京CBD",state:0},{id:1,type:"REALSPACE",thumbnail:"static/images/webServeImg/Sophia.jpg",proxiedUrl:"https://www.supermapol.com/realspace/services/3D-suofeiya_church/rest/realspace",sceneName:"索菲亚教堂",state:0},{id:4,type:"REALSPACE",thumbnail:"static/images/webServeImg/ZfTerranAndImagery.jpg",proxiedUrl:"https://www.supermapol.com/proxy/realspace/services/3D-ZF_normal/rest/realspace",sceneName:"珠峰地形影像",state:0},{id:5,type:"REALSPACE",thumbnail:"static/images/webServeImg/BIM.jpg",proxiedUrl:"https://www.supermapol.com/realspace/services/3D-wireFrame/rest/realspace",sceneName:"BIM建筑",state:0},{id:6,type:"REALSPACE",thumbnail:"static/images/webServeImg/PointCloud.jpg",proxiedUrl:"https://www.supermapol.com/realspace/services/3D-cloud/rest/realspace",sceneName:"点云",state:0},{id:7,type:"REALSPACE",thumbnail:"static/images/webServeImg/VolumeRendering.jpg",proxiedUrl:"https://www.supermapol.com/realspace/services/3D-tishuju/rest/realspace",sceneName:"体数据",state:0},{id:8,type:"REALSPACE",thumbnail:"static/images/webServeImg/Histogram.jpg",proxiedUrl:" https://www.supermapol.com/realspace/services/3D-Histogram/rest/realspace",sceneName:"柱状图",state:0},{id:9,type:"SCP",thumbnail:"static/images/webServeImg/Household.jpg",proxiedUrl:"https://www.supermapol.com/realspace/services/3D-FCFH_Shangdong/rest/realspace/datas/config/config",sceneName:"倾斜分层分户",state:0},{id:10,type:"REALSPACE",thumbnail:"static/images/webServeImg/VectorThematicMap.jpg",proxiedUrl:"https://www.supermapol.com/realspace/services/3D-five-vector/rest/realspace",sceneName:"矢量专题图",state:0},{id:11,type:"ThematicMap",thumbnail:"static/images/webServeImg/cqbm.jpg",proxiedUrl:"https://www.supermapol.com/realspace/services/3D-CQmodel_wireframe_2000/rest/realspace/datas/CQmodel/config",sceneName:"重庆白模",S3MLayer:!0,state:0},{id:12,type:"ThematicMap",thumbnail:"static/images/webServeImg/hbbm.jpg",proxiedUrl:"https://www.supermapol.com/realspace/services/3D-XinBaiMo/rest/realspace/datas/%E4%B8%80%E8%88%AC%E5%AE%B6%E5%B1%8B/config",sceneName:"横滨白模",S3MLayer:!0,state:0}]}},qA97:function(e,t){e.exports={hotSpots:[{id:0,type:"HOT",thumbnail:"static/images/webServeImg/ChinaEpidemic.jpg",proxiedUrl:["https://www.supermapol.com/realspace/services/3D-YiQing5/rest/realspace/datas/%E5%B8%82%E7%BA%A7%E8%A1%8C%E6%94%BF%E5%8C%BA%E5%88%92_%E7%AE%80%E5%8C%96@AdministrativeArea/config","https://www.supermapol.com/realspace/services/3D-YiQing5/rest/realspace/datas/China_Boundary_C_ln@China/config","https://www.supermapol.com/realspace/services/3D-YiQing5/rest/realspace/datas/%E6%96%87%E5%AD%97%E6%A0%87%E7%AD%BEpng/config","https://www.supermapol.com/realspace/services/3D-YiQing5/rest/realspace/datas/%E5%B8%82%E7%BA%A7%E8%A1%8C%E6%94%BF%E5%8C%BA%E5%88%92%E6%A0%87%E7%AD%BE/config","https://www.supermapol.com/realspace/services/3D-YiQing5/rest/realspace/datas/Province_R@China/config"],name:["市级行政区划_简化@AdministrativeArea","China_Boundary_C_ln@China","文字标签png","市级行政区划标签","Province_R@China"],sceneName:"中国疫情地图",state:0},{id:1,type:"HOT",thumbnail:"static/images/webServeImg/WorldEpidemic.jpg",proxiedUrl:["https://www.supermapol.com/realspace/services/3D-worldmapJianHua/rest/realspace/datas/China_Boundary_C_ln@China/config","https://www.supermapol.com/realspace/services/3D-worldmapJianHua/rest/realspace/datas/World%E6%A0%87%E7%AD%BE/config","https://www.supermapol.com/realspace/services/3D-worldmapJianHua/rest/realspace/datas/World_%E7%AE%80%E5%8C%96/config"],name:["China_Boundary_C_ln@China","World标签","World_简化"],sceneName:"全球疫情地图",state:0}]}},qEBa:function(e,t){},qIAb:function(e,t){},v2aE:function(e,t){},wAoC:function(e,t){e.exports={effects:[{name:"Trail lines",id:0,thumbnail:"static/images/thumbnails/airlinesTrailLines.jpg",description:"Airline trail lines"},{name:"Scan line",id:1,thumbnail:"static/images/thumbnails/scanEffect.jpg",description:"Scan line effect"},{name:"RainAndSnow",id:2,proxiedUrl:"https://maptiles.supermapol.com/iserver/services/3D-local3DCache-GlobalTIN30M/rest/realspace/datas/Global_TIN_30M",thumbnail:"static/images/thumbnails/rainAndSnow.jpg",description:"RainAndSnow",cameraParama:{Cartesian3:{x:-1195147.3151832097,y:5330007.753224254,z:3303445.928676469},heading:1.356447048566487,pitch:-.13640571597707818,roll:2.5845992013273644e-13}},{name:"Heat Map",id:3,thumbnail:"static/images/thumbnails/HeatMap.jpg",description:"Heat Map"},{name:"Wind particle",id:4,thumbnail:"static/images/thumbnails/windParticle.jpg",description:"Wind particle"}]}},xPTz:function(e,t){},yG1u:function(e,t){},zbOa:function(e,t){e.exports={totalPage:1,content:[{id:0,type:"REALSPACE",thumbnail:"static/images/webServeImg/CBD.jpg",proxiedUrl:"https://www.supermapol.com/realspace/services/3D-CBDCache20200416/rest/realspace",sceneName:"CBD",state:0},{id:1,type:"REALSPACE",thumbnail:"static/images/webServeImg/Sophia.jpg",proxiedUrl:"https://www.supermapol.com/realspace/services/3D-suofeiya_church/rest/realspace",sceneName:"ソフィア大聖堂",state:0},{id:4,type:"REALSPACE",thumbnail:"static/images/webServeImg/ZfTerranAndImagery.jpg",proxiedUrl:"https://www.supermapol.com/proxy/realspace/services/3D-ZF_normal/rest/realspace",sceneName:"ヒマラヤ",state:0},{id:5,type:"REALSPACE",thumbnail:"static/images/webServeImg/BIM.jpg",proxiedUrl:"https://www.supermapol.com/realspace/services/3D-wireFrame/rest/realspace",sceneName:"BIM建築",state:0},{id:6,type:"REALSPACE",thumbnail:"static/images/webServeImg/PointCloud.jpg",proxiedUrl:"https://www.supermapol.com/realspace/services/3D-cloud/rest/realspace",sceneName:"点雲",state:0},{id:7,type:"REALSPACE",thumbnail:"static/images/webServeImg/VolumeRendering.jpg",proxiedUrl:"https://www.supermapol.com/realspace/services/3D-tishuju/rest/realspace",sceneName:"体データ",state:0},{id:8,type:"REALSPACE",thumbnail:"static/images/webServeImg/Histogram.jpg",proxiedUrl:" https://www.supermapol.com/realspace/services/3D-Histogram/rest/realspace",sceneName:"ヒストグラム",state:0},{id:9,type:"SCP",thumbnail:"static/images/webServeImg/Household.jpg",proxiedUrl:"https://www.supermapol.com/realspace/services/3D-FCFH_Shangdong/rest/realspace/datas/config/config",sceneName:"傾斜成層分戸",state:0},{id:10,type:"REALSPACE",thumbnail:"static/images/webServeImg/VectorThematicMap.jpg",proxiedUrl:"https://www.supermapol.com/realspace/services/3D-five-vector/rest/realspace",sceneName:"ベクトルマップ",state:0},{id:11,type:"ThematicMap",thumbnail:"static/images/webServeImg/cqbm.jpg",proxiedUrl:"https://www.supermapol.com/realspace/services/3D-CQmodel_wireframe_2000/rest/realspace/datas/CQmodel/config",sceneName:"重慶白の鋳型",S3MLayer:!0,state:0},{id:12,type:"ThematicMap",thumbnail:"static/images/webServeImg/hbbm.jpg",proxiedUrl:"https://www.supermapol.com/realspace/services/3D-XinBaiMo/rest/realspace/datas/%E4%B8%80%E8%88%AC%E5%AE%B6%E5%B1%8B/config",sceneName:"横滨白の鋳型",S3MLayer:!0,state:0}]}}},["NHnr"]);